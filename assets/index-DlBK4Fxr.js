var Fu=Object.defineProperty;var Bu=(t,e,n)=>e in t?Fu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var W=(t,e,n)=>Bu(t,typeof e!="symbol"?e+"":e,n);import{r as j,a as zu,R as U,u as ce,L as Y,b as tn,c as As,N as Hu,d as Vu,g as Uu,B as $u,e as Wu,f as le,h as ue}from"./react-vendor-CROWdBwe.js";import{i as Et,w as Sa,n as tc,f as nc,c as rc,a as nn,b as Ca,S as wn,d as Je,p as dn,e as zr,g as _s,h as It,j as Na,k as qu,l as Gu,m as Qu,o as ic,q as Ii,r as sc,s as Ps,t as Ms,u as Yu,v as Ku,x as Xu,y as Da,z as Se,A as di,B as ac,_ as Q,P as oc,C as Zu}from"./redux-vendor-DeJdCSrU.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var lc={exports:{}},ui={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ju=j,eh=Symbol.for("react.element"),th=Symbol.for("react.fragment"),nh=Object.prototype.hasOwnProperty,rh=Ju.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ih={key:!0,ref:!0,__self:!0,__source:!0};function cc(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)nh.call(e,r)&&!ih.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:eh,type:t,key:s,ref:a,props:i,_owner:rh.current}}ui.Fragment=th;ui.jsx=cc;ui.jsxs=cc;lc.exports=ui;var l=lc.exports,ss={},Ea=zu;ss.createRoot=Ea.createRoot,ss.hydrateRoot=Ea.hydrateRoot;const hi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIUAAACFCAYAAAB12js8AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA2eSURBVHgB7Z3xleI4EsY19+b/I4P1RnBMBOuLYMlgPBEMGwHeCGAjgI2A2Qi8GwGzEbg3Avoi+M7CX7XKQqanp6GxoX7v6QGSbMAql0qlsvTOGQcA1M3LpEmPzHrgq//8+7t37764O+FfzhCyJv3apF/43gvDH02aulZYDjTCM2nSoknbJlVNWjYpc8Yw8I3BBpq5V9Kco1TnhPq8kvNTIHYsX/s6XsPw80dnXIfm4k8pCNI4vlEqdyZ4fs88UbZIlVFj7L3QOONtocoGG2DOO9enlTsTzblyfkeRKKtpe8T5cx6TR/kZu5e1dTMXQgSADfCDuwB9QqE0yDpxTBEf47scCi+o1SrV7WRuwAzS0GTDTOP8ZgTgjT8ZBXyikOSpu/oVSBfw0JP/T+KYqT6Gje6Fx//eH5vf/aFJ//Xvm5Q36Wzd3SUYlFCwgf0F2/bVaS7un6692N6wq1k3c+ejzy54PHHMT76cv82z4Hl+bfIepBLff23Sn/rg1A1guKeuoWK/fdJoU13ILMrP3CtgNyAG7DY+H3/XTv+25v1n1l+pvDple7BsljjvbgzdytVQfXr5DXXmKm+GV45CpCui4VjGdzDL92z0EsHwfRIUCrfnS3Rs0SfoaI1QYYF7HcXwAm95QT9HZdU3aIs9603UuXDpC4p2RLHid29xPDwVoVhHeVv+5rXWCDyfCNpUtAzOaycNG16gpbpAdeKuL2JtwYu3VJ/18HTPhsqHcJcpoc5U3lr+Z0/+VOVt0NP93BxstFpfMApJHV8ERLaFugP9OWZaENzAoADLHT9Xv3cd1ZvxP9WRoJSiKXiuwt0qbMRtQjP4O2Mf1S3UnXUYlfDz2RxVl4RCrA1X4Ni5VTNtWL5InKNOld0cvFB73gVyV6WcQtI1ACO3ziNN4Bv7s745eB2q6JgpBUZsje2Yr8FJELyDO/7ZCpEtgNDVrG7pQiAYlgfj8gXH7VJdzahgo4rfv0iUl/yTX3qOn+BGh2YUjE6XIVqzp/6CdUumPcZmZ6g/USv1fyThuhtxdwi6Q1CfykQd6Wa2/JzpbmcUID05VCrB0N7AaSQ8mbtD0BrTVSI/i68bNbA20ofvIufdnzIaRTBip07NY8z/r0AwwE/eLGjtsWGPTNjwq56yiuUi9RlOuLPvEdWliGE5O1FXBGfY3YnqHyeJMnHWmFY4AYKzqzpRZ6o0yVxsjkGiuolloizXmsLoR2mB1M2VIwxr40m7615b9cMLlaeDWxdRfp2yN4xvp7l+HxHY4di/U+NaBrtqZAl116MK3ddJnf1Vf/CI4bVeI0yx16r70IZ7dtXrzB9ZP1NnjhA4U15dtY0YhG55hzCZKDffMroRt29uY6B1TsVTwz5vPA6VEYLW5b+K8vTQ1afcvTUIDqcnqVV5U9aZ49Zn9a4Ejr3CH1WXcZ1RHQVgiq6X8tA9qDriiSudcXZ4fQsEF3iN/nmTI2P00j9uhsR8P7uS3h9qvA504yx2JwQipxZZukuBxMxlZOAsKcF3O4/xVqjrPkuUScgjLmprIMQSSuPHT2KvVLkZnG+A2HNRnn4ybcs6JXocYa/58gVCTOS2z16gKiud8aZQO/vGr9SNGYc37s7WjSAYjTOVt8FxoK3XFhtnvDmRMKwQbI6S5dLVnEdbsNvo+NjRDjl3zhgECJ5MHWchRqY8mV+eSyAyJIJn0RMlZFyPlN2AS/gtEBxTGUJMIRA9t+GMQSA2HZ55KArnHKLieKKr4GvujKuDEJpQo9938fRQlTsnShgOXYozBgPaIWlfDEaltP3518hQUpk5Y1BQo0vI4ywWBoQIuNydE6ohc1INENoV8vgE1Gum6njhGMUjmMYZ4A2r19Ho+C1YZ32RLsQYLmidWNpvUYsNiDBlYfbgPQGGOPD9gkIwV8JRmT14pyiBKFWe+ZbuFYR5K+smjABHIbkzDMG6CsMwDMMwDGP42DDmzqHXy7s9l/wsTzTbcOYOkf0+CtduYCIbnHhhyJok8Zk2m3ZPpIJl0EZWbTmBsmG5aY17gQIQP8OhI3fEf36RPbuM4SHdR+cZUb+tEffrOpTx9X/OuA+UJlj2lK+BO9l74o5BG7fpo7Rm771WaN781uQf9qVw7aZnYnD6DdPyJn1yxq2TN+nnJgUzAd0tmoXOo2jGuKGrITtRflij7F3qQBfsiK/KtjBGDqOvvCb4w4U2njD924X9VY17AWEx/VPU7w/qot1dt+9EE9MWN8VfTdq4sEPzgyrLnN95GWED1lqlfSQ9uTNGDx2Vs54y2fNs/9612zV/dWHE8ciUu3braI95M28Ate12iqJJfn/Yx8NDI7qEfgtZwqg2LXHnoF2XUbqOwzI5zrgZOCQtn6v3Xio3L96jmbvWefVLo2q+suwgGGZs3gRZk/yN74efftrigenRBYNzK9qh11GFdnnE0hmjh86pUxwGHX5CTFujuvs40OSZR/O2+NRofe+0/NCkX107yPCvfqrjoUmPvvvwo44vTfrbhZGHIKMQ4wZoZGGl3n/l8PSf5n3p8zioyJ8W5uw7EU5somqMCxzvALDB9y5cAtum4Sagk/IH9bnC8e4LE/kw6TmJryTrI9nwdOQoU7GmQOwRwi5nFJr8HVWKD8z9xbVDlv+4drbMv9eC8EGGqcb44E3t1+v29qMEZmeJqh/e8YC96wrAgwuub/+au3Ya/fv6H+PqUChmTRtuEvmZa9vf7zs2lYKKHswp0mswTqz7GDff0n5QW4lKfF7mjJuFN37uXgM9mV5Y/HTr2kYg4wVh6eWa7Zq77wFh4zgoL2fujNGBsFtQHbXpFmEDmQXiVf8Rluvd83OmBYGODnt8cISwbWd8P0UIquqQOlCiuTOdp97L44VmcI4YhNV3Z3wvyqBKVT652w/ChrT2+OCIQNhYbo3uet2xZ3OeOjjnAX3ezbVpivGBMF1esw1zvpdlJ8RMyPpOsOeBmcrLEbYGsEU6Rwa1RJbIg9Ia21MnmKnKNbqxFZVpidsB7ajDt+nzYZcIgbu1VjnOGCW0Bb22n7pLwS/YmtYYNhxZVOjib/LCnQtqkLX6gtIZg4VtVdPQ9F3FRrXd62zDSBj8l+z4PnfGIEHPiALdrURL9xLACO5IGAqEB1RtCn3AILFkVVTuu/+9ewno7m9ZMG+ijM+MeSF8yxgMFIpTPqfDze1eCo2UQn1eUlB0XgmzLQYHwqzoDun4mO/bqx7pFfLW6ksXCPugZ84YFAgOqpqaQdpSPNeFew2q25hGwlAyFc4YHOiGP2heN9uNsDHZLhKGiarjNUfujMFBLV/QuFyf5QZGcIAcCYOqM7Fu5Hqw4SvdXbhLgmfiKCgQy7OoJePFUCBqanKJiQGiic1LfPGqR0Pk6kdsqKJyZ7wZCJ5LMSQnbC/RGpeb84h+iNYOvtuYqTKLDH9D2PCpJSQKdcMuL6LFlSBo7VDh2JU6h+0V8mbgxNYbka1xmSUlEPzmvSvxwtbyflMQhp1JG4Ia43LBUVBBnz3l4uSSUK+ZMy4Ouo6qaVSW4dLdORJrMSIEckjkVsb8zUWl1HgisiEWvIELdw3QjbE4rJnEfP+jZJrdni47A2zsWuyIHq1QqfYo3VujNMOGP0gih7XUrmDxna8GYT2JddTwi0Rd3x7XseuUEExV3kr94MtYvHcG2lFfjW6UfaZuvLg7X+NabgEE9/acn3OE+ZFc1fuIMKm2NK3x7SAY77OeMrnew7mmqgsRZ1YdaY5M5a8QBeoYp0FrxMui+hMc2xEy8sjdkED3KaQsKpsmupiNCUY/vJEW6nPBa/hkyKuyvE+TXB1KbBXlTRA8oLnKr9SfNF+GAmF99GWUv0UikkoJTOaGSKQNZqq/kyfOMtXNlLAYzw5Qy0EkbrCnsAV0I+L8dR1HIDXCGggZP0vf59k64wkKgw5aku64TNSV7nhL4dm4sUCJ36nPYpDWph1a2L1ukbbFKkS2mCoTP1DhxgSC1bxAGDod/fl7BWE4v49vFF4v8Qa/POp6yFAwaljUdxIEQ/ypS0UwNFeqy126W0IZQxaq1wOCF1iCo3XQUsWyNW7NQwx7aKgXhJAEJGwL0SQbmC12X6jGj4ei85vTEJeGF3POlLsrgDMFsqhuxPtyPjvj5aA731Ipg1YWDb2YukVYC+xoAvAV55RnQPemHb4DhCfXyii/ZorzcwrRmq/ZiXPneOaRSGoHmRU+S3SZErTMGS9HGj/KkxnZVZQvAlQhPCcBpEPjK5bt0H3qKuv5HRUsUPn6IBhl6yi/YH6eyCujutLg2mm0TByf/C5VLnaALTp7TVRDxxFHRyu0qMbPovxZrC3YFXxJfF8FFciCsFn8Ummdwt0I/3LjJjYkc9fuZKTxcwd+V6OHKP9RnwPtHMMkcbznbxe2WBIWzPtNfc9NMFah8Hezb9SfJYMq3zfS71HdievutfocqRFLR4D8Ft9N+rFJn7iF1kOTfnI3wiiFgvuu+43wJP6gaN7LuP7PqLqvm2roaVT/ga+Z6+cgHOw+dL2//Plof5jX8ZqgHW2sEGYUU3bGKrYpoBZ1i+qK7ZBF+Z26aB1lFV/XCMtV7/BWT3kbz4Owh2qRyK+ZSjbkrkeAZKRR81wzZajqSSoJC6godJ0gGWMEKI1SscF719FAd9cCafg8Ue9mheD/H0I0sOL1JGoAAAAASUVORK5CYII=",as="/assets/image-DHOKtbJD.jpg";function dc(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=dc(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function at(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=dc(t))&&(r&&(r+=" "),r+=e);return r}const Tn=t=>typeof t=="number"&&!isNaN(t),Nt=t=>typeof t=="string",Me=t=>typeof t=="function",Mr=t=>Nt(t)||Me(t)?t:null,os=t=>j.isValidElement(t)||Nt(t)||Me(t)||Tn(t);function sh(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function fi(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=t;return function(a){let{children:o,position:c,preventExitTransition:d,done:u,nodeRef:h,isIn:p,playToast:f}=a;const g=r?`${e}--${c}`:e,m=r?`${n}--${c}`:n,b=j.useRef(0);return j.useLayoutEffect(()=>{const v=h.current,x=g.split(" "),y=w=>{w.target===h.current&&(f(),v.removeEventListener("animationend",y),v.removeEventListener("animationcancel",y),b.current===0&&w.type!=="animationcancel"&&v.classList.remove(...x))};v.classList.add(...x),v.addEventListener("animationend",y),v.addEventListener("animationcancel",y)},[]),j.useEffect(()=>{const v=h.current,x=()=>{v.removeEventListener("animationend",x),i?sh(v,u,s):u()};p||(d?x():(b.current=1,v.className+=` ${m}`,v.addEventListener("animationend",x)))},[p]),U.createElement(U.Fragment,null,o)}}function Ia(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const De=new Map;let kn=[];const ls=new Set,ah=t=>ls.forEach(e=>e(t)),uc=()=>De.size>0;function hc(t,e){var n;if(e)return!((n=De.get(e))==null||!n.isToastActive(t));let r=!1;return De.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function fc(t,e){os(t)&&(uc()||kn.push({content:t,options:e}),De.forEach(n=>{n.buildToast(t,e)}))}function Aa(t,e){De.forEach(n=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===n.id&&n.toggle(t,e==null?void 0:e.id):n.toggle(t,e==null?void 0:e.id)})}function oh(t){const{subscribe:e,getSnapshot:n,setProps:r}=j.useRef(function(s){const a=s.containerId||1;return{subscribe(o){const c=function(u,h,p){let f=1,g=0,m=[],b=[],v=[],x=h;const y=new Map,w=new Set,S=()=>{v=Array.from(y.values()),w.forEach(I=>I())},C=I=>{b=I==null?[]:b.filter(E=>E!==I),S()},N=I=>{const{toastId:E,onOpen:D,updateId:A,children:_}=I.props,P=A==null;I.staleId&&y.delete(I.staleId),y.set(E,I),b=[...b,I.props.toastId].filter(R=>R!==I.staleId),S(),p(Ia(I,P?"added":"updated")),P&&Me(D)&&D(j.isValidElement(_)&&_.props)};return{id:u,props:x,observe:I=>(w.add(I),()=>w.delete(I)),toggle:(I,E)=>{y.forEach(D=>{E!=null&&E!==D.props.toastId||Me(D.toggle)&&D.toggle(I)})},removeToast:C,toasts:y,clearQueue:()=>{g-=m.length,m=[]},buildToast:(I,E)=>{if((k=>{let{containerId:V,toastId:q,updateId:G}=k;const ne=V?V!==u:u!==1,J=y.has(q)&&G==null;return ne||J})(E))return;const{toastId:D,updateId:A,data:_,staleId:P,delay:R}=E,M=()=>{C(D)},O=A==null;O&&g++;const H={...x,style:x.toastStyle,key:f++,...Object.fromEntries(Object.entries(E).filter(k=>{let[V,q]=k;return q!=null})),toastId:D,updateId:A,data:_,closeToast:M,isIn:!1,className:Mr(E.className||x.toastClassName),bodyClassName:Mr(E.bodyClassName||x.bodyClassName),progressClassName:Mr(E.progressClassName||x.progressClassName),autoClose:!E.isLoading&&(z=E.autoClose,B=x.autoClose,z===!1||Tn(z)&&z>0?z:B),deleteToast(){const k=y.get(D),{onClose:V,children:q}=k.props;Me(V)&&V(j.isValidElement(q)&&q.props),p(Ia(k,"removed")),y.delete(D),g--,g<0&&(g=0),m.length>0?N(m.shift()):S()}};var z,B;H.closeButton=x.closeButton,E.closeButton===!1||os(E.closeButton)?H.closeButton=E.closeButton:E.closeButton===!0&&(H.closeButton=!os(x.closeButton)||x.closeButton);let F=I;j.isValidElement(I)&&!Nt(I.type)?F=j.cloneElement(I,{closeToast:M,toastProps:H,data:_}):Me(I)&&(F=I({closeToast:M,toastProps:H,data:_}));const K={content:F,props:H,staleId:P};x.limit&&x.limit>0&&g>x.limit&&O?m.push(K):Tn(R)?setTimeout(()=>{N(K)},R):N(K)},setProps(I){x=I},setToggle:(I,E)=>{y.get(I).toggle=E},isToastActive:I=>b.some(E=>E===I),getSnapshot:()=>v}}(a,s,ah);De.set(a,c);const d=c.observe(o);return kn.forEach(u=>fc(u.content,u.options)),kn=[],()=>{d(),De.delete(a)}},setProps(o){var c;(c=De.get(a))==null||c.setProps(o)},getSnapshot(){var o;return(o=De.get(a))==null?void 0:o.getSnapshot()}}}(t)).current;r(t);const i=j.useSyncExternalStore(e,n,n);return{getToastToRender:function(s){if(!i)return[];const a=new Map;return t.newestOnTop&&i.reverse(),i.forEach(o=>{const{position:c}=o.props;a.has(c)||a.set(c,[]),a.get(c).push(o)}),Array.from(a,o=>s(o[0],o[1]))},isToastActive:hc,count:i==null?void 0:i.length}}function lh(t){const[e,n]=j.useState(!1),[r,i]=j.useState(!1),s=j.useRef(null),a=j.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:o,pauseOnHover:c,closeToast:d,onClick:u,closeOnClick:h}=t;var p,f;function g(){n(!0)}function m(){n(!1)}function b(y){const w=s.current;a.canDrag&&w&&(a.didMove=!0,e&&m(),a.delta=t.draggableDirection==="x"?y.clientX-a.start:y.clientY-a.start,a.start!==y.clientX&&(a.canCloseOnClick=!1),w.style.transform=`translate3d(${t.draggableDirection==="x"?`${a.delta}px, var(--y)`:`0, calc(${a.delta}px + var(--y))`},0)`,w.style.opacity=""+(1-Math.abs(a.delta/a.removalDistance)))}function v(){document.removeEventListener("pointermove",b),document.removeEventListener("pointerup",v);const y=s.current;if(a.canDrag&&a.didMove&&y){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance)return i(!0),t.closeToast(),void t.collapseAll();y.style.transition="transform 0.2s, opacity 0.2s",y.style.removeProperty("transform"),y.style.removeProperty("opacity")}}(f=De.get((p={id:t.toastId,containerId:t.containerId,fn:n}).containerId||1))==null||f.setToggle(p.id,p.fn),j.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||m(),window.addEventListener("focus",g),window.addEventListener("blur",m),()=>{window.removeEventListener("focus",g),window.removeEventListener("blur",m)}},[t.pauseOnFocusLoss]);const x={onPointerDown:function(y){if(t.draggable===!0||t.draggable===y.pointerType){a.didMove=!1,document.addEventListener("pointermove",b),document.addEventListener("pointerup",v);const w=s.current;a.canCloseOnClick=!0,a.canDrag=!0,w.style.transition="none",t.draggableDirection==="x"?(a.start=y.clientX,a.removalDistance=w.offsetWidth*(t.draggablePercent/100)):(a.start=y.clientY,a.removalDistance=w.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(y){const{top:w,bottom:S,left:C,right:N}=s.current.getBoundingClientRect();y.nativeEvent.type!=="touchend"&&t.pauseOnHover&&y.clientX>=C&&y.clientX<=N&&y.clientY>=w&&y.clientY<=S?m():g()}};return o&&c&&(x.onMouseEnter=m,t.stacked||(x.onMouseLeave=g)),h&&(x.onClick=y=>{u&&u(y),a.canCloseOnClick&&d()}),{playToast:g,pauseToast:m,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:x}}function ch(t){let{delay:e,isRunning:n,closeToast:r,type:i="default",hide:s,className:a,style:o,controlledProgress:c,progress:d,rtl:u,isIn:h,theme:p}=t;const f=s||c&&d===0,g={...o,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};c&&(g.transform=`scaleX(${d})`);const m=at("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${p}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":u}),b=Me(a)?a({rtl:u,type:i,defaultClassName:m}):at(m,a),v={[c&&d>=1?"onTransitionEnd":"onAnimationEnd"]:c&&d<1?null:()=>{h&&r()}};return U.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},U.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${p} Toastify__progress-bar--${i}`}),U.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:b,style:g,...v}))}let dh=1;const pc=()=>""+dh++;function uh(t){return t&&(Nt(t.toastId)||Tn(t.toastId))?t.toastId:pc()}function Dn(t,e){return fc(t,e),e.toastId}function Hr(t,e){return{...e,type:e&&e.type||t,toastId:uh(e)}}function er(t){return(e,n)=>Dn(e,Hr(t,n))}function T(t,e){return Dn(t,Hr("default",e))}T.loading=(t,e)=>Dn(t,Hr("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),T.promise=function(t,e,n){let r,{pending:i,error:s,success:a}=e;i&&(r=Nt(i)?T.loading(i,n):T.loading(i.render,{...n,...i}));const o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(u,h,p)=>{if(h==null)return void T.dismiss(r);const f={type:u,...o,...n,data:p},g=Nt(h)?{render:h}:h;return r?T.update(r,{...f,...g}):T(g.render,{...f,...g}),p},d=Me(t)?t():t;return d.then(u=>c("success",a,u)).catch(u=>c("error",s,u)),d},T.success=er("success"),T.info=er("info"),T.error=er("error"),T.warning=er("warning"),T.warn=T.warning,T.dark=(t,e)=>Dn(t,Hr("default",{theme:"dark",...e})),T.dismiss=function(t){(function(e){var n;if(uc()){if(e==null||Nt(n=e)||Tn(n))De.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const r=De.get(e.containerId);r?r.removeToast(e.id):De.forEach(i=>{i.removeToast(e.id)})}}else kn=kn.filter(r=>e!=null&&r.options.toastId!==e)})(t)},T.clearWaitingQueue=function(t){t===void 0&&(t={}),De.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},T.isActive=hc,T.update=function(t,e){e===void 0&&(e={});const n=((r,i)=>{var s;let{containerId:a}=i;return(s=De.get(a||1))==null?void 0:s.toasts.get(r)})(t,e);if(n){const{props:r,content:i}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:pc()};s.toastId!==t&&(s.staleId=t);const a=s.render||i;delete s.render,Dn(a,s)}},T.done=t=>{T.update(t,{progress:1})},T.onChange=function(t){return ls.add(t),()=>{ls.delete(t)}},T.play=t=>Aa(!0,t),T.pause=t=>Aa(!1,t);const hh=typeof window<"u"?j.useLayoutEffect:j.useEffect,tr=t=>{let{theme:e,type:n,isLoading:r,...i}=t;return U.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...i})},Ai={info:function(t){return U.createElement(tr,{...t},U.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return U.createElement(tr,{...t},U.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return U.createElement(tr,{...t},U.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return U.createElement(tr,{...t},U.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return U.createElement("div",{className:"Toastify__spinner"})}},fh=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=lh(t),{closeButton:a,children:o,autoClose:c,onClick:d,type:u,hideProgressBar:h,closeToast:p,transition:f,position:g,className:m,style:b,bodyClassName:v,bodyStyle:x,progressClassName:y,progressStyle:w,updateId:S,role:C,progress:N,rtl:I,toastId:E,deleteToast:D,isIn:A,isLoading:_,closeOnClick:P,theme:R}=t,M=at("Toastify__toast",`Toastify__toast-theme--${R}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":I},{"Toastify__toast--close-on-click":P}),O=Me(m)?m({rtl:I,position:g,type:u,defaultClassName:M}):at(M,m),H=function(K){let{theme:k,type:V,isLoading:q,icon:G}=K,ne=null;const J={theme:k,type:V};return G===!1||(Me(G)?ne=G({...J,isLoading:q}):j.isValidElement(G)?ne=j.cloneElement(G,J):q?ne=Ai.spinner():(Re=>Re in Ai)(V)&&(ne=Ai[V](J))),ne}(t),z=!!N||!c,B={closeToast:p,type:u,theme:R};let F=null;return a===!1||(F=Me(a)?a(B):j.isValidElement(a)?j.cloneElement(a,B):function(K){let{closeToast:k,theme:V,ariaLabel:q="close"}=K;return U.createElement("button",{className:`Toastify__close-button Toastify__close-button--${V}`,type:"button",onClick:G=>{G.stopPropagation(),k(G)},"aria-label":q},U.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},U.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(B)),U.createElement(f,{isIn:A,done:D,position:g,preventExitTransition:n,nodeRef:r,playToast:s},U.createElement("div",{id:E,onClick:d,"data-in":A,className:O,...i,style:b,ref:r},U.createElement("div",{...A&&{role:C},className:Me(v)?v({type:u}):at("Toastify__toast-body",v),style:x},H!=null&&U.createElement("div",{className:at("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!_})},H),U.createElement("div",null,o)),F,U.createElement(ch,{...S&&!z?{key:`pb-${S}`}:{},rtl:I,theme:R,delay:c,isRunning:e,isIn:A,closeToast:p,hide:h,type:u,style:w,className:y,controlledProgress:z,progress:N||0})))},pi=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},ph=fi(pi("bounce",!0));fi(pi("slide",!0));fi(pi("zoom"));fi(pi("flip"));const gh={position:"top-right",transition:ph,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function mh(t){let e={...gh,...t};const n=t.stacked,[r,i]=j.useState(!0),s=j.useRef(null),{getToastToRender:a,isToastActive:o,count:c}=oh(e),{className:d,style:u,rtl:h,containerId:p}=e;function f(m){const b=at("Toastify__toast-container",`Toastify__toast-container--${m}`,{"Toastify__toast-container--rtl":h});return Me(d)?d({position:m,rtl:h,defaultClassName:b}):at(b,Mr(d))}function g(){n&&(i(!0),T.play())}return hh(()=>{if(n){var m;const b=s.current.querySelectorAll('[data-in="true"]'),v=12,x=(m=e.position)==null?void 0:m.includes("top");let y=0,w=0;Array.from(b).reverse().forEach((S,C)=>{const N=S;N.classList.add("Toastify__toast--stacked"),C>0&&(N.dataset.collapsed=`${r}`),N.dataset.pos||(N.dataset.pos=x?"top":"bot");const I=y*(r?.2:1)+(r?0:v*C);N.style.setProperty("--y",`${x?I:-1*I}px`),N.style.setProperty("--g",`${v}`),N.style.setProperty("--s",""+(1-(r?w:0))),y+=N.offsetHeight,w+=.025})}},[r,c,n]),U.createElement("div",{ref:s,className:"Toastify",id:p,onMouseEnter:()=>{n&&(i(!1),T.pause())},onMouseLeave:g},a((m,b)=>{const v=b.length?{...u}:{...u,pointerEvents:"none"};return U.createElement("div",{className:f(m),style:v,key:`container-${m}`},b.map(x=>{let{content:y,props:w}=x;return U.createElement(fh,{...w,stacked:n,collapseAll:g,isIn:o(w.toastId,w.containerId),style:w.style,key:`toast-${w.key}`},y)}))}))}var gc={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},_a=U.createContext&&U.createContext(gc),xh=["attr","size","title"];function vh(t,e){if(t==null)return{};var n=bh(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bh(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Vr(){return Vr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vr.apply(this,arguments)}function Pa(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ur(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pa(Object(n),!0).forEach(function(r){yh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pa(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yh(t,e,n){return e=wh(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wh(t){var e=jh(t,"string");return typeof e=="symbol"?e:e+""}function jh(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mc(t){return t&&t.map((e,n)=>U.createElement(e.tag,Ur({key:n},e.attr),mc(e.child)))}function te(t){return e=>U.createElement(Sh,Vr({attr:Ur({},t.attr)},e),mc(t.child))}function Sh(t){var e=n=>{var{attr:r,size:i,title:s}=t,a=vh(t,xh),o=i||n.size||"1em",c;return n.className&&(c=n.className),t.className&&(c=(c?c+" ":"")+t.className),U.createElement("svg",Vr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:c,style:Ur(Ur({color:t.color||n.color},n.style),t.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),s&&U.createElement("title",null,s),t.children)};return _a!==void 0?U.createElement(_a.Consumer,null,n=>e(n)):e(gc)}function Ch(t){return te({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(t)}function Nh(t){return te({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(t)}function Dh(t){return te({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(t)}function Eh(t){return te({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function Ih(t){return te({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function gi(t){return te({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function Ah(t){return te({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function $r(t){return te({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(t)}function Kt(t){return te({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function _h(t){return te({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M96 32H32C14.33 32 0 46.33 0 64v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zm0 160H32c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm0 160H32c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zM288 32h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zm0 160h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm0 160h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function xc(t){return te({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M192 208c0-17.67-14.33-32-32-32h-16c-35.35 0-64 28.65-64 64v48c0 35.35 28.65 64 64 64h16c17.67 0 32-14.33 32-32V208zm176 144c35.35 0 64-28.65 64-64v-48c0-35.35-28.65-64-64-64h-16c-17.67 0-32 14.33-32 32v112c0 17.67 14.33 32 32 32h16zM256 0C113.18 0 4.58 118.83 0 256v16c0 8.84 7.16 16 16 16h16c8.84 0 16-7.16 16-16v-16c0-114.69 93.31-208 208-208s208 93.31 208 208h-.12c.08 2.43.12 165.72.12 165.72 0 23.35-18.93 42.28-42.28 42.28H320c0-26.51-21.49-48-48-48h-32c-26.51 0-48 21.49-48 48s21.49 48 48 48h181.72c49.86 0 90.28-40.42 90.28-90.28V256C507.42 118.83 398.82 0 256 0z"},child:[]}]})(t)}function vc(t){return te({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(t)}function kt(t){return te({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(t)}function Ph(t){return te({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}function cs(t){return te({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function Ot(t){return te({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M149.333 56v80c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24h101.333c13.255 0 24 10.745 24 24zm181.334 240v-80c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24h101.333c13.256 0 24.001-10.745 24.001-24zm32-240v80c0 13.255 10.745 24 24 24H488c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24H386.667c-13.255 0-24 10.745-24 24zm-32 80V56c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24h101.333c13.256 0 24.001-10.745 24.001-24zm-205.334 56H24c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24zM0 376v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm386.667-56H488c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H386.667c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24zm0 160H488c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H386.667c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24zM181.333 376v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24z"},child:[]}]})(t)}function Mh(t){return te({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M298.028 214.267L285.793 96H328c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v48c0 13.255 10.745 24 24 24h42.207L85.972 214.267C37.465 236.82 0 277.261 0 328c0 13.255 10.745 24 24 24h136v104.007c0 1.242.289 2.467.845 3.578l24 48c2.941 5.882 11.364 5.893 14.311 0l24-48a8.008 8.008 0 0 0 .845-3.578V352h136c13.255 0 24-10.745 24-24-.001-51.183-37.983-91.42-85.973-113.733z"},child:[]}]})(t)}function At(t){return te({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function Th(t){return te({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function kh(t){return te({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}var bc=(t=>(t.uninitialized="uninitialized",t.pending="pending",t.fulfilled="fulfilled",t.rejected="rejected",t))(bc||{});function Oh(t){return{status:t,isUninitialized:t==="uninitialized",isLoading:t==="pending",isSuccess:t==="fulfilled",isError:t==="rejected"}}var Ma=Et;function yc(t,e){if(t===e||!(Ma(t)&&Ma(e)||Array.isArray(t)&&Array.isArray(e)))return e;const n=Object.keys(e),r=Object.keys(t);let i=n.length===r.length;const s=Array.isArray(e)?[]:{};for(const a of n)s[a]=yc(t[a],e[a]),i&&(i=t[a]===s[a]);return i?t:s}function qt(t){let e=0;for(const n in t)e++;return e}var Ta=t=>[].concat(...t);function Rh(t){return new RegExp("(^|:)//").test(t)}function Lh(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}function Wr(t){return t!=null}function Fh(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}var Bh=t=>t.replace(/\/$/,""),zh=t=>t.replace(/^\//,"");function Hh(t,e){if(!t)return e;if(!e)return t;if(Rh(e))return e;const n=t.endsWith("/")||!e.startsWith("?")?"/":"";return t=Bh(t),e=zh(e),`${t}${n}${e}`}function Vh(t,e,n){return t.has(e)?t.get(e):t.set(e,n).get(e)}var ka=(...t)=>fetch(...t),Uh=t=>t.status>=200&&t.status<=299,$h=t=>/ion\/(vnd\.api\+)?json/.test(t.get("content-type")||"");function Oa(t){if(!Et(t))return t;const e={...t};for(const[n,r]of Object.entries(e))r===void 0&&delete e[n];return e}function Wh({baseUrl:t,prepareHeaders:e=h=>h,fetchFn:n=ka,paramsSerializer:r,isJsonContentType:i=$h,jsonContentType:s="application/json",jsonReplacer:a,timeout:o,responseHandler:c,validateStatus:d,...u}={}){return typeof fetch>"u"&&n===ka&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),async(p,f,g)=>{const{getState:m,extra:b,endpoint:v,forced:x,type:y}=f;let w,{url:S,headers:C=new Headers(u.headers),params:N=void 0,responseHandler:I=c??"json",validateStatus:E=d??Uh,timeout:D=o,...A}=typeof p=="string"?{url:p}:p,_,P=f.signal;D&&(_=new AbortController,f.signal.addEventListener("abort",_.abort),P=_.signal);let R={...u,signal:P,...A};C=new Headers(Oa(C)),R.headers=await e(C,{getState:m,arg:p,extra:b,endpoint:v,forced:x,type:y,extraOptions:g})||C;const M=q=>typeof q=="object"&&(Et(q)||Array.isArray(q)||typeof q.toJSON=="function");if(!R.headers.has("content-type")&&M(R.body)&&R.headers.set("content-type",s),M(R.body)&&i(R.headers)&&(R.body=JSON.stringify(R.body,a)),N){const q=~S.indexOf("?")?"&":"?",G=r?r(N):new URLSearchParams(Oa(N));S+=q+G}S=Hh(t,S);const O=new Request(S,R);w={request:new Request(S,R)};let z,B=!1,F=_&&setTimeout(()=>{B=!0,_.abort()},D);try{z=await n(O)}catch(q){return{error:{status:B?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(q)},meta:w}}finally{F&&clearTimeout(F),_==null||_.signal.removeEventListener("abort",_.abort)}const K=z.clone();w.response=K;let k,V="";try{let q;if(await Promise.all([h(z,I).then(G=>k=G,G=>q=G),K.text().then(G=>V=G,()=>{})]),q)throw q}catch(q){return{error:{status:"PARSING_ERROR",originalStatus:z.status,data:V,error:String(q)},meta:w}}return E(z,k)?{data:k,meta:w}:{error:{status:z.status,data:k},meta:w}};async function h(p,f){if(typeof f=="function")return f(p);if(f==="content-type"&&(f=i(p.headers)?"json":"text"),f==="json"){const g=await p.text();return g.length?JSON.parse(g):null}return p.text()}}var Ra=class{constructor(t,e=void 0){this.value=t,this.meta=e}},Ts=nn("__rtkq/focused"),wc=nn("__rtkq/unfocused"),ks=nn("__rtkq/online"),jc=nn("__rtkq/offline");function Sc(t){return t.type==="query"}function qh(t){return t.type==="mutation"}function Os(t,e,n,r,i,s){return Gh(t)?t(e,n,r,i).filter(Wr).map(ds).map(s):Array.isArray(t)?t.map(ds).map(s):[]}function Gh(t){return typeof t=="function"}function ds(t){return typeof t=="string"?{type:t}:t}function Qh(t,e){return t.catch(e)}var On=Symbol("forceQueryFn"),us=t=>typeof t[On]=="function";function Yh({serializeQueryArgs:t,queryThunk:e,mutationThunk:n,api:r,context:i}){const s=new Map,a=new Map,{unsubscribeQueryResult:o,removeMutationResult:c,updateSubscriptionOptions:d}=r.internalActions;return{buildInitiateQuery:g,buildInitiateMutation:m,getRunningQueryThunk:u,getRunningMutationThunk:h,getRunningQueriesThunk:p,getRunningMutationsThunk:f};function u(b,v){return x=>{var S;const y=i.endpointDefinitions[b],w=t({queryArgs:v,endpointDefinition:y,endpointName:b});return(S=s.get(x))==null?void 0:S[w]}}function h(b,v){return x=>{var y;return(y=a.get(x))==null?void 0:y[v]}}function p(){return b=>Object.values(s.get(b)||{}).filter(Wr)}function f(){return b=>Object.values(a.get(b)||{}).filter(Wr)}function g(b,v){const x=(y,{subscribe:w=!0,forceRefetch:S,subscriptionOptions:C,[On]:N,...I}={})=>(E,D)=>{var k;const A=t({queryArgs:y,endpointDefinition:v,endpointName:b}),_=e({...I,type:"query",subscribe:w,forceRefetch:S,subscriptionOptions:C,endpointName:b,originalArgs:y,queryCacheKey:A,[On]:N}),P=r.endpoints[b].select(y),R=E(_),M=P(D()),{requestId:O,abort:H}=R,z=M.requestId!==O,B=(k=s.get(E))==null?void 0:k[A],F=()=>P(D()),K=Object.assign(N?R.then(F):z&&!B?Promise.resolve(M):Promise.all([B,R]).then(F),{arg:y,requestId:O,subscriptionOptions:C,queryCacheKey:A,abort:H,async unwrap(){const V=await K;if(V.isError)throw V.error;return V.data},refetch:()=>E(x(y,{subscribe:!1,forceRefetch:!0})),unsubscribe(){w&&E(o({queryCacheKey:A,requestId:O}))},updateSubscriptionOptions(V){K.subscriptionOptions=V,E(d({endpointName:b,requestId:O,queryCacheKey:A,options:V}))}});if(!B&&!z&&!N){const V=Vh(s,E,{});V[A]=K,K.then(()=>{delete V[A],qt(V)||s.delete(E)})}return K};return x}function m(b){return(v,{track:x=!0,fixedCacheKey:y}={})=>(w,S)=>{const C=n({type:"mutation",endpointName:b,originalArgs:v,track:x,fixedCacheKey:y}),N=w(C),{requestId:I,abort:E,unwrap:D}=N,A=Qh(N.unwrap().then(M=>({data:M})),M=>({error:M})),_=()=>{w(c({requestId:I,fixedCacheKey:y}))},P=Object.assign(A,{arg:N.arg,requestId:I,abort:E,unwrap:D,reset:_}),R=a.get(w)||{};return a.set(w,R),R[I]=P,P.then(()=>{delete R[I],qt(R)||a.delete(w)}),y&&(R[y]=P,P.then(()=>{R[y]===P&&(delete R[y],qt(R)||a.delete(w))})),P}}}function La(t){return t}function Kh({reducerPath:t,baseQuery:e,context:{endpointDefinitions:n},serializeQueryArgs:r,api:i,assertTagType:s}){const a=(x,y,w,S)=>(C,N)=>{const I=n[x],E=r({queryArgs:y,endpointDefinition:I,endpointName:x});if(C(i.internalActions.queryResultPatched({queryCacheKey:E,patches:w})),!S)return;const D=i.endpoints[x].select(y)(N()),A=Os(I.providesTags,D.data,void 0,y,{},s);C(i.internalActions.updateProvidedBy({queryCacheKey:E,providedTags:A}))},o=(x,y,w,S=!0)=>(C,N)=>{const E=i.endpoints[x].select(y)(N()),D={patches:[],inversePatches:[],undo:()=>C(i.util.patchQueryData(x,y,D.inversePatches,S))};if(E.status==="uninitialized")return D;let A;if("data"in E)if(Qu(E.data)){const[_,P,R]=ic(E.data,w);D.patches.push(...P),D.inversePatches.push(...R),A=_}else A=w(E.data),D.patches.push({op:"replace",path:[],value:A}),D.inversePatches.push({op:"replace",path:[],value:E.data});return D.patches.length===0||C(i.util.patchQueryData(x,y,D.patches,S)),D},c=(x,y,w)=>S=>S(i.endpoints[x].initiate(y,{subscribe:!1,forceRefetch:!0,[On]:()=>({data:w})})),d=async(x,{signal:y,abort:w,rejectWithValue:S,fulfillWithValue:C,dispatch:N,getState:I,extra:E})=>{const D=n[x.endpointName];try{let A=La,_;const P={signal:y,abort:w,dispatch:N,getState:I,extra:E,endpoint:x.endpointName,type:x.type,forced:x.type==="query"?u(x,I()):void 0,queryCacheKey:x.type==="query"?x.queryCacheKey:void 0},R=x.type==="query"?x[On]:void 0;if(R?_=R():D.query?(_=await e(D.query(x.originalArgs),P,D.extraOptions),D.transformResponse&&(A=D.transformResponse)):_=await D.queryFn(x.originalArgs,P,D.extraOptions,M=>e(M,P,D.extraOptions)),typeof process<"u",_.error)throw new Ra(_.error,_.meta);return C(await A(_.data,_.meta,x.originalArgs),{fulfilledTimeStamp:Date.now(),baseQueryMeta:_.meta,[wn]:!0})}catch(A){let _=A;if(_ instanceof Ra){let P=La;D.query&&D.transformErrorResponse&&(P=D.transformErrorResponse);try{return S(await P(_.value,_.meta,x.originalArgs),{baseQueryMeta:_.meta,[wn]:!0})}catch(R){_=R}}throw typeof process<"u",console.error(_),_}};function u(x,y){var I,E,D;const w=(E=(I=y[t])==null?void 0:I.queries)==null?void 0:E[x.queryCacheKey],S=(D=y[t])==null?void 0:D.config.refetchOnMountOrArgChange,C=w==null?void 0:w.fulfilledTimeStamp,N=x.forceRefetch??(x.subscribe&&S);return N?N===!0||(Number(new Date)-Number(C))/1e3>=N:!1}const h=Ca(`${t}/executeQuery`,d,{getPendingMeta(){return{startedTimeStamp:Date.now(),[wn]:!0}},condition(x,{getState:y}){var D,A,_;const w=y(),S=(A=(D=w[t])==null?void 0:D.queries)==null?void 0:A[x.queryCacheKey],C=S==null?void 0:S.fulfilledTimeStamp,N=x.originalArgs,I=S==null?void 0:S.originalArgs,E=n[x.endpointName];return us(x)?!0:(S==null?void 0:S.status)==="pending"?!1:u(x,w)||Sc(E)&&((_=E==null?void 0:E.forceRefetch)!=null&&_.call(E,{currentArg:N,previousArg:I,endpointState:S,state:w}))?!0:!C},dispatchConditionRejection:!0}),p=Ca(`${t}/executeMutation`,d,{getPendingMeta(){return{startedTimeStamp:Date.now(),[wn]:!0}}}),f=x=>"force"in x,g=x=>"ifOlderThan"in x,m=(x,y,w)=>(S,C)=>{const N=f(w)&&w.force,I=g(w)&&w.ifOlderThan,E=(A=!0)=>{const _={forceRefetch:A,isPrefetch:!0};return i.endpoints[x].initiate(y,_)},D=i.endpoints[x].select(y)(C());if(N)S(E());else if(I){const A=D==null?void 0:D.fulfilledTimeStamp;if(!A){S(E());return}(Number(new Date)-Number(new Date(A)))/1e3>=I&&S(E())}else S(E(!1))};function b(x){return y=>{var w,S;return((S=(w=y==null?void 0:y.meta)==null?void 0:w.arg)==null?void 0:S.endpointName)===x}}function v(x,y){return{matchPending:Ii(sc(x),b(y)),matchFulfilled:Ii(It(x),b(y)),matchRejected:Ii(Ps(x),b(y))}}return{queryThunk:h,mutationThunk:p,prefetch:m,updateQueryData:o,upsertQueryData:c,patchQueryData:a,buildMatchThunkActions:v}}function Cc(t,e,n,r){return Os(n[t.meta.arg.endpointName][e],It(t)?t.payload:void 0,_s(t)?t.payload:void 0,t.meta.arg.originalArgs,"baseQueryMeta"in t.meta?t.meta.baseQueryMeta:void 0,r)}function nr(t,e,n){const r=t[e];r&&n(r)}function Rn(t){return("arg"in t?t.arg.fixedCacheKey:t.fixedCacheKey)??t.requestId}function Fa(t,e,n){const r=t[Rn(e)];r&&n(r)}var un={};function Xh({reducerPath:t,queryThunk:e,mutationThunk:n,serializeQueryArgs:r,context:{endpointDefinitions:i,apiUid:s,extractRehydrationInfo:a,hasRehydrationInfo:o},assertTagType:c,config:d}){const u=nn(`${t}/resetApiState`);function h(C,N,I,E){var D;C[D=N.queryCacheKey]??(C[D]={status:"uninitialized",endpointName:N.endpointName}),nr(C,N.queryCacheKey,A=>{A.status="pending",A.requestId=I&&A.requestId?A.requestId:E.requestId,N.originalArgs!==void 0&&(A.originalArgs=N.originalArgs),A.startedTimeStamp=E.startedTimeStamp})}function p(C,N,I){nr(C,N.arg.queryCacheKey,E=>{if(E.requestId!==N.requestId&&!us(N.arg))return;const{merge:D}=i[N.arg.endpointName];if(E.status="fulfilled",D)if(E.data!==void 0){const{fulfilledTimeStamp:A,arg:_,baseQueryMeta:P,requestId:R}=N;let M=Ms(E.data,O=>D(O,I,{arg:_.originalArgs,baseQueryMeta:P,fulfilledTimeStamp:A,requestId:R}));E.data=M}else E.data=I;else E.data=i[N.arg.endpointName].structuralSharing??!0?yc(Yu(E.data)?Ku(E.data):E.data,I):I;delete E.error,E.fulfilledTimeStamp=N.fulfilledTimeStamp})}const f=Je({name:`${t}/queries`,initialState:un,reducers:{removeQueryResult:{reducer(C,{payload:{queryCacheKey:N}}){delete C[N]},prepare:dn()},cacheEntriesUpserted:{reducer(C,N){for(const I of N.payload){const{queryDescription:E,value:D}=I;h(C,E,!0,{arg:E,requestId:N.meta.requestId,startedTimeStamp:N.meta.timestamp}),p(C,{arg:E,requestId:N.meta.requestId,fulfilledTimeStamp:N.meta.timestamp,baseQueryMeta:{}},D)}},prepare:C=>({payload:C.map(E=>{const{endpointName:D,arg:A,value:_}=E,P=i[D];return{queryDescription:{type:"query",endpointName:D,originalArgs:E.arg,queryCacheKey:r({queryArgs:A,endpointDefinition:P,endpointName:D})},value:_}}),meta:{[wn]:!0,requestId:tc(),timestamp:Date.now()}})},queryResultPatched:{reducer(C,{payload:{queryCacheKey:N,patches:I}}){nr(C,N,E=>{E.data=Na(E.data,I.concat())})},prepare:dn()}},extraReducers(C){C.addCase(e.pending,(N,{meta:I,meta:{arg:E}})=>{const D=us(E);h(N,E,D,I)}).addCase(e.fulfilled,(N,{meta:I,payload:E})=>{p(N,I,E)}).addCase(e.rejected,(N,{meta:{condition:I,arg:E,requestId:D},error:A,payload:_})=>{nr(N,E.queryCacheKey,P=>{if(!I){if(P.requestId!==D)return;P.status="rejected",P.error=_??A}})}).addMatcher(o,(N,I)=>{const{queries:E}=a(I);for(const[D,A]of Object.entries(E))((A==null?void 0:A.status)==="fulfilled"||(A==null?void 0:A.status)==="rejected")&&(N[D]=A)})}}),g=Je({name:`${t}/mutations`,initialState:un,reducers:{removeMutationResult:{reducer(C,{payload:N}){const I=Rn(N);I in C&&delete C[I]},prepare:dn()}},extraReducers(C){C.addCase(n.pending,(N,{meta:I,meta:{requestId:E,arg:D,startedTimeStamp:A}})=>{D.track&&(N[Rn(I)]={requestId:E,status:"pending",endpointName:D.endpointName,startedTimeStamp:A})}).addCase(n.fulfilled,(N,{payload:I,meta:E})=>{E.arg.track&&Fa(N,E,D=>{D.requestId===E.requestId&&(D.status="fulfilled",D.data=I,D.fulfilledTimeStamp=E.fulfilledTimeStamp)})}).addCase(n.rejected,(N,{payload:I,error:E,meta:D})=>{D.arg.track&&Fa(N,D,A=>{A.requestId===D.requestId&&(A.status="rejected",A.error=I??E)})}).addMatcher(o,(N,I)=>{const{mutations:E}=a(I);for(const[D,A]of Object.entries(E))((A==null?void 0:A.status)==="fulfilled"||(A==null?void 0:A.status)==="rejected")&&D!==(A==null?void 0:A.requestId)&&(N[D]=A)})}}),m=Je({name:`${t}/invalidation`,initialState:un,reducers:{updateProvidedBy:{reducer(C,N){var D,A;const{queryCacheKey:I,providedTags:E}=N.payload;for(const _ of Object.values(C))for(const P of Object.values(_)){const R=P.indexOf(I);R!==-1&&P.splice(R,1)}for(const{type:_,id:P}of E){const R=(D=C[_]??(C[_]={}))[A=P||"__internal_without_id"]??(D[A]=[]);R.includes(I)||R.push(I)}},prepare:dn()}},extraReducers(C){C.addCase(f.actions.removeQueryResult,(N,{payload:{queryCacheKey:I}})=>{for(const E of Object.values(N))for(const D of Object.values(E)){const A=D.indexOf(I);A!==-1&&D.splice(A,1)}}).addMatcher(o,(N,I)=>{var D,A;const{provided:E}=a(I);for(const[_,P]of Object.entries(E))for(const[R,M]of Object.entries(P)){const O=(D=N[_]??(N[_]={}))[A=R||"__internal_without_id"]??(D[A]=[]);for(const H of M)O.includes(H)||O.push(H)}}).addMatcher(zr(It(e),_s(e)),(N,I)=>{const E=Cc(I,"providesTags",i,c),{queryCacheKey:D}=I.meta.arg;m.caseReducers.updateProvidedBy(N,m.actions.updateProvidedBy({queryCacheKey:D,providedTags:E}))})}}),b=Je({name:`${t}/subscriptions`,initialState:un,reducers:{updateSubscriptionOptions(C,N){},unsubscribeQueryResult(C,N){},internal_getRTKQSubscriptions(){}}}),v=Je({name:`${t}/internalSubscriptions`,initialState:un,reducers:{subscriptionsUpdated:{reducer(C,N){return Na(C,N.payload)},prepare:dn()}}}),x=Je({name:`${t}/config`,initialState:{online:Fh(),focused:Lh(),middlewareRegistered:!1,...d},reducers:{middlewareRegistered(C,{payload:N}){C.middlewareRegistered=C.middlewareRegistered==="conflict"||s!==N?"conflict":!0}},extraReducers:C=>{C.addCase(ks,N=>{N.online=!0}).addCase(jc,N=>{N.online=!1}).addCase(Ts,N=>{N.focused=!0}).addCase(wc,N=>{N.focused=!1}).addMatcher(o,N=>({...N}))}}),y=qu({queries:f.reducer,mutations:g.reducer,provided:m.reducer,subscriptions:v.reducer,config:x.reducer}),w=(C,N)=>y(u.match(N)?void 0:C,N),S={...x.actions,...f.actions,...b.actions,...v.actions,...g.actions,...m.actions,resetApiState:u};return{reducer:w,actions:S}}var st=Symbol.for("RTKQ/skipToken"),Nc={status:"uninitialized"},Ba=Ms(Nc,()=>{}),za=Ms(Nc,()=>{});function Zh({serializeQueryArgs:t,reducerPath:e,createSelector:n}){const r=h=>Ba,i=h=>za;return{buildQuerySelector:o,buildMutationSelector:c,selectInvalidatedBy:d,selectCachedArgsForQuery:u};function s(h){return{...h,...Oh(h.status)}}function a(h){return h[e]}function o(h,p){return f=>{if(f===st)return n(r,s);const g=t({queryArgs:f,endpointDefinition:p,endpointName:h});return n(b=>{var v,x;return((x=(v=a(b))==null?void 0:v.queries)==null?void 0:x[g])??Ba},s)}}function c(){return h=>{let p;return typeof h=="object"?p=Rn(h)??st:p=h,n(p===st?i:m=>{var b,v;return((v=(b=a(m))==null?void 0:b.mutations)==null?void 0:v[p])??za},s)}}function d(h,p){const f=h[e],g=new Set;for(const m of p.filter(Wr).map(ds)){const b=f.provided[m.type];if(!b)continue;let v=(m.id!==void 0?b[m.id]:Ta(Object.values(b)))??[];for(const x of v)g.add(x)}return Ta(Array.from(g.values()).map(m=>{const b=f.queries[m];return b?[{queryCacheKey:m,endpointName:b.endpointName,originalArgs:b.originalArgs}]:[]}))}function u(h,p){return Object.values(h[e].queries).filter(f=>(f==null?void 0:f.endpointName)===p&&f.status!=="uninitialized").map(f=>f.originalArgs)}}var Bt=WeakMap?new WeakMap:void 0,Ha=({endpointName:t,queryArgs:e})=>{let n="";const r=Bt==null?void 0:Bt.get(e);if(typeof r=="string")n=r;else{const i=JSON.stringify(e,(s,a)=>(a=typeof a=="bigint"?{$bigint:a.toString()}:a,a=Et(a)?Object.keys(a).sort().reduce((o,c)=>(o[c]=a[c],o),{}):a,a));Et(e)&&(Bt==null||Bt.set(e,i)),n=i}return`${t}(${n})`};function Jh(...t){return function(n){const r=Sa(d=>{var u;return(u=n.extractRehydrationInfo)==null?void 0:u.call(n,d,{reducerPath:n.reducerPath??"api"})}),i={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed",...n,extractRehydrationInfo:r,serializeQueryArgs(d){let u=Ha;if("serializeQueryArgs"in d.endpointDefinition){const h=d.endpointDefinition.serializeQueryArgs;u=p=>{const f=h(p);return typeof f=="string"?f:Ha({...p,queryArgs:f})}}else n.serializeQueryArgs&&(u=n.serializeQueryArgs);return u(d)},tagTypes:[...n.tagTypes||[]]},s={endpointDefinitions:{},batch(d){d()},apiUid:tc(),extractRehydrationInfo:r,hasRehydrationInfo:Sa(d=>r(d)!=null)},a={injectEndpoints:c,enhanceEndpoints({addTagTypes:d,endpoints:u}){if(d)for(const h of d)i.tagTypes.includes(h)||i.tagTypes.push(h);if(u)for(const[h,p]of Object.entries(u))typeof p=="function"?p(s.endpointDefinitions[h]):Object.assign(s.endpointDefinitions[h]||{},p);return a}},o=t.map(d=>d.init(a,i,s));function c(d){const u=d.endpoints({query:h=>({...h,type:"query"}),mutation:h=>({...h,type:"mutation"})});for(const[h,p]of Object.entries(u)){if(d.overrideExisting!==!0&&h in s.endpointDefinitions){if(d.overrideExisting==="throw")throw new Error(nc(39));typeof process<"u";continue}s.endpointDefinitions[h]=p;for(const f of o)f.injectEndpoint(h,p)}return a}return a.injectEndpoints({endpoints:n.endpoints})}}function rt(t,...e){return Object.assign(t,...e)}var ef=({api:t,queryThunk:e,internalState:n})=>{const r=`${t.reducerPath}/subscriptions`;let i=null,s=null;const{updateSubscriptionOptions:a,unsubscribeQueryResult:o}=t.internalActions,c=(f,g)=>{var b,v,x;if(a.match(g)){const{queryCacheKey:y,requestId:w,options:S}=g.payload;return(b=f==null?void 0:f[y])!=null&&b[w]&&(f[y][w]=S),!0}if(o.match(g)){const{queryCacheKey:y,requestId:w}=g.payload;return f[y]&&delete f[y][w],!0}if(t.internalActions.removeQueryResult.match(g))return delete f[g.payload.queryCacheKey],!0;if(e.pending.match(g)){const{meta:{arg:y,requestId:w}}=g,S=f[v=y.queryCacheKey]??(f[v]={});return S[`${w}_running`]={},y.subscribe&&(S[w]=y.subscriptionOptions??S[w]??{}),!0}let m=!1;if(e.fulfilled.match(g)||e.rejected.match(g)){const y=f[g.meta.arg.queryCacheKey]||{},w=`${g.meta.requestId}_running`;m||(m=!!y[w]),delete y[w]}if(e.rejected.match(g)){const{meta:{condition:y,arg:w,requestId:S}}=g;if(y&&w.subscribe){const C=f[x=w.queryCacheKey]??(f[x]={});C[S]=w.subscriptionOptions??C[S]??{},m=!0}}return m},d=()=>n.currentSubscriptions,p={getSubscriptions:d,getSubscriptionCount:f=>{const m=d()[f]??{};return qt(m)},isRequestSubscribed:(f,g)=>{var b;const m=d();return!!((b=m==null?void 0:m[f])!=null&&b[g])}};return(f,g)=>{if(i||(i=JSON.parse(JSON.stringify(n.currentSubscriptions))),t.util.resetApiState.match(f))return i=n.currentSubscriptions={},s=null,[!0,!1];if(t.internalActions.internal_getRTKQSubscriptions.match(f))return[!1,p];const m=c(n.currentSubscriptions,f);let b=!0;if(m){s||(s=setTimeout(()=>{const y=JSON.parse(JSON.stringify(n.currentSubscriptions)),[,w]=ic(i,()=>y);g.next(t.internalActions.subscriptionsUpdated(w)),i=y,s=null},500));const v=typeof f.type=="string"&&!!f.type.startsWith(r),x=e.rejected.match(f)&&f.meta.condition&&!!f.meta.arg.subscribe;b=!v&&!x}return[b,!1]}};function tf(t){for(const e in t)return!1;return!0}var nf=2147483647/1e3-1,rf=({reducerPath:t,api:e,queryThunk:n,context:r,internalState:i})=>{const{removeQueryResult:s,unsubscribeQueryResult:a,cacheEntriesUpserted:o}=e.internalActions,c=zr(a.match,n.fulfilled,n.rejected,o.match);function d(f){const g=i.currentSubscriptions[f];return!!g&&!tf(g)}const u={},h=(f,g,m)=>{var b;if(c(f)){const v=g.getState()[t];let x;if(o.match(f))x=f.payload.map(y=>y.queryDescription.queryCacheKey);else{const{queryCacheKey:y}=a.match(f)?f.payload:f.meta.arg;x=[y]}for(const y of x)p(y,(b=v.queries[y])==null?void 0:b.endpointName,g,v.config)}if(e.util.resetApiState.match(f))for(const[v,x]of Object.entries(u))x&&clearTimeout(x),delete u[v];if(r.hasRehydrationInfo(f)){const v=g.getState()[t],{queries:x}=r.extractRehydrationInfo(f);for(const[y,w]of Object.entries(x))p(y,w==null?void 0:w.endpointName,g,v.config)}};function p(f,g,m,b){const v=r.endpointDefinitions[g],x=(v==null?void 0:v.keepUnusedDataFor)??b.keepUnusedDataFor;if(x===1/0)return;const y=Math.max(0,Math.min(x,nf));if(!d(f)){const w=u[f];w&&clearTimeout(w),u[f]=setTimeout(()=>{d(f)||m.dispatch(s({queryCacheKey:f})),delete u[f]},y*1e3)}}return h},Va=new Error("Promise never resolved before cacheEntryRemoved."),sf=({api:t,reducerPath:e,context:n,queryThunk:r,mutationThunk:i,internalState:s})=>{const a=Da(r),o=Da(i),c=It(r,i),d={};function u(m,b,v){const x=d[m];x!=null&&x.valueResolved&&(x.valueResolved({data:b,meta:v}),delete x.valueResolved)}function h(m){const b=d[m];b&&(delete d[m],b.cacheEntryRemoved())}const p=(m,b,v)=>{const x=f(m);function y(w,S,C,N){const I=v[e].queries[S],E=b.getState()[e].queries[S];!I&&E&&g(w,N,S,b,C)}if(r.pending.match(m))y(m.meta.arg.endpointName,x,m.meta.requestId,m.meta.arg.originalArgs);else if(t.internalActions.cacheEntriesUpserted.match(m))for(const{queryDescription:w,value:S}of m.payload){const{endpointName:C,originalArgs:N,queryCacheKey:I}=w;y(C,I,m.meta.requestId,N),u(I,S,{})}else if(i.pending.match(m))b.getState()[e].mutations[x]&&g(m.meta.arg.endpointName,m.meta.arg.originalArgs,x,b,m.meta.requestId);else if(c(m))u(x,m.payload,m.meta.baseQueryMeta);else if(t.internalActions.removeQueryResult.match(m)||t.internalActions.removeMutationResult.match(m))h(x);else if(t.util.resetApiState.match(m))for(const w of Object.keys(d))h(w)};function f(m){return a(m)?m.meta.arg.queryCacheKey:o(m)?m.meta.arg.fixedCacheKey??m.meta.requestId:t.internalActions.removeQueryResult.match(m)?m.payload.queryCacheKey:t.internalActions.removeMutationResult.match(m)?Rn(m.payload):""}function g(m,b,v,x,y){const w=n.endpointDefinitions[m],S=w==null?void 0:w.onCacheEntryAdded;if(!S)return;const C={},N=new Promise(P=>{C.cacheEntryRemoved=P}),I=Promise.race([new Promise(P=>{C.valueResolved=P}),N.then(()=>{throw Va})]);I.catch(()=>{}),d[v]=C;const E=t.endpoints[m].select(w.type==="query"?b:v),D=x.dispatch((P,R,M)=>M),A={...x,getCacheEntry:()=>E(x.getState()),requestId:y,extra:D,updateCachedData:w.type==="query"?P=>x.dispatch(t.util.updateQueryData(m,b,P)):void 0,cacheDataLoaded:I,cacheEntryRemoved:N},_=S(b,A);Promise.resolve(_).catch(P=>{if(P!==Va)throw P})}return p},af=({api:t,context:{apiUid:e},reducerPath:n})=>(r,i)=>{t.util.resetApiState.match(r)&&i.dispatch(t.internalActions.middlewareRegistered(e)),typeof process<"u"},of=({reducerPath:t,context:e,context:{endpointDefinitions:n},mutationThunk:r,queryThunk:i,api:s,assertTagType:a,refetchQuery:o,internalState:c})=>{const{removeQueryResult:d}=s.internalActions,u=zr(It(r),_s(r)),h=zr(It(r,i),Ps(r,i));let p=[];const f=(b,v)=>{u(b)?m(Cc(b,"invalidatesTags",n,a),v):h(b)?m([],v):s.util.invalidateTags.match(b)&&m(Os(b.payload,void 0,void 0,void 0,void 0,a),v)};function g(b){var v,x;for(const y in b.queries)if(((v=b.queries[y])==null?void 0:v.status)==="pending")return!0;for(const y in b.mutations)if(((x=b.mutations[y])==null?void 0:x.status)==="pending")return!0;return!1}function m(b,v){const x=v.getState(),y=x[t];if(p.push(...b),y.config.invalidationBehavior==="delayed"&&g(y))return;const w=p;if(p=[],w.length===0)return;const S=s.util.selectInvalidatedBy(x,w);e.batch(()=>{const C=Array.from(S.values());for(const{queryCacheKey:N}of C){const I=y.queries[N],E=c.currentSubscriptions[N]??{};I&&(qt(E)===0?v.dispatch(d({queryCacheKey:N})):I.status!=="uninitialized"&&v.dispatch(o(I)))}})}return f},lf=({reducerPath:t,queryThunk:e,api:n,refetchQuery:r,internalState:i})=>{const s={},a=(p,f)=>{(n.internalActions.updateSubscriptionOptions.match(p)||n.internalActions.unsubscribeQueryResult.match(p))&&c(p.payload,f),(e.pending.match(p)||e.rejected.match(p)&&p.meta.condition)&&c(p.meta.arg,f),(e.fulfilled.match(p)||e.rejected.match(p)&&!p.meta.condition)&&o(p.meta.arg,f),n.util.resetApiState.match(p)&&u()};function o({queryCacheKey:p},f){const g=f.getState()[t],m=g.queries[p],b=i.currentSubscriptions[p];if(!m||m.status==="uninitialized")return;const{lowestPollingInterval:v,skipPollingIfUnfocused:x}=h(b);if(!Number.isFinite(v))return;const y=s[p];y!=null&&y.timeout&&(clearTimeout(y.timeout),y.timeout=void 0);const w=Date.now()+v;s[p]={nextPollTimestamp:w,pollingInterval:v,timeout:setTimeout(()=>{(g.config.focused||!x)&&f.dispatch(r(m)),o({queryCacheKey:p},f)},v)}}function c({queryCacheKey:p},f){const m=f.getState()[t].queries[p],b=i.currentSubscriptions[p];if(!m||m.status==="uninitialized")return;const{lowestPollingInterval:v}=h(b);if(!Number.isFinite(v)){d(p);return}const x=s[p],y=Date.now()+v;(!x||y<x.nextPollTimestamp)&&o({queryCacheKey:p},f)}function d(p){const f=s[p];f!=null&&f.timeout&&clearTimeout(f.timeout),delete s[p]}function u(){for(const p of Object.keys(s))d(p)}function h(p={}){let f=!1,g=Number.POSITIVE_INFINITY;for(let m in p)p[m].pollingInterval&&(g=Math.min(p[m].pollingInterval,g),f=p[m].skipPollingIfUnfocused||f);return{lowestPollingInterval:g,skipPollingIfUnfocused:f}}return a},cf=({api:t,context:e,queryThunk:n,mutationThunk:r})=>{const i=sc(n,r),s=Ps(n,r),a=It(n,r),o={};return(d,u)=>{var h,p;if(i(d)){const{requestId:f,arg:{endpointName:g,originalArgs:m}}=d.meta,b=e.endpointDefinitions[g],v=b==null?void 0:b.onQueryStarted;if(v){const x={},y=new Promise((N,I)=>{x.resolve=N,x.reject=I});y.catch(()=>{}),o[f]=x;const w=t.endpoints[g].select(b.type==="query"?m:f),S=u.dispatch((N,I,E)=>E),C={...u,getCacheEntry:()=>w(u.getState()),requestId:f,extra:S,updateCachedData:b.type==="query"?N=>u.dispatch(t.util.updateQueryData(g,m,N)):void 0,queryFulfilled:y};v(m,C)}}else if(a(d)){const{requestId:f,baseQueryMeta:g}=d.meta;(h=o[f])==null||h.resolve({data:d.payload,meta:g}),delete o[f]}else if(s(d)){const{requestId:f,rejectedWithValue:g,baseQueryMeta:m}=d.meta;(p=o[f])==null||p.reject({error:d.payload??d.error,isUnhandledError:!g,meta:m}),delete o[f]}}},df=({reducerPath:t,context:e,api:n,refetchQuery:r,internalState:i})=>{const{removeQueryResult:s}=n.internalActions,a=(c,d)=>{Ts.match(c)&&o(d,"refetchOnFocus"),ks.match(c)&&o(d,"refetchOnReconnect")};function o(c,d){const u=c.getState()[t],h=u.queries,p=i.currentSubscriptions;e.batch(()=>{for(const f of Object.keys(p)){const g=h[f],m=p[f];if(!m||!g)continue;(Object.values(m).some(v=>v[d]===!0)||Object.values(m).every(v=>v[d]===void 0)&&u.config[d])&&(qt(m)===0?c.dispatch(s({queryCacheKey:f})):g.status!=="uninitialized"&&c.dispatch(r(g)))}})}return a};function uf(t){const{reducerPath:e,queryThunk:n,api:r,context:i}=t,{apiUid:s}=i,a={invalidateTags:nn(`${e}/invalidateTags`)},o=h=>h.type.startsWith(`${e}/`),c=[af,rf,of,lf,sf,cf];return{middleware:h=>{let p=!1;const g={...t,internalState:{currentSubscriptions:{}},refetchQuery:u,isThisApiSliceAction:o},m=c.map(x=>x(g)),b=ef(g),v=df(g);return x=>y=>{if(!Xu(y))return x(y);p||(p=!0,h.dispatch(r.internalActions.middlewareRegistered(s)));const w={...h,next:x},S=h.getState(),[C,N]=b(y,w,S);let I;if(C?I=x(y):I=N,h.getState()[e]&&(v(y,w,S),o(y)||i.hasRehydrationInfo(y)))for(const E of m)E(y,w,S);return I}},actions:a};function u(h){return t.api.endpoints[h.endpointName].initiate(h.originalArgs,{subscribe:!1,forceRefetch:!0})}}var Ua=Symbol(),hf=({createSelector:t=rc}={})=>({name:Ua,init(e,{baseQuery:n,tagTypes:r,reducerPath:i,serializeQueryArgs:s,keepUnusedDataFor:a,refetchOnMountOrArgChange:o,refetchOnFocus:c,refetchOnReconnect:d,invalidationBehavior:u},h){Gu();const p=z=>(typeof process<"u",z);Object.assign(e,{reducerPath:i,endpoints:{},internalActions:{onOnline:ks,onOffline:jc,onFocus:Ts,onFocusLost:wc},util:{}});const{queryThunk:f,mutationThunk:g,patchQueryData:m,updateQueryData:b,upsertQueryData:v,prefetch:x,buildMatchThunkActions:y}=Kh({baseQuery:n,reducerPath:i,context:h,api:e,serializeQueryArgs:s,assertTagType:p}),{reducer:w,actions:S}=Xh({context:h,queryThunk:f,mutationThunk:g,serializeQueryArgs:s,reducerPath:i,assertTagType:p,config:{refetchOnFocus:c,refetchOnReconnect:d,refetchOnMountOrArgChange:o,keepUnusedDataFor:a,reducerPath:i,invalidationBehavior:u}});rt(e.util,{patchQueryData:m,updateQueryData:b,upsertQueryData:v,prefetch:x,resetApiState:S.resetApiState,upsertQueryEntries:S.cacheEntriesUpserted}),rt(e.internalActions,S);const{middleware:C,actions:N}=uf({reducerPath:i,context:h,queryThunk:f,mutationThunk:g,api:e,assertTagType:p});rt(e.util,N),rt(e,{reducer:w,middleware:C});const{buildQuerySelector:I,buildMutationSelector:E,selectInvalidatedBy:D,selectCachedArgsForQuery:A}=Zh({serializeQueryArgs:s,reducerPath:i,createSelector:t});rt(e.util,{selectInvalidatedBy:D,selectCachedArgsForQuery:A});const{buildInitiateQuery:_,buildInitiateMutation:P,getRunningMutationThunk:R,getRunningMutationsThunk:M,getRunningQueriesThunk:O,getRunningQueryThunk:H}=Yh({queryThunk:f,mutationThunk:g,api:e,serializeQueryArgs:s,context:h});return rt(e.util,{getRunningMutationThunk:R,getRunningMutationsThunk:M,getRunningQueryThunk:H,getRunningQueriesThunk:O}),{name:Ua,injectEndpoint(z,B){var K;const F=e;(K=F.endpoints)[z]??(K[z]={}),Sc(B)?rt(F.endpoints[z],{name:z,select:I(z,B),initiate:_(z,B)},y(f,z)):qh(B)&&rt(F.endpoints[z],{name:z,select:E(),initiate:P(z)},y(g,z))}}}}),Dc={exports:{}},Ec={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qn=j;function ff(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var pf=typeof Object.is=="function"?Object.is:ff,gf=Qn.useSyncExternalStore,mf=Qn.useRef,xf=Qn.useEffect,vf=Qn.useMemo,bf=Qn.useDebugValue;Ec.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=mf(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=vf(function(){function c(f){if(!d){if(d=!0,u=f,f=r(f),i!==void 0&&a.hasValue){var g=a.value;if(i(g,f))return h=g}return h=f}if(g=h,pf(u,f))return g;var m=r(f);return i!==void 0&&i(g,m)?(u=f,g):(u=f,h=m)}var d=!1,u,h,p=n===void 0?null:n;return[function(){return c(e())},p===null?void 0:function(){return c(p())}]},[e,n,r,i]);var o=gf(t,s[0],s[1]);return xf(function(){a.hasValue=!0,a.value=o},[o]),bf(o),o};Dc.exports=Ec;var yf=Dc.exports;function wf(t){t()}function $a(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function En(t,e){if($a(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!$a(t[n[i]],e[n[i]]))return!1;return!0}var _i=Symbol.for("react-redux-context"),Pi=typeof globalThis<"u"?globalThis:{};function jf(){if(!j.createContext)return{};const t=Pi[_i]??(Pi[_i]=new Map);let e=t.get(j.createContext);return e||(e=j.createContext(null),t.set(j.createContext,e)),e}var _t=jf();function Rs(t=_t){return function(){return j.useContext(t)}}var Ic=Rs();function Ac(t=_t){const e=t===_t?Ic:Rs(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var _c=Ac();function Sf(t=_t){const e=t===_t?_c:Ac(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var Cf=Sf(),Nf=(t,e)=>t===e;function Df(t=_t){const e=t===_t?Ic:Rs(t),n=(r,i={})=>{const{equalityFn:s=Nf}=typeof i=="function"?{equalityFn:i}:i,a=e(),{store:o,subscription:c,getServerState:d}=a;j.useRef(!0);const u=j.useCallback({[r.name](p){return r(p)}}[r.name],[r]),h=yf.useSyncExternalStoreWithSelector(c.addNestedSub,o.getState,d||o.getState,u,s);return j.useDebugValue(h),h};return Object.assign(n,{withTypes:()=>n}),n}var Ef=Df(),If=wf;function Mi(t){return t.replace(t[0],t[0].toUpperCase())}function Af(t){return t.type==="query"}function _f(t){return t.type==="mutation"}function rr(t,...e){return Object.assign(t,...e)}var zt=WeakMap?new WeakMap:void 0,Pf=({endpointName:t,queryArgs:e})=>{let n="";const r=zt==null?void 0:zt.get(e);if(typeof r=="string")n=r;else{const i=JSON.stringify(e,(s,a)=>(a=typeof a=="bigint"?{$bigint:a.toString()}:a,a=Et(a)?Object.keys(a).sort().reduce((o,c)=>(o[c]=a[c],o),{}):a,a));Et(e)&&(zt==null||zt.set(e,i)),n=i}return`${t}(${n})`},Ti=Symbol();function Wa(t,e,n,r){const i=j.useMemo(()=>({queryArgs:t,serialized:typeof t=="object"?e({queryArgs:t,endpointDefinition:n,endpointName:r}):t}),[t,e,n,r]),s=j.useRef(i);return j.useEffect(()=>{s.current.serialized!==i.serialized&&(s.current=i)},[i]),s.current.serialized===i.serialized?s.current.queryArgs:t}function ki(t){const e=j.useRef(t);return j.useEffect(()=>{En(e.current,t)||(e.current=t)},[t]),En(e.current,t)?e.current:t}var Mf=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Tf=Mf(),kf=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Of=kf(),Rf=()=>Tf||Of?j.useLayoutEffect:j.useEffect,Lf=Rf(),Ff=t=>t.isUninitialized?{...t,isUninitialized:!1,isFetching:!0,isLoading:t.data===void 0,status:bc.pending}:t;function Bf({api:t,moduleOptions:{batch:e,hooks:{useDispatch:n,useSelector:r,useStore:i},unstable__sideEffectsInRender:s,createSelector:a},serializeQueryArgs:o,context:c}){const d=s?g=>g():j.useEffect;return{buildQueryHooks:p,buildMutationHook:f,usePrefetch:h};function u(g,m,b){if(m!=null&&m.endpointName&&g.isUninitialized){const{endpointName:C}=m,N=c.endpointDefinitions[C];b!==st&&o({queryArgs:m.originalArgs,endpointDefinition:N,endpointName:C})===o({queryArgs:b,endpointDefinition:N,endpointName:C})&&(m=void 0)}let v=g.isSuccess?g.data:m==null?void 0:m.data;v===void 0&&(v=g.data);const x=v!==void 0,y=g.isLoading,w=(!m||m.isLoading||m.isUninitialized)&&!x&&y,S=g.isSuccess||x&&(y&&!(m!=null&&m.isError)||g.isUninitialized);return{...g,data:v,currentData:g.data,isFetching:y,isLoading:w,isSuccess:S}}function h(g,m){const b=n(),v=ki(m);return j.useCallback((x,y)=>b(t.util.prefetch(g,x,{...v,...y})),[g,b,v])}function p(g){const m=(x,{refetchOnReconnect:y,refetchOnFocus:w,refetchOnMountOrArgChange:S,skip:C=!1,pollingInterval:N=0,skipPollingIfUnfocused:I=!1}={})=>{const{initiate:E}=t.endpoints[g],D=n(),A=j.useRef(void 0);if(!A.current){const F=D(t.internalActions.internal_getRTKQSubscriptions());A.current=F}const _=Wa(C?st:x,Pf,c.endpointDefinitions[g],g),P=ki({refetchOnReconnect:y,refetchOnFocus:w,pollingInterval:N,skipPollingIfUnfocused:I}),R=j.useRef(!1),M=j.useRef(void 0);let{queryCacheKey:O,requestId:H}=M.current||{},z=!1;O&&H&&(z=A.current.isRequestSubscribed(O,H));const B=!z&&R.current;return d(()=>{R.current=z}),d(()=>{B&&(M.current=void 0)},[B]),d(()=>{var k;const F=M.current;if(typeof process<"u",_===st){F==null||F.unsubscribe(),M.current=void 0;return}const K=(k=M.current)==null?void 0:k.subscriptionOptions;if(!F||F.arg!==_){F==null||F.unsubscribe();const V=D(E(_,{subscriptionOptions:P,forceRefetch:S}));M.current=V}else P!==K&&F.updateSubscriptionOptions(P)},[D,E,S,_,P,B]),j.useEffect(()=>()=>{var F;(F=M.current)==null||F.unsubscribe(),M.current=void 0},[]),j.useMemo(()=>({refetch:()=>{var F;if(!M.current)throw new Error(nc(38));return(F=M.current)==null?void 0:F.refetch()}}),[])},b=({refetchOnReconnect:x,refetchOnFocus:y,pollingInterval:w=0,skipPollingIfUnfocused:S=!1}={})=>{const{initiate:C}=t.endpoints[g],N=n(),[I,E]=j.useState(Ti),D=j.useRef(void 0),A=ki({refetchOnReconnect:x,refetchOnFocus:y,pollingInterval:w,skipPollingIfUnfocused:S});d(()=>{var O,H;const M=(O=D.current)==null?void 0:O.subscriptionOptions;A!==M&&((H=D.current)==null||H.updateSubscriptionOptions(A))},[A]);const _=j.useRef(A);d(()=>{_.current=A},[A]);const P=j.useCallback(function(M,O=!1){let H;return e(()=>{var z;(z=D.current)==null||z.unsubscribe(),D.current=H=N(C(M,{subscriptionOptions:_.current,forceRefetch:!O})),E(M)}),H},[N,C]),R=j.useCallback(()=>{var M,O;(M=D.current)!=null&&M.queryCacheKey&&N(t.internalActions.removeQueryResult({queryCacheKey:(O=D.current)==null?void 0:O.queryCacheKey}))},[N]);return j.useEffect(()=>()=>{var M;(M=D==null?void 0:D.current)==null||M.unsubscribe()},[]),j.useEffect(()=>{I!==Ti&&!D.current&&P(I,!0)},[I,P]),j.useMemo(()=>[P,I,{reset:R}],[P,I,R])},v=(x,{skip:y=!1,selectFromResult:w}={})=>{const{select:S}=t.endpoints[g],C=Wa(y?st:x,o,c.endpointDefinitions[g],g),N=j.useRef(void 0),I=j.useMemo(()=>a([S(C),(P,R)=>R,P=>C],u,{memoizeOptions:{resultEqualityCheck:En}}),[S,C]),E=j.useMemo(()=>w?a([I],w,{devModeChecks:{identityFunctionCheck:"never"}}):I,[I,w]),D=r(P=>E(P,N.current),En),A=i(),_=I(A.getState(),N.current);return Lf(()=>{N.current=_},[_]),D};return{useQueryState:v,useQuerySubscription:m,useLazyQuerySubscription:b,useLazyQuery(x){const[y,w,{reset:S}]=b(x),C=v(w,{...x,skip:w===Ti}),N=j.useMemo(()=>({lastArg:w}),[w]);return j.useMemo(()=>[y,{...C,reset:S},N],[y,C,S,N])},useQuery(x,y){const w=m(x,y),S=v(x,{selectFromResult:x===st||y!=null&&y.skip?void 0:Ff,...y}),{data:C,status:N,isLoading:I,isSuccess:E,isError:D,error:A}=S;return j.useDebugValue({data:C,status:N,isLoading:I,isSuccess:E,isError:D,error:A}),j.useMemo(()=>({...S,...w}),[S,w])}}}function f(g){return({selectFromResult:m,fixedCacheKey:b}={})=>{const{select:v,initiate:x}=t.endpoints[g],y=n(),[w,S]=j.useState();j.useEffect(()=>()=>{w!=null&&w.arg.fixedCacheKey||w==null||w.reset()},[w]);const C=j.useCallback(function(K){const k=y(x(K,{fixedCacheKey:b}));return S(k),k},[y,x,b]),{requestId:N}=w||{},I=j.useMemo(()=>v({fixedCacheKey:b,requestId:w==null?void 0:w.requestId}),[b,w,v]),E=j.useMemo(()=>m?a([I],m):I,[m,I]),D=r(E,En),A=b==null?w==null?void 0:w.arg.originalArgs:void 0,_=j.useCallback(()=>{e(()=>{w&&S(void 0),b&&y(t.internalActions.removeMutationResult({requestId:N,fixedCacheKey:b}))})},[y,b,w,N]),{endpointName:P,data:R,status:M,isLoading:O,isSuccess:H,isError:z,error:B}=D;j.useDebugValue({endpointName:P,data:R,status:M,isLoading:O,isSuccess:H,isError:z,error:B});const F=j.useMemo(()=>({...D,originalArgs:A,reset:_}),[D,A,_]);return j.useMemo(()=>[C,F],[C,F])}}}var zf=Symbol(),Hf=({batch:t=If,hooks:e={useDispatch:Cf,useSelector:Ef,useStore:_c},createSelector:n=rc,unstable__sideEffectsInRender:r=!1,...i}={})=>({name:zf,init(s,{serializeQueryArgs:a},o){const c=s,{buildQueryHooks:d,buildMutationHook:u,usePrefetch:h}=Bf({api:s,moduleOptions:{batch:t,hooks:e,unstable__sideEffectsInRender:r,createSelector:n},serializeQueryArgs:a,context:o});return rr(c,{usePrefetch:h}),rr(o,{batch:t}),{injectEndpoint(p,f){if(Af(f)){const{useQuery:g,useLazyQuery:m,useLazyQuerySubscription:b,useQueryState:v,useQuerySubscription:x}=d(p);rr(c.endpoints[p],{useQuery:g,useLazyQuery:m,useLazyQuerySubscription:b,useQueryState:v,useQuerySubscription:x}),s[`use${Mi(p)}Query`]=g,s[`useLazy${Mi(p)}Query`]=m}else if(_f(f)){const g=u(p);rr(c.endpoints[p],{useMutation:g}),s[`use${Mi(p)}Mutation`]=g}}}}}),Vf=Jh(hf(),Hf());const Uf=Wh({baseUrl:"",credentials:"include"}),Yn=Vf({reducerPath:"api",baseQuery:Uf,endpoints:t=>({login:t.mutation({query:e=>({url:"/api/users/auth",method:"POST",body:e})})})}),me="/api/users",hn="/api/categories",Tr=Yn.injectEndpoints({endpoints:t=>({login:t.mutation({query:e=>({url:`${me}/auth`,method:"POST",body:e})}),verifyOtp:t.mutation({query:e=>({url:`${me}/auth`,method:"POST",body:e})}),forgetPassword:t.mutation({query:e=>({url:`${me}/forget-password`,method:"POST",body:e})}),resetPassword:t.mutation({query:e=>({url:`${me}/reset-password`,method:"POST",body:e})}),logout:t.mutation({query:()=>({url:`${me}/logout`,method:"POST"})}),profile:t.mutation({query:e=>({url:`${me}/profile`,method:"PUT",body:e})}),getProfile:t.query({query:()=>({url:`${me}/profile`,method:"GET"})}),tokenUserProfile:t.mutation({query:e=>({url:`${me}/token-profile`,method:"PUT",body:e})}),getUsers:t.query({query:()=>({url:me}),providesTags:["User"],keepUnusedDataFor:5}),deleteUser:t.mutation({query:e=>({url:`${me}/${e}`,method:"DELETE"})}),deactivateUser:t.mutation({query:e=>({url:`${me}/deactivate/${e}`,method:"PUT"})}),getUserDetails:t.query({query:e=>({url:`${me}/${e}`}),keepUnusedDataFor:0}),getUserUsingToken:t.query({query:e=>({url:`${me}/token-profile`,method:"GET",headers:{Authorization:`Bearer ${e}`}})}),getUserProfileUsingToken:t.query({query:e=>({url:`${me}/token-user/${e}`})}),searchUsers:t.query({query:e=>({url:`${me}/search`,method:"GET",params:{query:e}}),keepUnusedDataFor:0}),updateUser:t.mutation({query:e=>({url:`${me}/${e.userId}`,method:"PUT",body:{username:e.username,email:e.email,role:e.role,isAdmin:e.isAdmin,profilePicture:e.profilePicture,allowedCategories:e.allowedCategories}}),invalidatesTags:["User"]}),generateLink:t.mutation({query:e=>({url:`${me}/generate-link`,method:"POST",body:e})}),getUserById:t.query({query:e=>({url:`${me}/${e}`}),providesTags:["User"]})})}),{useLoginMutation:$f,useVerifyOtpMutation:Wf,useLogoutMutation:Pc,useProfileMutation:qa,useGetProfileQuery:mi,useTokenUserProfileMutation:qf,useForgetPasswordMutation:Gf,useResetPasswordMutation:Qf,useGenerateLinkMutation:Yf,useGetUsersQuery:Mc,useDeleteUserMutation:Tc,useDeactivateUserMutation:kc,useUpdateUserMutation:Kf,useGetUserDetailsQuery:Xf,useGetUserUsingTokenQuery:Zf,useGetUserProfileUsingTokenQuery:Jf,useSearchUsersQuery:ep,useGetUserByIdQuery:tp}=Tr,np={userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null},Oc=Je({name:"auth",initialState:np,reducers:{setCredentials:(t,e)=>{t.userInfo=e.payload,localStorage.setItem("userInfo",JSON.stringify(e.payload))},logout:(t,e)=>{t.userInfo=null,localStorage.removeItem("userInfo")}}}),{setCredentials:Rc,logout:qe}=Oc.actions,rp=Oc.reducer,Lc="/assets/logo1-CNx-Aou2.svg",ip=({email:t,rememberMe:e,onBack:n})=>{const[r,i]=j.useState(["","","","","",""]),[s,a]=j.useState(!1),[o,c]=j.useState(600),d=Se(),u=ce(),[h]=Wf();j.useEffect(()=>{if(o<=0)return;const v=setTimeout(()=>{c(o-1)},1e3);return()=>clearTimeout(v)},[o]);const p=v=>{const x=Math.floor(v/60),y=v%60;return`${x.toString().padStart(2,"0")}:${y.toString().padStart(2,"0")}`},f=(v,x)=>{if(!/^\d*$/.test(x))return;const y=[...r];y[v]=x,i(y),x&&v<5&&document.getElementById(`otp-input-${v+1}`).focus()},g=(v,x)=>{x.key==="Backspace"&&!r[v]&&v>0&&document.getElementById(`otp-input-${v-1}`).focus()},m=async v=>{var y;v.preventDefault();const x=r.join("");if(x.length!==6){T.error("Please enter all 6 digits of the OTP");return}try{a(!0);const w=await h({email:t,otpCode:x,rememberMe:e}).unwrap();d(Rc({...w})),T.success("Login Successful!",{autoClose:2e3}),u("/filebrowse")}catch(w){T.error(((y=w==null?void 0:w.data)==null?void 0:y.message)||"Verification failed",{autoClose:2e3})}finally{a(!1)}},b=async()=>{var v,x;try{a(!0),await h({email:t,resendOtp:!0}).unwrap(),c(600),T.success("New OTP sent to your email",{autoClose:2e3}),i(["","","","","",""]),(v=document.getElementById("otp-input-0"))==null||v.focus()}catch(y){T.error(((x=y==null?void 0:y.data)==null?void 0:x.message)||"Failed to resend OTP",{autoClose:2e3})}finally{a(!1)}};return l.jsx("div",{className:"flex justify-center items-center w-full h-full bg-[#C95C34] p-4 sm:p-6",children:l.jsxs("div",{className:"w-full max-w-[530px] rounded-[26px] bg-[#F7F2EC] p-6 md:p-8 flex flex-col justify-center items-center",style:{maxHeight:"90vh",overflowY:"auto"},children:[l.jsx("img",{src:Lc,alt:"INDEPENDENTS BY SODEXO",className:"w-[246px] h-[45px] mb-[30px]"}),l.jsx("h2",{className:"text-xl font-semibold mb-2",children:"OTP Verification"}),l.jsxs("p",{className:"text-sm text-gray-600 mb-6 text-center",children:["We've sent a verification code to",l.jsx("br",{}),l.jsx("span",{className:"font-medium",children:t})]}),l.jsxs("form",{className:"space-y-6 w-full",onSubmit:m,children:[l.jsx("div",{className:"flex justify-center space-x-2 sm:space-x-4",children:r.map((v,x)=>l.jsx("input",{id:`otp-input-${x}`,type:"text",maxLength:1,value:v,onChange:y=>f(x,y.target.value),onKeyDown:y=>g(x,y),className:"w-10 h-12 text-center text-xl font-semibold border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#C95C34]",autoFocus:x===0},x))}),l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Time remaining: ",l.jsx("span",{className:o<60?"text-red-500 font-medium":"font-medium",children:p(o)})]}),l.jsx("button",{type:"button",onClick:b,disabled:s||o>0,className:`text-sm ${o>0?"text-gray-400":"text-[#C95C34] hover:underline"}`,children:"Resend OTP"})]}),l.jsxs("div",{className:"flex flex-col space-y-4",children:[l.jsx("button",{type:"submit",className:"bg-black text-white py-[10px] px-[66px] rounded-[6px] hover:bg-gray-800 w-full h-[43px] text-[15px]",disabled:s,children:s?"Verifying...":"Verify OTP"}),l.jsx("button",{type:"button",onClick:n,className:"text-sm text-gray-600 hover:underline",children:"Back to Login"})]})]})]})})},Ga="w-full px-4 py-3 rounded-[6px] border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#C95C34] focus:border-transparent",Oi=()=>{const[t,e]=j.useState(""),[n,r]=j.useState(""),[i,s]=j.useState(!1),[a,o]=j.useState(!1),c=Se(),d=ce(),[u,{isLoading:h}]=$f(),{userInfo:p}=di(y=>y.auth),f=j.useRef(!0);j.useEffect(()=>{if(p&&f.current){f.current=!1;const y=setTimeout(()=>{d("/filebrowse")},5);return()=>clearTimeout(y)}},[p,d]);const g=async y=>{var w;y.preventDefault();try{const S=await u({email:t,password:n,rememberMe:i}).unwrap();if(S.requireOtp){o(!0),T.info("Please enter the verification code sent to your email",{autoClose:5e3});return}c(Rc({...S})),T.success("Login Successful!",{autoClose:2e3}),f.current=!0,window.location.href="/filebrowse"}catch(S){T.error(((w=S==null?void 0:S.data)==null?void 0:w.message)||S.error,{autoClose:2e3})}},[m,b]=j.useState(!1),v=()=>{b(!m)},x=()=>{o(!1)};return l.jsx("div",{className:"flex justify-center items-center w-full h-full bg-[#C95C34] p-4 sm:p-6",children:a?l.jsx(ip,{email:t,rememberMe:i,onBack:x}):l.jsxs("div",{className:"w-full max-w-[530px] rounded-[26px] bg-[#F7F2EC] p-6 md:p-8 flex flex-col justify-center items-center",style:{maxHeight:"90vh",overflowY:"auto"},children:[l.jsx("img",{src:Lc,alt:"INDEPENDENTS BY SODEXO",className:"w-[246px] h-[45px] mb-[30px]"}),l.jsxs("form",{className:"space-y-6 w-full",onSubmit:g,children:[l.jsx("div",{children:l.jsx("input",{type:"email",className:Ga,placeholder:"Email",value:t,onChange:y=>e(y.target.value)})}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:m?"text":"password",className:Ga,placeholder:"Password",value:n,onChange:y=>r(y.target.value)}),l.jsx("button",{type:"button",onClick:v,className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:m?l.jsx($r,{}):l.jsx(Kt,{})})]}),l.jsxs("div",{className:"flex flex-col space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",className:"form-checkbox",checked:i,onChange:y=>s(y.target.checked)}),l.jsx("span",{className:"ml-2 text-sm text-[#222221] text-[12px]",children:"Remember me"})]}),l.jsx("button",{type:"submit",className:"bg-black text-white py-[10px] px-[66px] rounded-[6px] hover:bg-gray-800 w-[164px] h-[43px] text-[15px]",disabled:h,children:h?"Logging in...":"Login"})]}),l.jsx("div",{className:"text-end",children:l.jsx(Y,{to:"/forget-password",className:"text-[12px] text-[#222221] hover:underline",children:"Forget Password?"})})]})]})]})})},sp=()=>l.jsxs("div",{className:"flex flex-col h-screen font-poppins relative",children:[l.jsxs("div",{className:"hidden md:flex flex-row h-full",children:[l.jsx("div",{className:"w-1/2 h-full bg-cover bg-center",children:l.jsx("img",{src:as,alt:"Login Side Image",className:"w-full h-full object-cover"})}),l.jsx("div",{className:"w-1/2 h-full",children:l.jsx(Oi,{})})]}),l.jsxs("div",{className:"hidden sm:block md:hidden w-full h-full",children:[l.jsx("div",{className:"w-full h-1/3 bg-cover bg-center",children:l.jsx("img",{src:as,alt:"Login Side Image",className:"w-full h-full object-cover"})}),l.jsx("div",{className:"w-full h-2/3 flex justify-center items-start pt-8",children:l.jsx(Oi,{})})]}),l.jsx("div",{className:"block sm:hidden w-full h-full bg-[#C95C34]",children:l.jsx(Oi,{})}),l.jsx("div",{className:"absolute top-[111px] inset-x-0 flex justify-center z-10",children:l.jsx("img",{src:hi,alt:"Logo",className:"w-[133px] h-[133px] object-contain"})})]});function ap(t){return te({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M208 448V320h96v128h97.6V256H464L256 64 48 256h62.4v192z"},child:[]}]})(t)}function Qa(t){return te({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M224,64H154.67L126.93,43.2a16.12,16.12,0,0,0-9.6-3.2H72A16,16,0,0,0,56,56V72H40A16,16,0,0,0,24,88V200a16,16,0,0,0,16,16H192.89A15.13,15.13,0,0,0,208,200.89V184h16.89A15.13,15.13,0,0,0,240,168.89V80A16,16,0,0,0,224,64Zm0,104H208V112a16,16,0,0,0-16-16H122.67L94.93,75.2a16.12,16.12,0,0,0-9.6-3.2H72V56h45.33L147.2,78.4A8,8,0,0,0,152,80h72Z"},child:[]}]})(t)}function op(t){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M7.5 3.375c0-1.036.84-1.875 1.875-1.875h.375a3.75 3.75 0 0 1 3.75 3.75v1.875C13.5 8.161 14.34 9 15.375 9h1.875A3.75 3.75 0 0 1 21 12.75v3.375C21 17.16 20.16 18 19.125 18h-9.75A1.875 1.875 0 0 1 7.5 16.125V3.375Z"},child:[]},{tag:"path",attr:{d:"M15 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 17.25 7.5h-1.875A.375.375 0 0 1 15 7.125V5.25ZM4.875 6H6v10.125A3.375 3.375 0 0 0 9.375 19.5H16.5v1.125c0 1.035-.84 1.875-1.875 1.875h-9.75A1.875 1.875 0 0 1 3 20.625V7.875C3 6.839 3.84 6 4.875 6Z"},child:[]}]})(t)}function lp(t){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M4.5 6.375a4.125 4.125 0 1 1 8.25 0 4.125 4.125 0 0 1-8.25 0ZM14.25 8.625a3.375 3.375 0 1 1 6.75 0 3.375 3.375 0 0 1-6.75 0ZM1.5 19.125a7.125 7.125 0 0 1 14.25 0v.003l-.001.119a.75.75 0 0 1-.363.63 13.067 13.067 0 0 1-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 0 1-.364-.63l-.001-.122ZM17.25 19.128l-.001.144a2.25 2.25 0 0 1-.233.96 10.088 10.088 0 0 0 5.06-1.01.75.75 0 0 0 .42-.643 4.875 4.875 0 0 0-6.957-4.611 8.586 8.586 0 0 1 1.71 5.157v.003Z"},child:[]}]})(t)}function cp(t){return te({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 11C14.7614 11 17 13.2386 17 16V22H15V16C15 14.4023 13.7511 13.0963 12.1763 13.0051L12 13C10.4023 13 9.09634 14.2489 9.00509 15.8237L9 16V22H7V16C7 13.2386 9.23858 11 12 11ZM5.5 14C5.77885 14 6.05009 14.0326 6.3101 14.0942C6.14202 14.594 6.03873 15.122 6.00896 15.6693L6 16L6.0007 16.0856C5.88757 16.0456 5.76821 16.0187 5.64446 16.0069L5.5 16C4.7203 16 4.07955 16.5949 4.00687 17.3555L4 17.5V22H2V17.5C2 15.567 3.567 14 5.5 14ZM18.5 14C20.433 14 22 15.567 22 17.5V22H20V17.5C20 16.7203 19.4051 16.0796 18.6445 16.0069L18.5 16C18.3248 16 18.1566 16.03 18.0003 16.0852L18 16C18 15.3343 17.8916 14.694 17.6915 14.0956C17.9499 14.0326 18.2211 14 18.5 14ZM5.5 8C6.88071 8 8 9.11929 8 10.5C8 11.8807 6.88071 13 5.5 13C4.11929 13 3 11.8807 3 10.5C3 9.11929 4.11929 8 5.5 8ZM18.5 8C19.8807 8 21 9.11929 21 10.5C21 11.8807 19.8807 13 18.5 13C17.1193 13 16 11.8807 16 10.5C16 9.11929 17.1193 8 18.5 8ZM5.5 10C5.22386 10 5 10.2239 5 10.5C5 10.7761 5.22386 11 5.5 11C5.77614 11 6 10.7761 6 10.5C6 10.2239 5.77614 10 5.5 10ZM18.5 10C18.2239 10 18 10.2239 18 10.5C18 10.7761 18.2239 11 18.5 11C18.7761 11 19 10.7761 19 10.5C19 10.2239 18.7761 10 18.5 10ZM12 2C14.2091 2 16 3.79086 16 6C16 8.20914 14.2091 10 12 10C9.79086 10 8 8.20914 8 6C8 3.79086 9.79086 2 12 2ZM12 4C10.8954 4 10 4.89543 10 6C10 7.10457 10.8954 8 12 8C13.1046 8 14 7.10457 14 6C14 4.89543 13.1046 4 12 4Z"},child:[]}]})(t)}function dp(t){return te({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Circle_Plus"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M15,12.5H12.5V15a.5.5,0,0,1-1,0V12.5H9a.5.5,0,0,1,0-1h2.5V9a.5.5,0,0,1,1,0v2.5H15A.5.5,0,0,1,15,12.5Z"},child:[]},{tag:"path",attr:{d:"M12,21.932A9.934,9.934,0,1,1,21.932,12,9.944,9.944,0,0,1,12,21.932ZM12,3.065A8.934,8.934,0,1,0,20.932,12,8.944,8.944,0,0,0,12,3.065Z"},child:[]}]}]}]})(t)}function up(t){return te({tag:"svg",attr:{viewBox:"0 0 1024 1024",fill:"currentColor",fillRule:"evenodd"},child:[{tag:"path",attr:{d:"M799.855 166.312c.023.007.043.018.084.059l57.69 57.69c.041.041.052.06.059.084a.118.118 0 0 1 0 .069c-.007.023-.018.042-.059.083L569.926 512l287.703 287.703c.041.04.052.06.059.083a.118.118 0 0 1 0 .07c-.007.022-.018.042-.059.083l-57.69 57.69c-.041.041-.06.052-.084.059a.118.118 0 0 1-.069 0c-.023-.007-.042-.018-.083-.059L512 569.926 224.297 857.629c-.04.041-.06.052-.083.059a.118.118 0 0 1-.07 0c-.022-.007-.042-.018-.083-.059l-57.69-57.69c-.041-.041-.052-.06-.059-.084a.118.118 0 0 1 0-.069c.007-.023.018-.042.059-.083L454.073 512 166.371 224.297c-.041-.04-.052-.06-.059-.083a.118.118 0 0 1 0-.07c.007-.022.018-.042.059-.083l57.69-57.69c.041-.041.06-.052.084-.059a.118.118 0 0 1 .069 0c.023.007.042.018.083.059L512 454.073l287.703-287.702c.04-.041.06-.052.083-.059a.118.118 0 0 1 .07 0Z"},child:[]}]})(t)}function hp(t){return te({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"},child:[]}]})(t)}const fp=Yn.injectEndpoints({endpoints:t=>({getCategories:t.query({query:()=>({url:hn,method:"GET"}),providesTags:["Category"]}),addCategory:t.mutation({query:e=>({url:hn,method:"POST",body:e}),invalidatesTags:["Category"]}),updateCategory:t.mutation({query:e=>({url:`${hn}/${e.id}`,method:"PUT",body:{name:e.name}}),invalidatesTags:["Category"]}),deleteCategory:t.mutation({query:e=>({url:`${hn}/${e}`,method:"DELETE"}),invalidatesTags:["Category"]}),reorderCategories:t.mutation({query:e=>({url:`${hn}/reorder`,method:"PUT",body:{orderedCategories:e}}),invalidatesTags:["Category"]})})}),{useGetCategoriesQuery:rn,useAddCategoryMutation:pp,useUpdateCategoryMutation:gp,useDeleteCategoryMutation:mp,useReorderCategoriesMutation:xp}=fp,Fc=()=>{const[t,e]=j.useState(null);return j.useEffect(()=>{const n=localStorage.getItem("userInfo");e(n)},[]),t},$e=()=>{const t=Fc(),[e,n]=j.useState(null),[r,i]=j.useState(null),{data:s,error:a}=mi(r,{skip:!r}),{data:o,error:c}=Zf(e,{skip:!e}),[d,u]=j.useState(null),[h,p]=j.useState(null);return j.useEffect(()=>{if(t)try{const g=JSON.parse(t)._id;g?i(g):console.error("ID not found in userInfo.")}catch(f){console.error("Error parsing userInfo from local storage:",f)}else{const g=new URLSearchParams(window.location.search).get("t");g&&n(g)}},[t]),j.useEffect(()=>{s?u(s):a&&(p(a),console.error("Error fetching user data"))},[s,a]),j.useEffect(()=>{o?u(o):c&&(p(c),console.error("Error fetching token user data"))},[o,c]),{data:d,error:h}},vp="/assets/logo-CN4F7ZeJ.svg",ye=({activeLink:t})=>{const[e,n]=j.useState(!1),{userInfo:r}=di(h=>h.auth),i=r==null?void 0:r.isAdmin,{data:s,error:a}=$e();tn();const{data:o,error:c}=rn();j.useEffect(()=>{s||a&&T.error("Error fetching user data")},[s,a]),j.useEffect(()=>{c&&T.error("Error loading categories")},[c]);const d=()=>{n(!e)},u=h=>h===t?"flex items-center gap-4 px-3 py-2 rounded-lg bg-custom-bg text-[#D9534F] font-medium text-[15px] font-bitter":"flex items-center gap-4 px-3 py-2 rounded-lg text-[15px] hover:bg-custom-bg hover:text-[#D9534F] transition font-light font-bitter";return l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:d,className:"fixed top-6 left-1 z-30 bg-[#C95C34] text-white text-sm p-2 rounded shadow-lg md:hidden",children:e?l.jsx(up,{}):l.jsx(hp,{})}),l.jsxs("aside",{className:`fixed top-0 h-screen min-w-64 bg-[#C95C34] text-white z-20 transform ${e?"translate-x-0":"-translate-x-full"} transition-transform duration-300 md:relative md:translate-x-0 flex flex-col md:min-w-72 md:h-screen px-6 py-6 md:py-3 justify-between overflow-y-auto`,children:[l.jsx("div",{children:l.jsx("img",{src:vp,alt:"Independents by Sodexo Logo",className:"mx-auto mb-[30px] mt-[15px]"})}),l.jsxs("nav",{className:"space-y-2",children:[l.jsxs(Y,{to:r?"/filebrowse":"#",className:u("Home"),children:[l.jsx(ap,{className:"text-xl"}),"Home"]}),i&&l.jsxs(Y,{to:"/dashboard",className:u("Dashboard"),children:[l.jsx(Ch,{className:"text-xl"}),"Dashboard"]}),i&&l.jsxs(Y,{to:r?"/addfile":"#",className:u("Add"),children:[l.jsxs("div",{className:"relative inline-block",children:[l.jsx(Qa,{className:"text-xl hover:text-[#D9534F]"}),l.jsx(dp,{className:"absolute bottom-0 right-0 text-[12px] bg-custom-bg text-[#D9534F] rounded-full"})]}),"Add File"]}),l.jsxs(Y,{to:r?"/allfiles":"#",className:u("All Files"),children:[l.jsx(Qa,{className:"text-xl"}),"All Files"]}),l.jsxs(Y,{to:r?"/shared":"#",className:u("Shared"),children:[l.jsx(lp,{className:"text-xl"}),"Shared with Me"]}),l.jsxs(Y,{to:r?"/favourites":"#",className:u("Favourites"),children:[l.jsx(vc,{className:"text-xl"}),"Favourites"]}),i&&l.jsxs(Y,{to:r?"/delete":"#",className:u("Delete"),children:[l.jsx(cp,{className:"text-xl"}),"User List"]}),l.jsxs(Y,{to:r?"/support":"#",className:u("Support"),children:[l.jsx(xc,{className:"text-xl"}),"Support"]})]}),l.jsxs("div",{className:"mt-[40px]",children:[l.jsx("h3",{className:"text-lg font-semibold mb-[5px] font-bitter px-3",children:"CATEGORIES"}),l.jsx("ul",{className:"space-y-1",children:o==null?void 0:o.map(h=>l.jsx("li",{children:l.jsx(Y,{to:`/category/${h._id}`,className:h._id===t?"flex items-center gap-4 px-3 py-2 rounded-lg bg-custom-bg text-[#D9534F] font-medium text-[15px] font-bitter":"flex items-center gap-4 px-3 py-2 rounded-lg text-[15px] hover:bg-custom-bg hover:text-[#D9534F] transition font-light font-bitter",children:h.name})},h._id))})]}),l.jsxs("footer",{className:"text-xs text-white opacity-70",children:[" ",new Date().getFullYear()," Independents by Sodexo"]})]}),e&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-10 lg:hidden",onClick:d})]})};function bp(t){return te({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M10 3H4a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zM9 9H5V5h4v4zm11-6h-6a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zm-1 6h-4V5h4v4zm-9 4H4a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-6a1 1 0 0 0-1-1zm-1 6H5v-4h4v4zm8-6c-2.206 0-4 1.794-4 4s1.794 4 4 4 4-1.794 4-4-1.794-4-4-4zm0 6c-1.103 0-2-.897-2-2s.897-2 2-2 2 .897 2 2-.897 2-2 2z"},child:[]}]})(t)}const yp="data:image/svg+xml,%3csvg%20width='35'%20height='35'%20viewBox='0%200%2035%2035'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='35'%20height='35'%20rx='6'%20fill='%23E8D4E8'/%3e%3cpath%20d='M18%2019.125L22.5%2016.125L18%2013.125V19.125ZM13.275%2025.4062C12.8625%2025.4687%2012.4908%2025.372%2012.1598%2025.116C11.8288%2024.86%2011.638%2024.5255%2011.5875%2024.1125L10.5938%2015.9187C10.5438%2015.5062%2010.6438%2015.1375%2010.8938%2014.8125C11.1438%2014.4875%2011.475%2014.3%2011.8875%2014.25L12.75%2014.1375V20.25C12.75%2021.075%2013.0438%2021.7812%2013.6313%2022.3687C14.2188%2022.9562%2014.925%2023.25%2015.75%2023.25H22.725C22.65%2023.55%2022.5%2023.8095%2022.275%2024.0285C22.05%2024.2475%2021.775%2024.3755%2021.45%2024.4125L13.275%2025.4062ZM15.75%2021.75C15.3375%2021.75%2014.9845%2021.6032%2014.691%2021.3097C14.3975%2021.0162%2014.2505%2020.663%2014.25%2020.25V12C14.25%2011.5875%2014.397%2011.2345%2014.691%2010.941C14.985%2010.6475%2015.338%2010.5005%2015.75%2010.5H24C24.4125%2010.5%2024.7658%2010.647%2025.0598%2010.941C25.3538%2011.235%2025.5005%2011.588%2025.5%2012V20.25C25.5%2020.6625%2025.3533%2021.0157%2025.0598%2021.3097C24.7663%2021.6037%2024.413%2021.7505%2024%2021.75H15.75Z'%20fill='%23755476'/%3e%3c/svg%3e",wp="data:image/svg+xml,%3csvg%20width='35'%20height='35'%20viewBox='0%200%2035%2035'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='35'%20height='35'%20rx='6'%20fill='%23E0EEF8'/%3e%3cg%20clip-path='url(%23clip0_872_139)'%3e%3cpath%20d='M24.8305%2012.9375H13.9922C12.7969%2012.9375%2011.8125%2013.9046%2011.8125%2015.0936V23.7189C11.8125%2024.9079%2012.7969%2025.875%2013.9922%2025.875H24.8203C26.0156%2025.875%2027%2024.9546%2027%2023.7656V15.0936C27%2013.9046%2026.0269%2012.9375%2024.8305%2012.9375ZM22.1182%2015.094C22.4376%2015.0959%2022.7493%2015.1924%2023.014%2015.3713C23.2786%2015.5502%2023.4844%2015.8034%2023.6053%2016.0991C23.7261%2016.3948%2023.7568%2016.7196%2023.6933%2017.0327C23.6298%2017.3457%2023.475%2017.6329%2023.2484%2017.8581C23.0219%2018.0833%2022.7337%2018.2364%2022.4203%2018.298C22.1068%2018.3596%2021.7822%2018.327%2021.4872%2018.2043C21.1923%2018.0816%2020.9403%2017.8743%2020.763%2017.6086C20.5858%2017.3429%2020.4912%2017.0306%2020.4912%2016.7112C20.4928%2016.281%2020.6651%2015.8692%2020.9701%2015.5659C21.2752%2015.2626%2021.6881%2015.0928%2022.1182%2015.0936V15.094ZM13.9778%2024.7971C13.3801%2024.7971%2012.928%2024.3137%2012.928%2023.7192V21.44L16.1082%2018.5998C16.4191%2018.3263%2016.8222%2018.1809%2017.2361%2018.1928C17.65%2018.2047%2018.0439%2018.3732%2018.3386%2018.6641L20.5407%2020.8477L16.5681%2024.7968L13.9778%2024.7971ZM25.875%2023.7189C25.875%2023.8606%2025.847%2024.0008%2025.7927%2024.1317C25.7384%2024.2626%2025.6588%2024.3815%2025.5586%2024.4816C25.4583%2024.5817%2025.3393%2024.661%2025.2083%2024.7151C25.0774%2024.7692%2024.937%2024.7969%2024.7954%2024.7968H18.1055L22.2216%2020.707C22.5137%2020.4606%2022.8832%2020.325%2023.2654%2020.324C23.6475%2020.3229%2024.0178%2020.4566%2024.3112%2020.7014L25.875%2022.0286V23.7189Z'%20fill='%236C8EA4'/%3e%3cpath%20d='M22.5%2010.125H11.25C10.6533%2010.125%2010.081%2010.3621%209.65901%2010.784C9.23705%2011.206%209%2011.7783%209%2012.375V21.375C9.00041%2021.8738%209.1663%2022.3585%209.47168%2022.7529C9.77706%2023.1473%2010.2047%2023.4293%2010.6875%2023.5547V14.3438C10.6875%2013.6724%2010.9542%2013.0286%2011.4289%2012.5539C11.9036%2012.0792%2012.5474%2011.8125%2013.2188%2011.8125H24.6797C24.5543%2011.3297%2024.2723%2010.9021%2023.8779%2010.5967C23.4835%2010.2913%2022.9988%2010.1254%2022.5%2010.125Z'%20fill='%236C8EA4'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_872_139'%3e%3crect%20width='18'%20height='18'%20fill='white'%20transform='translate(9%209)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",jp="data:image/svg+xml,%3csvg%20width='35'%20height='35'%20viewBox='0%200%2035%2035'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='35'%20height='35'%20rx='6'%20fill='%23FFE0D5'/%3e%3cpath%20d='M19.4903%2017.7187C19.518%2017.7187%2019.5451%2017.7105%2019.5682%2017.6952C19.5912%2017.6799%2019.6093%2017.6581%2019.62%2017.6326C19.6308%2017.607%2019.6337%2017.5789%2019.6285%2017.5517C19.6233%2017.5245%2019.6102%2017.4994%2019.5908%2017.4796L16.8346%2014.677C16.815%2014.6571%2016.7899%2014.6435%2016.7626%2014.6379C16.7352%2014.6323%2016.7068%2014.6349%2016.681%2014.6455C16.6552%2014.6561%2016.6331%2014.6742%2016.6176%2014.6974C16.602%2014.7205%2016.5937%2014.7478%2016.5938%2014.7758V17.2968C16.5938%2017.4087%2016.6382%2017.516%2016.7173%2017.5951C16.7964%2017.6742%2016.9037%2017.7187%2017.0156%2017.7187H19.4903Z'%20fill='%23C95C34'/%3e%3cpath%20d='M15.9258%2018.3867C15.7814%2018.2442%2015.6666%2018.0745%2015.5882%2017.8875C15.5098%2017.7004%2015.4692%2017.4997%2015.4687%2017.2968V14.0624H12.9375C12.3413%2014.0642%2011.77%2014.3018%2011.3485%2014.7234C10.9269%2015.145%2010.6893%2015.7162%2010.6875%2016.3124V24.1874C10.6875%2024.7842%2010.9246%2025.3565%2011.3465%2025.7784C11.7685%2026.2004%2012.3408%2026.4374%2012.9375%2026.4374H18C18.5967%2026.4374%2019.169%2026.2004%2019.591%2025.7784C20.0129%2025.3565%2020.25%2024.7842%2020.25%2024.1874V18.8437H17.0156C16.8128%2018.8434%2016.612%2018.8029%2016.4249%2018.7244C16.2378%2018.646%2016.0682%2018.5312%2015.9258%2018.3867ZM22.0781%2013.2187H24.5528C24.5805%2013.2187%2024.6076%2013.2105%2024.6306%2013.1952C24.6537%2013.1799%2024.6718%2013.1581%2024.6825%2013.1326C24.6933%2013.107%2024.6962%2013.0789%2024.691%2013.0517C24.6858%2013.0245%2024.6727%2012.9994%2024.6533%2012.9796L21.8971%2010.177C21.8775%2010.1571%2021.8524%2010.1435%2021.8251%2010.1379C21.7977%2010.1323%2021.7693%2010.1349%2021.7435%2010.1455C21.7177%2010.1561%2021.6956%2010.1742%2021.68%2010.1974C21.6645%2010.2205%2021.6562%2010.2478%2021.6562%2010.2758V12.7968C21.6562%2012.9087%2021.7007%2013.016%2021.7798%2013.0951C21.8589%2013.1742%2021.9662%2013.2187%2022.0781%2013.2187Z'%20fill='%23C95C34'/%3e%3cpath%20d='M22.0781%2014.3438C21.6688%2014.3406%2021.2772%2014.1766%2020.9878%2013.8872C20.6984%2013.5978%2020.5344%2013.2062%2020.5312%2012.7969V9.5625H16.7344C16.1751%209.56315%2015.639%209.7856%2015.2435%2010.181C14.8481%2010.5765%2014.6257%2011.1126%2014.625%2011.6719V12.9375H16.1058C16.2948%2012.9382%2016.4818%2012.9763%2016.656%2013.0496C16.8303%2013.1228%2016.9883%2013.2298%2017.1211%2013.3643L20.9587%2017.2666C21.2265%2017.5383%2021.376%2017.9048%2021.3746%2018.2862V23.0625H23.2397C24.3826%2023.0625%2025.3121%2022.1161%2025.3121%2020.9531V14.3438H22.0781Z'%20fill='%23C95C34'/%3e%3c/svg%3e",Sp="data:image/svg+xml,%3csvg%20width='35'%20height='35'%20viewBox='0%200%2035%2035'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='35'%20height='35'%20rx='6'%20fill='%23F4F4D6'/%3e%3cpath%20d='M19.4903%2017.7187C19.518%2017.7187%2019.5451%2017.7105%2019.5682%2017.6952C19.5912%2017.6799%2019.6093%2017.6581%2019.62%2017.6326C19.6308%2017.607%2019.6337%2017.5789%2019.6285%2017.5517C19.6233%2017.5245%2019.6102%2017.4994%2019.5908%2017.4796L16.8346%2014.677C16.815%2014.6571%2016.7899%2014.6435%2016.7626%2014.6379C16.7352%2014.6323%2016.7068%2014.6349%2016.681%2014.6455C16.6552%2014.6561%2016.6331%2014.6742%2016.6176%2014.6974C16.602%2014.7205%2016.5937%2014.7478%2016.5938%2014.7758V17.2968C16.5938%2017.4087%2016.6382%2017.516%2016.7173%2017.5951C16.7964%2017.6742%2016.9037%2017.7187%2017.0156%2017.7187H19.4903Z'%20fill='%238A8A58'/%3e%3cpath%20d='M15.9258%2018.3867C15.7814%2018.2442%2015.6666%2018.0745%2015.5882%2017.8875C15.5098%2017.7004%2015.4692%2017.4997%2015.4687%2017.2968V14.0624H12.9375C12.3413%2014.0642%2011.77%2014.3018%2011.3485%2014.7234C10.9269%2015.145%2010.6893%2015.7162%2010.6875%2016.3124V24.1874C10.6875%2024.7842%2010.9246%2025.3565%2011.3465%2025.7784C11.7685%2026.2004%2012.3408%2026.4374%2012.9375%2026.4374H18C18.5967%2026.4374%2019.169%2026.2004%2019.591%2025.7784C20.0129%2025.3565%2020.25%2024.7842%2020.25%2024.1874V18.8437H17.0156C16.8128%2018.8434%2016.612%2018.8029%2016.4249%2018.7244C16.2378%2018.646%2016.0682%2018.5312%2015.9258%2018.3867ZM22.0781%2013.2187H24.5528C24.5805%2013.2187%2024.6076%2013.2105%2024.6306%2013.1952C24.6537%2013.1799%2024.6718%2013.1581%2024.6825%2013.1326C24.6933%2013.107%2024.6962%2013.0789%2024.691%2013.0517C24.6858%2013.0245%2024.6727%2012.9994%2024.6533%2012.9796L21.8971%2010.177C21.8775%2010.1571%2021.8524%2010.1435%2021.8251%2010.1379C21.7977%2010.1323%2021.7693%2010.1349%2021.7435%2010.1455C21.7177%2010.1561%2021.6956%2010.1742%2021.68%2010.1974C21.6645%2010.2205%2021.6562%2010.2478%2021.6562%2010.2758V12.7968C21.6562%2012.9087%2021.7007%2013.016%2021.7798%2013.0951C21.8589%2013.1742%2021.9662%2013.2187%2022.0781%2013.2187Z'%20fill='%238A8A58'/%3e%3cpath%20d='M22.0781%2014.3438C21.6688%2014.3406%2021.2772%2014.1766%2020.9878%2013.8872C20.6984%2013.5978%2020.5344%2013.2062%2020.5312%2012.7969V9.5625H16.7344C16.1751%209.56315%2015.639%209.7856%2015.2435%2010.181C14.8481%2010.5765%2014.6257%2011.1126%2014.625%2011.6719V12.9375H16.1058C16.2948%2012.9382%2016.4818%2012.9763%2016.656%2013.0496C16.8303%2013.1228%2016.9883%2013.2298%2017.1211%2013.3643L20.9587%2017.2666C21.2265%2017.5383%2021.376%2017.9048%2021.3746%2018.2862V23.0625H23.2397C24.3826%2023.0625%2025.3121%2022.1161%2025.3121%2020.9531V14.3438H22.0781Z'%20fill='%238A8A58'/%3e%3c/svg%3e",Cp="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M10.5%202C9.1446%202.00012%207.80887%202.32436%206.60427%202.94569C5.39966%203.56702%204.3611%204.46742%203.57525%205.57175C2.78939%206.67609%202.27902%207.95235%202.08672%209.29404C1.89442%2010.6357%202.02576%2012.004%202.46979%2013.2846C2.91382%2014.5652%203.65766%2015.7211%204.63925%2016.6557C5.62084%2017.5904%206.81171%2018.2768%208.11252%2018.6576C9.41333%2019.0384%2010.7864%2019.1026%2012.117%2018.8449C13.4477%2018.5872%2014.6975%2018.015%2015.762%2017.176L19.414%2020.828C19.6026%2021.0102%2019.8552%2021.111%2020.1174%2021.1087C20.3796%2021.1064%2020.6304%2021.0012%2020.8158%2020.8158C21.0012%2020.6304%2021.1064%2020.3796%2021.1087%2020.1174C21.111%2019.8552%2021.0102%2019.6026%2020.828%2019.414L17.176%2015.762C18.164%2014.5086%2018.7792%2013.0024%2018.9511%2011.4157C19.123%209.82905%2018.8448%208.22602%2018.1482%206.79009C17.4517%205.35417%2016.3649%204.14336%2015.0123%203.29623C13.6597%202.44911%2012.096%201.99989%2010.5%202ZM4.00001%2010.5C4.00001%208.77609%204.68483%207.12279%205.90382%205.90381C7.1228%204.68482%208.7761%204%2010.5%204C12.2239%204%2013.8772%204.68482%2015.0962%205.90381C16.3152%207.12279%2017%208.77609%2017%2010.5C17%2012.2239%2016.3152%2013.8772%2015.0962%2015.0962C13.8772%2016.3152%2012.2239%2017%2010.5%2017C8.7761%2017%207.1228%2016.3152%205.90382%2015.0962C4.68483%2013.8772%204.00001%2012.2239%204.00001%2010.5Z'%20fill='%23222221'/%3e%3c/svg%3e",Ht="/api/files",se=Yn.injectEndpoints({endpoints:t=>({getAllFiles:t.query({query:e=>({url:"/api/files/all",params:{page:(e==null?void 0:e.page)||1,limit:(e==null?void 0:e.limit)||20}}),providesTags:(e,n,r)=>[{type:"Files",id:"LIST"},{type:"AllFiles",id:"LIST"},{type:"AllFiles",id:`page-${(r==null?void 0:r.page)||1}`},...((e==null?void 0:e.files)||[]).map(i=>({type:"File",id:i._id}))],transformResponse:e=>({files:e.files,totalPages:e.totalPages,currentPage:e.currentPage,totalFiles:e.totalFiles}),keepUnusedDataFor:60,async onQueryStarted(e,{dispatch:n,queryFulfilled:r}){try{const{data:i}=await r,s=(e==null?void 0:e.page)||1;s<i.totalPages&&n(se.util.prefetch("getAllFiles",{page:s+1,limit:20},{force:!1})),s>1&&n(se.util.prefetch("getAllFiles",{page:s-1,limit:20},{force:!1}))}catch{}}}),getRecentFiles:t.query({query:e=>({url:"/api/files/recent",params:{page:(e==null?void 0:e.page)||1,limit:(e==null?void 0:e.limit)||20}}),providesTags:(e,n,r)=>[{type:"Files",id:"LIST"},{type:"RecentFiles",id:"LIST"},{type:"RecentFiles",id:`page-${(r==null?void 0:r.page)||1}`},...((e==null?void 0:e.files)||[]).map(i=>({type:"File",id:i._id}))],transformResponse:e=>({files:e.files,totalPages:e.totalPages,currentPage:e.currentPage,totalFiles:e.totalFiles}),keepUnusedDataFor:60,async onQueryStarted(e,{dispatch:n,queryFulfilled:r}){try{const{data:i}=await r,s=(e==null?void 0:e.page)||1;s<i.totalPages&&n(se.util.prefetch("getRecentFiles",{page:s+1,limit:20},{force:!1})),s>1&&n(se.util.prefetch("getRecentFiles",{page:s-1,limit:20},{force:!1}))}catch{}}}),getSharedFiles:t.query({query:e=>({url:"/api/files/shared",params:{page:(e==null?void 0:e.page)||1,limit:(e==null?void 0:e.limit)||20}}),providesTags:(e,n,r)=>[{type:"Files",id:"LIST"},{type:"SharedFiles",id:"LIST"},{type:"SharedFiles",id:`page-${(r==null?void 0:r.page)||1}`},...((e==null?void 0:e.files)||[]).map(i=>({type:"File",id:i._id}))],transformResponse:e=>({files:e.files,totalPages:e.totalPages,currentPage:e.currentPage,totalFiles:e.totalFiles}),keepUnusedDataFor:60,async onQueryStarted(e,{dispatch:n,queryFulfilled:r}){try{const{data:i}=await r,s=(e==null?void 0:e.page)||1;s<i.totalPages&&n(se.util.prefetch("getSharedFiles",{page:s+1,limit:20},{force:!1})),s>1&&n(se.util.prefetch("getSharedFiles",{page:s-1,limit:20},{force:!1}))}catch{}}}),getDownloadedFiles:t.query({query:e=>({url:"/api/files/downloaded",params:{userId:e==null?void 0:e.userId,page:(e==null?void 0:e.page)||1,limit:(e==null?void 0:e.limit)||20}}),providesTags:(e,n,r)=>[{type:"Files",id:"LIST"},{type:"DownloadedFiles",id:"LIST"},{type:"DownloadedFiles",id:`page-${(r==null?void 0:r.page)||1}`},...((e==null?void 0:e.files)||[]).map(i=>({type:"File",id:i._id}))],transformResponse:e=>({files:e.files,totalPages:e.totalPages,currentPage:e.currentPage,totalFiles:e.totalFiles}),keepUnusedDataFor:60,async onQueryStarted(e,{dispatch:n,queryFulfilled:r}){try{const{data:i}=await r,s=(e==null?void 0:e.page)||1;s<i.totalPages&&n(se.util.prefetch("getDownloadedFiles",{page:s+1,limit:20},{force:!1})),s>1&&n(se.util.prefetch("getDownloadedFiles",{page:s-1,limit:20},{force:!1}))}catch{}}}),getFilesByType:t.query({query:e=>({url:`/api/files/type/${(e==null?void 0:e.fileType)||""}`,params:{page:(e==null?void 0:e.page)||1,limit:(e==null?void 0:e.limit)||20}}),providesTags:(e,n,r)=>[{type:"Files",id:"LIST"},{type:"FilesByType",id:r==null?void 0:r.fileType},{type:"FilesByType",id:`${r==null?void 0:r.fileType}-page-${(r==null?void 0:r.page)||1}`},...((e==null?void 0:e.files)||[]).map(i=>({type:"File",id:i._id}))],transformResponse:e=>({files:e.files,totalPages:e.totalPages,currentPage:e.currentPage,totalFiles:e.totalFiles}),keepUnusedDataFor:60,async onQueryStarted(e,{dispatch:n,queryFulfilled:r}){try{const{data:i}=await r,s=(e==null?void 0:e.page)||1,a=e==null?void 0:e.fileType;s<i.totalPages&&n(se.util.prefetch("getFilesByType",{fileType:a,page:s+1,limit:20},{force:!1})),s>1&&n(se.util.prefetch("getFilesByType",{fileType:a,page:s-1,limit:20},{force:!1}))}catch{}}}),getFilesByCategory:t.query({query:e=>({url:`/api/files/category/${(e==null?void 0:e.categoryId)||""}`,params:{page:(e==null?void 0:e.page)||1,limit:(e==null?void 0:e.limit)||20}}),providesTags:(e,n,r)=>[{type:"Files",id:"LIST"},{type:"CategoryFiles",id:r==null?void 0:r.categoryId},{type:"CategoryFiles",id:`${r==null?void 0:r.categoryId}-page-${(r==null?void 0:r.page)||1}`},...((e==null?void 0:e.files)||[]).map(i=>({type:"File",id:i._id}))],transformResponse:e=>({files:e.files,totalPages:e.totalPages,currentPage:e.currentPage,totalFiles:e.totalFiles}),keepUnusedDataFor:60,async onQueryStarted(e,{dispatch:n,queryFulfilled:r}){try{const{data:i}=await r,s=(e==null?void 0:e.page)||1,a=e==null?void 0:e.categoryId;s<i.totalPages&&n(se.util.prefetch("getFilesByCategory",{categoryId:a,page:s+1,limit:20},{force:!1})),s>1&&n(se.util.prefetch("getFilesByCategory",{categoryId:a,page:s-1,limit:20},{force:!1}))}catch{}}}),getFileById:t.query({query:e=>({url:`${Ht}/${e}`}),transformResponse:e=>({...e,user:e.user||{},sharedWith:e.sharedWith||[],publicDownloadUrl:e.publicDownloadUrl||"",publicThumbnailDownloadUrl:e.publicThumbnailDownloadUrl||""}),providesTags:(e,n,r)=>[{type:"File",id:r}]}),shareFile:t.mutation({query:({id:e,emails:n})=>({url:`${Ht}/${e}/share`,method:"POST",body:{emails:n}}),invalidatesTags:(e,n,{id:r})=>[{type:"Files",id:"LIST"},{type:"File",id:r}],async onQueryStarted({id:e,emails:n},{dispatch:r,queryFulfilled:i}){try{await i,r(se.util.updateQueryData("getFileById",e,s=>{s.sharedWith||(s.sharedWith=[]),n.forEach(a=>{s.sharedWith.some(o=>o.email===a)||s.sharedWith.push({email:a,_id:"temp_"+Date.now(),profilePicture:"/default-profile.png"})})}))}catch{}}}),removeAccess:t.mutation({query:({id:e,userId:n})=>({url:`${Ht}/${e}/remove-access`,method:"POST",body:{userId:n}}),invalidatesTags:(e,n,{id:r})=>[{type:"Files",id:"LIST"},{type:"File",id:r}],async onQueryStarted({id:e,userId:n},{dispatch:r,queryFulfilled:i}){try{await i,r(se.util.updateQueryData("getFileById",e,s=>{s.sharedWith&&(s.sharedWith=s.sharedWith.filter(a=>a._id!==n))}))}catch{}}}),deleteFile:t.mutation({query:e=>({url:`${Ht}/${e}`,method:"DELETE"}),invalidatesTags:(e,n,r)=>[{type:"Files",id:"LIST"},{type:"File",id:r},{type:"RecentFiles",id:"LIST"},{type:"FilesByType",id:"LIST"},{type:"CategoryFiles",id:"LIST"},{type:"AllFiles",id:"LIST"},{type:"SharedFiles",id:"LIST"},{type:"DownloadedFiles",id:"LIST"},{type:"Pinned",id:"LIST"},{type:"Favorites",id:"LIST"}],async onQueryStarted(e,{dispatch:n,queryFulfilled:r}){const i=[],s=(a,o,c)=>{c!=null&&c.files&&(c.files=c.files.filter(d=>d._id!==e),c.totalFiles>0&&c.totalFiles--,c.totalPages=Math.ceil(c.totalFiles/20))};try{const a=n(se.util.updateQueryData("getAllFiles",{page:1,limit:20},s));i.push(a);const o=n(se.util.updateQueryData("getRecentFiles",{page:1,limit:20},s));i.push(o);const c=n(se.util.updateQueryData("getSharedFiles",{page:1,limit:20},s));i.push(c);const d=n(se.util.updateQueryData("getDownloadedFiles",{page:1,limit:20},s));i.push(d);const u=n(se.util.updateQueryData("getFavoriteFiles",{page:1,limit:20},s));i.push(u);const h=n(se.util.updateQueryData("getPinnedFiles",{},s));i.push(h);const p=n(se.util.updateQueryData("getFilesByCategory",{page:1,limit:20},s));i.push(p);const f=n(se.util.updateQueryData("getFilesByType",{page:1,limit:20},s));i.push(f),window.dispatchEvent(new CustomEvent("fileDeleted",{detail:{fileId:e}})),await r}catch{i.forEach(a=>a.undo())}}}),updateFile:t.mutation({query:({id:e,formData:n})=>({url:`${Ht}/${e}`,method:"PUT",body:n,formData:!0}),invalidatesTags:(e,n,{id:r})=>[{type:"Files",id:"LIST"},{type:"File",id:r}]}),generateShareLink:t.mutation({query:({id:e,expirationDays:n})=>({url:`${Ht}/${e}/share-link`,method:"POST",body:{expirationDays:n}})}),getFavoriteFiles:t.query({query:e=>({url:"/api/files/favourites",params:{page:(e==null?void 0:e.page)||1,limit:(e==null?void 0:e.limit)||20}}),providesTags:(e,n,r)=>[{type:"Files",id:"LIST"},{type:"Favourites",id:"LIST"},{type:"Favourites",id:`page-${(r==null?void 0:r.page)||1}`},...((e==null?void 0:e.files)||[]).map(i=>({type:"File",id:i._id}))]}),toggleFavorite:t.mutation({query:e=>({url:`/api/files/${e}/favorite`,method:"POST"}),invalidatesTags:(e,n,r)=>[{type:"File",id:r},{type:"Files",id:"LIST"},{type:"Favourites",id:"LIST"}]}),getPinnedFiles:t.query({query:()=>"/api/files/pinned",providesTags:[{type:"Pinned",id:"LIST"}]}),togglePin:t.mutation({query:e=>({url:`/api/files/${e}/pin`,method:"POST"}),invalidatesTags:(e,n,r)=>[{type:"File",id:r},{type:"Files",id:"LIST"},{type:"Pinned",id:"LIST"}]}),trackDownload:t.mutation({query:e=>({url:`/api/files/${e}/track-download`,method:"POST"}),invalidatesTags:(e,n,r)=>[{type:"File",id:r}]}),searchFiles:t.query({query:e=>({url:"/api/files/search",params:{searchTerm:e}}),providesTags:["Files","SearchFiles"],transformResponse:e=>e.files,keepUnusedDataFor:0})})}),{useGetAllFilesQuery:Np,useGetRecentFilesQuery:Bc,useGetSharedFilesQuery:Dp,useGetDownloadedFilesQuery:Ep,useGetFilesByTypeQuery:Ip,useGetFilesByCategoryQuery:Ap,useGetFileByIdQuery:zc,useShareFileMutation:_p,useRemoveAccessMutation:Pp,useDeleteFileMutation:Mp,useUpdateFileMutation:Tp,useGenerateShareLinkMutation:kp,useGetFavoriteFilesQuery:Op,useToggleFavoriteMutation:Hc,useGetPinnedFilesQuery:Rp,useTogglePinMutation:Lp,useTrackDownloadMutation:Fp,useSearchFilesQuery:Bp}=se,ir="flex items-center gap-3 pl-2 pr-4 py-1 bg-white rounded-[6px] shadow-md hover:-translate-y-[5px] transform transition-all duration-1000 text-sm sm:text-base md:text-lg",Ce=({plus:t,filter:e,onFilterClick:n,activeFilter:r})=>{const[i,s]=j.useState(null),[a,o]=j.useState(null),[c]=Pc();Se(),ce();const{data:d,error:u}=$e(),h=Fc(),[p,f]=j.useState(""),[g,m]=j.useState(!1),b=j.useRef(null),v=j.useRef(null),x=j.useRef(null),{data:y=[],isFetching:w}=Bp(p||"",{skip:!p||p.length<2});j.useEffect(()=>{const E=D=>{b.current&&!b.current.contains(D.target)&&m(!1)};return document.addEventListener("mousedown",E),()=>{document.removeEventListener("mousedown",E)}},[]),j.useEffect(()=>{d?o(d.isAdmin):u&&T.error("Error fetching user data")},[d,u]),j.useEffect(()=>{const E=D=>{v.current&&!v.current.contains(D.target)&&x.current&&!x.current.contains(D.target)&&s(null)};return document.addEventListener("mousedown",E),()=>{document.removeEventListener("mousedown",E)}},[]);const S=()=>{s(i===1?null:1)},C=()=>{s(i===2?null:2)},N=async()=>{var E;try{document.head.querySelectorAll("meta[http-equiv]").forEach(_=>{["cache-control","pragma","expires"].includes(_.getAttribute("http-equiv").toLowerCase())&&_.remove()}),[{httpEquiv:"Cache-Control",content:"no-cache, no-store, must-revalidate"},{httpEquiv:"Pragma",content:"no-cache"},{httpEquiv:"Expires",content:"0"}].forEach(_=>{const P=document.createElement("meta");P.setAttribute("http-equiv",_.httpEquiv),P.setAttribute("content",_.content),document.head.appendChild(P)}),await c().unwrap(),localStorage.clear(),sessionStorage.clear();const A=document.createElement("html");A.innerHTML=`
        <head>
          <title>Logging out...</title>
          <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
          <meta http-equiv="Pragma" content="no-cache">
          <meta http-equiv="Expires" content="0">
          <script>
            window.onload = function() {
              localStorage.clear();
              sessionStorage.clear();
              window.location.replace('/login');
            }
          <\/script>
        </head>
        <body>
          <div style="display:flex;justify-content:center;align-items:center;height:100vh;">
            <p>Logging out...</p>
          </div>
        </body>
      `,document.open(),document.write(A.innerHTML),document.close()}catch(D){T.error(((E=D==null?void 0:D.data)==null?void 0:E.message)||D.error)}},I=E=>{const D=E.target.value;f(D),m(D.length>0)};return l.jsxs("div",{className:"flex flex-col gap-4 w-full relative",children:[l.jsxs("div",{className:"flex items-center justify-between gap-4 pl-8 sm:px-0",children:[l.jsxs("div",{className:"relative w-[80%] flex flex-row gap-6 items-center rounded-[6px] border border-custom-gray",ref:b,children:[l.jsx("img",{src:Cp,alt:"Search",className:"absolute left-6 top-1/2 transform -translate-y-1/2 w-5 h-5"}),l.jsx("input",{type:"text",placeholder:"Search",className:"pl-16 pr-4 h-[44px] text-[14px] rounded-[6px] w-full focus:outline-none focus:ring-2 focus:ring-orange-500",value:p,onChange:I,onFocus:()=>m(!0)}),g&&l.jsx("div",{className:"absolute left-0 right-0 top-[44px] bg-white rounded-b-md shadow-lg max-h-[400px] overflow-y-auto z-50 border-t",children:w?l.jsx("div",{className:"p-4 text-center text-gray-500",children:"Loading..."}):y.length>0?l.jsx(l.Fragment,{children:y.map((E,D)=>{var A;return l.jsxs(Y,{to:`/viewfile/${E._id}`,className:"flex items-center gap-4 p-3 hover:bg-gray-50 transition cursor-pointer",onClick:()=>m(!1),children:[l.jsx("img",{src:E.publicThumbnailDownloadUrl,alt:E.name,className:"w-[40px] h-[40px] object-cover rounded-md"}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-[14px] text-gray-800",children:E.name}),l.jsx("span",{className:"text-[12px] text-gray-500",children:((A=E.categories)==null?void 0:A.map(_=>_.name).join(", "))||"No categories"})]})]},D)})}):p.length>0?l.jsx("div",{className:"p-4 text-center text-gray-500",children:"No files found"}):null})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[t&&a&&l.jsx(Y,{to:h?"/addfile":"#",children:l.jsx("div",{className:"p-2 md:p-2 flex items-center justify-center cursor-pointer bg-[#D9534F] rounded-[7px]",children:l.jsx(cs,{className:"text-lg md:text-xl text-white"})})}),a&&l.jsxs("div",{className:"relative",ref:v,children:[l.jsx("div",{onClick:S,className:"p-2 md:p-2 flex items-center justify-center cursor-pointer bg-white rounded-[7px]",children:l.jsx(Eh,{className:"text-lg md:text-xl text-gray-600"})}),i===1&&l.jsxs("div",{className:"absolute right-0 mt-2 w-40 bg-white rounded shadow-lg z-50",children:[a&&l.jsxs(l.Fragment,{children:[l.jsx(Y,{to:h?"/delete":"#",className:"block px-4 py-2 text-gray-800 hover:text-custom-orange transition font-bitter",children:"All users"}),l.jsx(Y,{to:h?"/register":"#",className:"block px-4 py-2 text-gray-800 hover:text-custom-orange transition font-bitter",children:"Add a new users"})]}),l.jsx(Y,{to:h?"/view-category":"#",className:"block px-4 py-2 text-gray-800 hover:text-custom-orange transition font-bitter",children:"Settings"})]})]}),l.jsxs("div",{className:"relative",ref:x,children:[l.jsx("div",{onClick:C,className:"p-2 md:p-2 flex items-center justify-center cursor-pointer bg-white rounded-[7px]",children:l.jsx(Th,{className:"text-lg md:text-xl text-gray-600"})}),i===2&&l.jsxs("div",{className:"absolute right-0 mt-2 w-40 bg-white rounded shadow-lg z-50",children:[l.jsx(Y,{to:"/info",className:"block px-4 py-2 text-gray-800 hover:text-custom-orange transition font-bitter",children:"My Profile"}),l.jsx("button",{onClick:N,className:"block w-full text-left px-4 py-2 text-gray-800 hover:text-custom-orange transition font-bitter",children:"Logout"})]})]})]})]}),e&&l.jsxs("div",{className:"flex flex-wrap gap-2 sm:gap-4 font-bitter justify-start mt-4",children:[l.jsxs("button",{onClick:()=>n("Sell It Collateral"),className:`${ir} w-full sm:w-auto min-w-[180px] ${r==="Sell It Collateral"?"ring-2 ring-orange-500":""}`,children:[l.jsx("div",{className:"relative flex items-center w-8 h-8 sm:w-10 sm:h-10",children:l.jsx("img",{src:jp,alt:""})}),l.jsx("span",{className:"text-[12px] sm:text-[14px] md:text-[16px] text-center",children:"Sell It Collateral"})]}),l.jsxs("button",{onClick:()=>n("Operate It Collateral"),className:`${ir} w-full sm:w-auto min-w-[180px] ${r==="Operate It Collateral"?"ring-2 ring-orange-500":""}`,children:[l.jsx("div",{className:"relative flex items-center w-8 h-8 sm:w-10 sm:h-10",children:l.jsx("img",{src:Sp,alt:""})}),l.jsx("span",{className:"text-[12px] sm:text-[14px] md:text-[16px] text-center",children:"Operate It Collateral"})]}),l.jsxs("button",{onClick:()=>n("images"),className:`${ir} w-full sm:w-auto min-w-[180px] ${r==="images"?"ring-2 ring-orange-500":""}`,children:[l.jsx("div",{className:"relative flex items-center w-8 h-8 sm:w-10 sm:h-10",children:l.jsx("img",{src:wp,alt:""})}),l.jsx("span",{className:"text-[12px] sm:text-[14px] md:text-[16px] text-center",children:"Images"})]}),l.jsxs("button",{onClick:()=>n("videos"),className:`${ir} w-full sm:w-auto min-w-[180px] ${r==="videos"?"ring-2 ring-orange-500":""}`,children:[l.jsx("div",{className:"relative flex items-center w-8 h-8 sm:w-10 sm:h-10",children:l.jsx("img",{src:yp,alt:""})}),l.jsx("span",{className:"text-[12px] sm:text-[14px] md:text-[16px] text-center",children:"Videos"})]})]})]})},zp="pl-2 pr-4 py-2 bg-white rounded-[6px] flex items-center gap-3 text-[14px] sm:text-[16px] hover:-translate-y-[5px] transform transition-all duration-1000 shadow-md cursor-pointer w-full sm:w-auto text-[rgba(34, 34, 33, 1)]",Hp="w-[30px] h-[30px] sm:w-[35px] sm:h-[35px] object-cover rounded-md cursor-pointer",Vp=()=>{var r;const{data:t,isLoading:e,error:n}=Rp();return l.jsxs("div",{className:"mt-10 font-bitter",children:[l.jsx("h3",{className:"text-[20px] sm:text-[24px] font-semibold",children:"PINNED FILES"}),l.jsx("div",{className:"flex flex-col flex-wrap sm:flex-row gap-4 mt-4",children:e?l.jsx("p",{children:"Loading pinned files..."}):n?l.jsxs("p",{children:["Error loading pinned files: ",((r=n==null?void 0:n.data)==null?void 0:r.message)||n.error]}):(t==null?void 0:t.length)===0?l.jsx("p",{children:"No pinned files yet. Pin files to see them here."}):t==null?void 0:t.map(i=>l.jsxs(Y,{to:`/viewfile/${i._id}`,className:zp,children:[l.jsx("img",{src:i.publicThumbnailDownloadUrl||"/placeholder-img.jpg",alt:i.name,className:Hp}),l.jsx("span",{className:"truncate",children:i.name})]},i._id))})]})},Rt=({currentPage:t,totalPages:e,onPageChange:n})=>{const r=()=>{const s=[],a=[];let o;for(let c=1;c<=2;c++)s.push(c);for(let c=t-1;c<=t+1;c++)c>2&&c<e-1&&s.push(c);for(let c=e-1;c<=e;c++)c>2&&s.push(c);s.sort((c,d)=>c-d);for(let c of s)o&&(c-o===2?a.push(o+1):c-o!==1&&a.push("...")),a.push(c),o=c;return a};return l.jsxs("div",{className:"flex gap-2 mt-8",children:[l.jsx("button",{onClick:()=>n(t-1),disabled:t===1,className:`p-2 rounded-full ${t===1?"text-gray-400 cursor-not-allowed":"text-[#C95C34] hover:bg-gr"}`,children:l.jsx(Nh,{className:"w-4 h-4"})}),r().map((i,s)=>i==="..."?l.jsx("span",{className:"px-2",children:"..."},s):l.jsx("button",{onClick:()=>n(i),className:`w-8 h-8 flex items-center justify-center rounded-full ${t===i?"bg-[#C95C34] text-white":"hover:bg-white"}`,children:i},s)),l.jsx("button",{onClick:()=>n(t+1),disabled:t===e,className:`p-2 rounded-full ${t===e?"text-gray-400 cursor-not-allowed":"text-[#C95C34] hover:bg-white"}`,children:l.jsx(Dh,{className:"w-4 h-4"})})]})},sr="p-3 text-left text-[14px] sm:text-[16px] font-semibold font-bitter",Ya=({src:t,alt:e,className:n})=>{const[r,i]=j.useState(!0),[s,a]=j.useState(!1);return l.jsx("img",{src:r||s?"/placeholder-img.jpg":t,alt:e,className:n,onLoad:()=>i(!1),onError:()=>{i(!1),a(!0)}})},Up=({check:t})=>{var u,h,p;const[e,n]=j.useState("list"),[r,i]=j.useState(1),{data:s,error:a,isLoading:o}=Bc({page:r,limit:5}),c=f=>{n(f)};if(o)return l.jsx("div",{className:"mt-10",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-8 bg-gray-200 rounded w-48 mb-4"}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"h-20 bg-gray-200 rounded"}),l.jsx("div",{className:"h-20 bg-gray-200 rounded"}),l.jsx("div",{className:"h-20 bg-gray-200 rounded"})]})]})});if(a)return l.jsx("div",{className:"mt-10",children:l.jsxs("div",{className:"text-red-500",children:["Error loading files: ",a.message]})});const d=({file:f})=>{var g,m;return l.jsxs("tr",{className:"border-b border-gray-300 hover:bg-[#f3f4f669]",children:[l.jsx("td",{className:"p-3 text-[14px] sm:text-[16px]",style:{color:"rgba(34, 34, 33, 1)"},children:l.jsxs(Y,{to:`/viewfile/${f._id}`,className:"flex items-center gap-4",children:[l.jsx(Ya,{src:f.publicThumbnailDownloadUrl||"/placeholder-img.jpg",alt:f.name,className:"w-[50px] h-[50px] sm:w-[61px] sm:h-[61px] object-cover rounded-md"}),l.jsx("span",{className:"truncate max-w-[150px] sm:max-w-none",children:f.name})]})}),t&&l.jsxs(l.Fragment,{children:[l.jsx("td",{className:"hidden sm:table-cell p-3 text-[14px] sm:text-[16px]",style:{color:"rgba(34, 34, 33, 1)"},children:((g=f.categories)==null?void 0:g.length)>0?f.categories.map(b=>b.name).join(", "):"No category"}),l.jsxs("td",{className:"hidden sm:table-cell p-3 text-[14px] sm:text-[16px]",style:{color:"rgba(34, 34, 33, 1)"},children:[(f.size/(1024*1024)).toFixed(2)," MB"]}),l.jsx("td",{className:"sm:hidden p-3 text-[14px]",style:{color:"rgba(34, 34, 33, 1)"},children:((m=f.categories)==null?void 0:m.length)>0?f.categories[0].name:"No category"})]})]},f._id)};return l.jsxs("div",{className:"mt-10",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h3",{className:"text-[20px] sm:text-[24px] font-semibold font-bitter",children:"RECENTLY VIEWED"}),t&&l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:()=>c("list"),className:"p-2 rounded-full",children:l.jsx(kt,{className:`text-xl ${e==="list"?"text-gray-800":"text-gray-400"}`})}),l.jsx("button",{onClick:()=>c("grid"),className:"p-2 rounded-full",children:l.jsx(Ot,{className:`text-xl ${e==="grid"?"text-gray-800":"text-gray-400"}`})})]})]}),(u=s==null?void 0:s.files)!=null&&u.length?e==="list"?l.jsx("div",{className:"mt-4 overflow-x-auto",children:l.jsxs("table",{className:"min-w-full table-auto border-spacing-0",children:[l.jsx("thead",{children:l.jsx("tr",{className:"border-b border-gray-300 font-bitter",children:t&&l.jsxs(l.Fragment,{children:[l.jsx("th",{className:sr,children:"Name"}),l.jsx("th",{className:`hidden sm:table-cell ${sr}`,children:"Category"}),l.jsx("th",{className:`hidden sm:table-cell ${sr}`,children:"Size"}),l.jsx("th",{className:`sm:hidden ${sr}`,children:"Category"})]})})}),l.jsx("tbody",{className:"bg-white",children:(h=s.files)==null?void 0:h.map(f=>l.jsx(d,{file:f},f._id))})]})}):l.jsx("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:(p=s.files)==null?void 0:p.map(f=>{var g;return l.jsx(Y,{to:`/viewfile/${f._id}`,children:l.jsxs("div",{className:"border p-2 rounded-xl flex gap-4 bg-white hover:bg-[#ffffff69]",children:[l.jsx(Ya,{src:f.publicThumbnailDownloadUrl||"/placeholder-img.jpg",alt:f.name,className:"w-[70px] h-[70px] sm:w-[83px] sm:h-[83px] object-cover rounded-md"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-[14px] sm:text-[16px] font-light tracking-wider line-clamp-2 break-all w-full max-w-[200px] min-h-[48px] max-h-[48px]",children:f.name}),l.jsx("div",{className:"text-[14px] sm:text-[16px]",style:{color:"rgba(134, 133, 133, 1)"},children:((g=f.categories)==null?void 0:g.length)>0?f.categories.map(m=>m.name).join(", "):"No category"})]})]})},f._id)})}):l.jsx("div",{className:"mt-4 text-center text-gray-500 py-8 bg-white rounded-md",children:"No recently viewed files found"}),(s==null?void 0:s.totalPages)>1&&l.jsx("div",{className:"mt-4",children:l.jsx(Rt,{currentPage:s.currentPage,totalPages:s.totalPages,onPageChange:i})})]})},ar="p-3 text-left text-[14px] sm:text-[16px] font-semibold font-bitter",Ka=({src:t,alt:e,className:n})=>{const[r,i]=j.useState(!0),[s,a]=j.useState(!1);return l.jsx("img",{src:r||s?"/placeholder-img.jpg":t,alt:e,className:n,onLoad:()=>i(!1),onError:()=>{i(!1),a(!0)}})},$p=({filterType:t})=>{var h,p,f;const[e,n]=j.useState("list"),[r,i]=j.useState(1),{data:s,error:a,isLoading:o}=Ip({fileType:t==null?void 0:t.toLowerCase(),page:r,limit:5}),c=g=>{n(g)};if(o)return l.jsx("div",{className:"mt-10",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-8 bg-gray-200 rounded w-48 mb-4"}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"h-20 bg-gray-200 rounded"}),l.jsx("div",{className:"h-20 bg-gray-200 rounded"}),l.jsx("div",{className:"h-20 bg-gray-200 rounded"})]})]})});if(a)return l.jsx("div",{className:"mt-10",children:l.jsxs("div",{className:"text-red-500",children:["Error loading files: ",a.message]})});const d=({file:g})=>{var m,b;return l.jsxs("tr",{className:"border-b border-gray-300 hover:bg-[#f3f4f669]",children:[l.jsx("td",{className:"p-3 text-[14px] sm:text-[16px]",style:{color:"rgba(34, 34, 33, 1)"},children:l.jsxs(Y,{to:`/viewfile/${g._id}`,className:"flex items-center gap-4",children:[l.jsx(Ka,{src:g.publicThumbnailDownloadUrl||"/placeholder-img.jpg",alt:g.name,className:"w-[50px] h-[50px] sm:w-[61px] sm:h-[61px] object-cover rounded-md"}),l.jsx("span",{className:"truncate max-w-[150px] sm:max-w-none",children:g.name})]})}),l.jsx("td",{className:"hidden sm:table-cell p-3 text-[14px] sm:text-[16px]",style:{color:"rgba(34, 34, 33, 1)"},children:((m=g.categories)==null?void 0:m.length)>0?g.categories.map(v=>v.name).join(", "):"No category"}),l.jsxs("td",{className:"hidden sm:table-cell p-3 text-[14px] sm:text-[16px]",style:{color:"rgba(34, 34, 33, 1)"},children:[(g.size/(1024*1024)).toFixed(2)," MB"]}),l.jsx("td",{className:"sm:hidden p-3 text-[14px]",style:{color:"rgba(34, 34, 33, 1)"},children:((b=g.categories)==null?void 0:b.length)>0?g.categories[0].name:"No category"})]},g._id)},u=g=>(g==null?void 0:g.toUpperCase())||"FILES";return l.jsxs("div",{className:"mt-10",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h3",{className:"text-[20px] sm:text-[24px] font-semibold font-bitter",children:u(t)}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:()=>c("list"),className:"p-2 rounded-full",children:l.jsx(kt,{className:`text-xl ${e==="list"?"text-gray-800":"text-gray-400"}`})}),l.jsx("button",{onClick:()=>c("grid"),className:"p-2 rounded-full",children:l.jsx(Ot,{className:`text-xl ${e==="grid"?"text-gray-800":"text-gray-400"}`})})]})]}),(h=s==null?void 0:s.files)!=null&&h.length?e==="list"?l.jsx("div",{className:"mt-4 overflow-x-auto",children:l.jsxs("table",{className:"min-w-full table-auto border-spacing-0",children:[l.jsxs("thead",{children:[l.jsx("th",{className:ar,children:"Name"}),l.jsx("th",{className:`hidden sm:table-cell ${ar}`,children:"Category"}),l.jsx("th",{className:`hidden sm:table-cell ${ar}`,children:"Size"}),l.jsx("th",{className:`sm:hidden ${ar}`,children:"Category"})]}),l.jsx("tbody",{className:"bg-white",children:(p=s.files)==null?void 0:p.map(g=>l.jsx(d,{file:g},g._id))})]})}):l.jsx("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:(f=s.files)==null?void 0:f.map(g=>{var m;return l.jsx(Y,{to:`/viewfile/${g._id}`,children:l.jsxs("div",{className:"border p-2 rounded-xl flex gap-4 bg-white hover:bg-[#ffffff69]",children:[l.jsx(Ka,{src:g.publicThumbnailDownloadUrl||"/placeholder-img.jpg",alt:g.name,className:"w-[70px] h-[70px] sm:w-[83px] sm:h-[83px] object-cover rounded-md"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-[14px] sm:text-[16px] font-light tracking-wider line-clamp-2 break-all w-full max-w-[200px] min-h-[48px] max-h-[48px]",children:g.name}),l.jsx("div",{className:"text-[14px] sm:text-[16px]",style:{color:"rgba(134, 133, 133, 1)"},children:((m=g.categories)==null?void 0:m.length)>0?g.categories.map(b=>b.name).join(", "):"No category"})]})]})},g._id)})}):l.jsx("div",{className:"mt-4 text-center text-gray-500 py-8 bg-white rounded-md",children:"No files found for this type"}),(s==null?void 0:s.totalPages)>1&&l.jsx("div",{className:"mt-4",children:l.jsx(Rt,{currentPage:s.currentPage,totalPages:s.totalPages,onPageChange:i})})]})},Vc=Je({name:"fileUpload",initialState:{pendingFile:null},reducers:{setPendingFile:(t,e)=>{t.pendingFile=e.payload},clearPendingFile:t=>{t.pendingFile=null}}}),{setPendingFile:Xa,clearPendingFile:Wp}=Vc.actions,qp=Vc.reducer,Gp=()=>{const[t,e]=j.useState(null),n=j.useRef(null),r=Se(),i=ce(),s=c=>{c.preventDefault();const d=c.dataTransfer.files[0];e(d),r(Xa(d)),i("/addfile")},a=c=>{c.preventDefault()},o=c=>{c&&(e(c),r(Xa(c)),i("/addfile"))};return l.jsx("div",{className:"mt-10 space-y-6 font-bitter bg-white p-5 rounded",children:l.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-md p-6 text-center cursor-pointer hover:border-orange-500 transition-colors flex flex-col justify-center items-center min-h-[100px] bg-white",onDrop:s,onDragOver:a,onClick:()=>{var c;return(c=n.current)==null?void 0:c.click()},children:[l.jsx("input",{type:"file",ref:n,className:"hidden",onChange:c=>o(c.target.files[0])}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-gray-600",children:t?t.name:"Drag and drop your file here or click to select"}),t&&l.jsxs("p",{className:"text-sm text-gray-500",children:["Size: ",(t.size/(1024*1024)).toFixed(2)," MB"]})]})]})})},Qp=()=>{const[t,e]=j.useState(null),{data:n,error:r}=$e(),i=ce(),s=Se();j.useEffect(()=>{r&&(i("/"),s(qe()))},[i,r,s]);const a=o=>{e(t===o?null:o)};return l.jsxs("div",{className:"flex h-screen overflow-hidden font-poppins",children:[l.jsx(ye,{activeLink:"Home"}),l.jsxs("main",{className:"flex-grow bg-gray-100 py-6 px-4 sm:px-12 overflow-y-auto",children:[l.jsx(Ce,{plus:n==null?void 0:n.isAdmin,filter:!0,onFilterClick:a,activeFilter:t}),(n==null?void 0:n.isAdmin)&&!t&&l.jsx(Gp,{}),t?l.jsx($p,{filterType:t,check:!0}):l.jsxs(l.Fragment,{children:[l.jsx(Vp,{}),l.jsx(Up,{check:!0})]})]})]})},or="p-3 text-left text-[14px] sm:text-[16px] font-semibold font-bitter",Za=({src:t,alt:e,className:n})=>{const[r,i]=j.useState(!0),[s,a]=j.useState(!1);return l.jsx("img",{src:r||s?"/placeholder-img.jpg":t,alt:e,className:n,onLoad:()=>i(!1),onError:()=>{i(!1),a(!0)}})},Yp=({check:t})=>{var u,h,p;const[e,n]=j.useState("list"),[r,i]=j.useState(1),{data:s,error:a,isLoading:o}=Np({page:r,limit:5}),c=f=>{n(f)};if(o)return l.jsx("div",{className:"mt-10",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-8 bg-gray-200 rounded w-48 mb-4"}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"h-20 bg-gray-200 rounded"}),l.jsx("div",{className:"h-20 bg-gray-200 rounded"}),l.jsx("div",{className:"h-20 bg-gray-200 rounded"})]})]})});if(a)return l.jsx("div",{className:"mt-10",children:l.jsxs("div",{className:"text-red-500",children:["Error loading files: ",a.message]})});const d=({file:f})=>{var g,m;return l.jsxs("tr",{className:"border-b border-gray-300 hover:bg-[#f3f4f669]",children:[l.jsx("td",{className:"p-3 text-[14px] sm:text-[16px]",style:{color:"rgba(34, 34, 33, 1)"},children:l.jsxs(Y,{to:`/viewfile/${f._id}`,className:"flex items-center gap-4",children:[l.jsx(Za,{src:f.publicThumbnailDownloadUrl||"/placeholder-img.jpg",alt:f.name,className:"w-[50px] h-[50px] sm:w-[61px] sm:h-[61px] object-cover rounded-md"}),l.jsx("span",{className:"truncate max-w-[150px] sm:max-w-none",children:f.name})]})}),t&&l.jsxs(l.Fragment,{children:[l.jsx("td",{className:"hidden sm:table-cell p-3 text-[14px] sm:text-[16px]",style:{color:"rgba(34, 34, 33, 1)"},children:((g=f.categories)==null?void 0:g.length)>0?f.categories.map(b=>b.name).join(", "):"No category"}),l.jsxs("td",{className:"hidden sm:table-cell p-3 text-[14px] sm:text-[16px]",style:{color:"rgba(34, 34, 33, 1)"},children:[(f.size/(1024*1024)).toFixed(2)," MB"]}),l.jsx("td",{className:"sm:hidden p-3 text-[14px]",style:{color:"rgba(34, 34, 33, 1)"},children:((m=f.categories)==null?void 0:m.length)>0?f.categories[0].name:"No category"})]})]},f._id)};return l.jsxs("div",{className:"mt-10",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h3",{className:"text-[20px] sm:text-[24px] font-semibold font-bitter",children:"ALL FILES"}),t&&l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:()=>c("list"),className:"p-2 rounded-full",children:l.jsx(kt,{className:`text-xl ${e==="list"?"text-gray-800":"text-gray-400"}`})}),l.jsx("button",{onClick:()=>c("grid"),className:"p-2 rounded-full",children:l.jsx(Ot,{className:`text-xl ${e==="grid"?"text-gray-800":"text-gray-400"}`})})]})]}),(u=s==null?void 0:s.files)!=null&&u.length?e==="list"?l.jsx("div",{className:"mt-4 overflow-x-auto",children:l.jsxs("table",{className:"min-w-full table-auto border-spacing-0",children:[l.jsx("thead",{children:l.jsx("tr",{className:"border-b border-gray-300 font-bitter",children:t&&l.jsxs(l.Fragment,{children:[l.jsx("th",{className:or,children:"Name"}),l.jsx("th",{className:`hidden sm:table-cell ${or}`,children:"Category"}),l.jsx("th",{className:`hidden sm:table-cell ${or}`,children:"Size"}),l.jsx("th",{className:`sm:hidden ${or}`,children:"Category"})]})})}),l.jsx("tbody",{className:"bg-white",children:(h=s.files)==null?void 0:h.map(f=>l.jsx(d,{file:f},f._id))})]})}):l.jsx("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:(p=s.files)==null?void 0:p.map(f=>{var g;return l.jsx(Y,{to:`/viewfile/${f._id}`,children:l.jsxs("div",{className:"border p-2 rounded-xl flex gap-4 bg-white hover:bg-[#ffffff69]",children:[l.jsx(Za,{src:f.publicThumbnailDownloadUrl||"/placeholder-img.jpg",alt:f.name,className:"w-[70px] h-[70px] sm:w-[83px] sm:h-[83px] object-cover rounded-md"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-[14px] sm:text-[16px] font-light tracking-wider line-clamp-2 break-all w-full max-w-[200px] min-h-[48px] max-h-[48px]",children:f.name}),l.jsx("div",{className:"text-[14px] sm:text-[16px]",style:{color:"rgba(134, 133, 133, 1)"},children:((g=f.categories)==null?void 0:g.length)>0?f.categories.map(m=>m.name).join(", "):"No category"})]})]})},f._id)})}):l.jsx("div",{className:"mt-4 text-center text-gray-500 py-8 bg-white rounded-md",children:"No files found"}),(s==null?void 0:s.totalPages)>1&&l.jsx("div",{className:"mt-4",children:l.jsx(Rt,{currentPage:s.currentPage,totalPages:s.totalPages,onPageChange:i})})]})},Kp=()=>{const[t,e]=j.useState(null),{data:n,error:r}=$e(),i=ce(),s=Se();j.useEffect(()=>{r&&(i("/"),s(qe()))},[i,r,s]);const a=o=>{e(t===o?null:o)};return l.jsxs("div",{className:"flex h-screen overflow-hidden font-poppins",children:[l.jsx(ye,{activeLink:"All Files"}),l.jsxs("main",{className:"flex-grow bg-gray-100 py-6 px-4 sm:px-12 overflow-y-auto",children:[l.jsx(Ce,{plus:n==null?void 0:n.isAdmin,filter:!1,onFilterClick:a,activeFilter:t}),l.jsx(Yp,{check:!0})]})]})},lr="p-3 text-left text-[14px] sm:text-[16px] font-semibold font-bitter",Ja=({src:t,alt:e,className:n})=>{const[r,i]=j.useState(!0),[s,a]=j.useState(!1);return l.jsx("img",{src:r||s?"/placeholder-img.jpg":t,alt:e,className:n,onLoad:()=>i(!1),onError:()=>{i(!1),a(!0)}})},Xp=({check:t})=>{var u,h,p;const[e,n]=j.useState("list"),[r,i]=j.useState(1),{data:s,error:a,isLoading:o}=Dp({page:r,limit:5}),c=f=>{n(f)};if(o)return l.jsx("div",{className:"mt-10",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-8 bg-gray-200 rounded w-48 mb-4"}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"h-20 bg-gray-200 rounded"}),l.jsx("div",{className:"h-20 bg-gray-200 rounded"}),l.jsx("div",{className:"h-20 bg-gray-200 rounded"})]})]})});if(a)return l.jsx("div",{className:"mt-10",children:l.jsxs("div",{className:"text-red-500",children:["Error loading files: ",a.message]})});const d=({file:f})=>{var g,m;return l.jsxs("tr",{className:"border-b border-gray-300 hover:bg-[#f3f4f669]",children:[l.jsx("td",{className:"p-3 text-[14px] sm:text-[16px]",style:{color:"rgba(34, 34, 33, 1)"},children:l.jsxs(Y,{to:`/viewfile/${f._id}`,className:"flex items-center gap-4",children:[l.jsx(Ja,{src:f.publicThumbnailDownloadUrl||"/placeholder-img.jpg",alt:f.name,className:"w-[50px] h-[50px] sm:w-[61px] sm:h-[61px] object-cover rounded-md"}),l.jsx("span",{className:"truncate max-w-[150px] sm:max-w-none",children:f.name})]})}),t&&l.jsxs(l.Fragment,{children:[l.jsx("td",{className:"hidden sm:table-cell p-3 text-[14px] sm:text-[16px]",style:{color:"rgba(34, 34, 33, 1)"},children:((g=f.categories)==null?void 0:g.length)>0?f.categories.map(b=>b.name).join(", "):"No category"}),l.jsxs("td",{className:"hidden sm:table-cell p-3 text-[14px] sm:text-[16px]",style:{color:"rgba(34, 34, 33, 1)"},children:[(f.size/(1024*1024)).toFixed(2)," MB"]}),l.jsx("td",{className:"sm:hidden p-3 text-[14px]",style:{color:"rgba(34, 34, 33, 1)"},children:((m=f.categories)==null?void 0:m.length)>0?f.categories[0].name:"No category"})]})]},f._id)};return l.jsxs("div",{className:"mt-10",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h3",{className:"text-[20px] sm:text-[24px] font-semibold font-bitter",children:"SHARED FILES"}),t&&l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:()=>c("list"),className:"p-2 rounded-full",children:l.jsx(kt,{className:`text-xl ${e==="list"?"text-gray-800":"text-gray-400"}`})}),l.jsx("button",{onClick:()=>c("grid"),className:"p-2 rounded-full",children:l.jsx(Ot,{className:`text-xl ${e==="grid"?"text-gray-800":"text-gray-400"}`})})]})]}),(u=s==null?void 0:s.files)!=null&&u.length?e==="list"?l.jsx("div",{className:"mt-4 overflow-x-auto",children:l.jsxs("table",{className:"min-w-full table-auto border-spacing-0",children:[l.jsx("thead",{children:l.jsx("tr",{className:"border-b border-gray-300 font-bitter",children:t&&l.jsxs(l.Fragment,{children:[l.jsx("th",{className:lr,children:"Name"}),l.jsx("th",{className:`hidden sm:table-cell ${lr}`,children:"Category"}),l.jsx("th",{className:`hidden sm:table-cell ${lr}`,children:"Size"}),l.jsx("th",{className:`sm:hidden ${lr}`,children:"Category"})]})})}),l.jsx("tbody",{className:"bg-white",children:(h=s.files)==null?void 0:h.map(f=>l.jsx(d,{file:f},f._id))})]})}):l.jsx("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:(p=s.files)==null?void 0:p.map(f=>{var g;return l.jsx(Y,{to:`/viewfile/${f._id}`,children:l.jsxs("div",{className:"border p-2 rounded-xl flex gap-4 bg-white hover:bg-[#ffffff69]",children:[l.jsx(Ja,{src:f.publicThumbnailDownloadUrl||"/placeholder-img.jpg",alt:f.name,className:"w-[70px] h-[70px] sm:w-[83px] sm:h-[83px] object-cover rounded-md"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-[14px] sm:text-[16px] font-light tracking-wider line-clamp-2 break-all w-full max-w-[200px] min-h-[48px] max-h-[48px]",children:f.name}),l.jsx("div",{className:"text-[14px] sm:text-[16px]",style:{color:"rgba(134, 133, 133, 1)"},children:((g=f.categories)==null?void 0:g.length)>0?f.categories.map(m=>m.name).join(", "):"No category"})]})]})},f._id)})}):l.jsx("div",{className:"mt-4 text-center text-gray-500 py-8 bg-white rounded-md",children:"No shared files found"}),(s==null?void 0:s.totalPages)>1&&l.jsx("div",{className:"mt-4",children:l.jsx(Rt,{currentPage:s.currentPage,totalPages:s.totalPages,onPageChange:i})})]})},Zp=()=>{const[t,e]=j.useState(null),{data:n,error:r}=$e(),i=ce(),s=Se();j.useEffect(()=>{r&&(i("/"),s(qe()))},[i,r,s]);const a=o=>{e(t===o?null:o)};return l.jsxs("div",{className:"flex h-screen overflow-hidden font-poppins",children:[l.jsx(ye,{activeLink:"Shared"}),l.jsxs("main",{className:"flex-grow bg-gray-100 py-6 px-4 sm:px-12 overflow-y-auto",children:[l.jsx(Ce,{plus:n==null?void 0:n.isAdmin,filter:!1,onFilterClick:a,activeFilter:t}),l.jsx(Xp,{check:!0})]})]})};function Jp(t){const[e,n]=U.useState(!0);ce(),As();const{navigator:r}=U.useContext(Hu);U.useEffect(()=>{if(!t||!e)return;const i=r.push;return r.push=(...s)=>{window.confirm("This page is asking you to confirm that you want to leave - information you've entered may not be saved.")&&i(...s)},()=>{r.push=i}},[r,t])}const eo="w-full px-4 py-3 border rounded-[8px] focus:outline-none focus:ring-2 focus:ring-orange-500 bg-gray-100 text-gray-800 shadow-sm transition duration-200",eg=({activeFilter:t,editFileId:e})=>{const[n,r]=j.useState(!1),[i,s]=j.useState({mainFile:!1,thumbnail:!1,name:!1,fileTypes:!1,categories:!1}),a=ce(),[o,c]=j.useState(!1),[d,u]=j.useState(null),[h,p]=j.useState(null);Jp(o&&!n),j.useEffect(()=>{const k=V=>{if(o&&!n)return V.preventDefault(),V.returnValue="",""};return window.addEventListener("beforeunload",k),()=>window.removeEventListener("beforeunload",k)},[o,n]);const[f,g]=j.useState(null),[m,b]=j.useState({name:"",description:"",fileTypes:[],categories:[]}),v=j.useRef(null),x=j.useRef(null),y=j.useRef(null),w=Se(),{pendingFile:S}=di(k=>k.fileUpload),{data:C,error:N,isLoading:I}=rn(),{data:E,error:D,refetch:A}=mi();Bc();const{data:_,isLoading:P}=zc(e,{skip:!e}),[R]=Tp();j.useEffect(()=>{S&&(p(S),b(k=>({...k,name:S.name})),w(Wp()))},[S,w]),j.useEffect(()=>{var k;e&&_?(r(!0),b({name:_.name||"",description:_.description||"",fileTypes:_.fileTypes||[],categories:((k=_.categories)==null?void 0:k.map(V=>V._id))||[]}),document.title="Edit File | Digital Portal Independents by Sodexo"):document.title="Add File | Digital Portal Independents by Sodexo"},[e,_]),N&&T.error("Failed to load categories"),D&&T.error("Failed to load user profile");const M=()=>{p(null),g(null),b({name:"",description:"",fileTypes:[],categories:[]}),c(!1)},O=async k=>{var ne,J,Re,Ft;k.preventDefault();try{const oe=await A().unwrap();if(!(oe!=null&&oe.isActivated)){T.error("Your account has been deactivated. You cannot upload files.");return}}catch{T.error("Unable to verify account status. Please try again.");return}const V={mainFile:!h&&!n,thumbnail:!f&&!n,name:!m.name.trim(),fileTypes:((ne=m==null?void 0:m.fileTypes)==null?void 0:ne.length)===0,categories:((J=m==null?void 0:m.categories)==null?void 0:J.length)===0},q=Object.values(V).some(Boolean);if(s(V),q)return;if(n)try{c(!0),y.current=T.loading("Updating file...");const oe=new FormData;oe.append("name",m.name),oe.append("description",m.description),oe.append("fileTypes",JSON.stringify(m.fileTypes)),oe.append("categories",JSON.stringify(m.categories)),f&&oe.append("thumbnail",f);const Pe=await R({id:e,formData:oe}).unwrap();T.update(y.current,{render:"File updated successfully!",type:"success",isLoading:!1,autoClose:3e3}),w(se.util.invalidateTags([{type:"Files",id:"LIST"}])),c(!1),a(`/viewfile/${e}`);return}catch(oe){console.error("Error updating file:",oe),T.update(y.current,{render:((Re=oe.data)==null?void 0:Re.message)||"Error updating file",type:"error",isLoading:!1,autoClose:3e3}),c(!1);return}const G=new FormData;G.append("file",h),f&&G.append("thumbnail",f),G.append("name",m==null?void 0:m.name),G.append("description",m==null?void 0:m.description),G.append("fileTypes",JSON.stringify(m==null?void 0:m.fileTypes)),G.append("categories",JSON.stringify(m==null?void 0:m.categories));try{u(null),c(!0);const oe=await fetch("https://collateral.serendipity-int.com/api/files/upload",{method:"POST",credentials:"include",body:G}).catch(nt=>{throw console.error("Network error:",nt),new Error("Network error occurred. Please check your connection.")});let Pe;try{Pe=await oe.json()}catch(nt){throw console.error("Parse error:",nt),new Error("Failed to parse server response.")}if(!oe.ok)throw new Error((Pe==null?void 0:Pe.message)||"Upload failed");T.success("File uploaded successfully!");try{w(se.util.invalidateTags([{type:"Files",id:"LIST"},{type:"RecentFiles",id:"LIST"},{type:"FilesByType",id:"LIST"},{type:"CategoryFiles",id:"LIST"}]))}catch(nt){console.error("Redux error:",nt)}c(!1),M(),(Ft=Pe==null?void 0:Pe.record)!=null&&Ft._id&&setTimeout(()=>{var nt;a(`/viewfile/${(nt=Pe==null?void 0:Pe.record)==null?void 0:nt._id}`)},100)}catch(oe){console.error("Upload error:",oe),u(oe.message||"Upload failed"),T.error(oe.message||"Upload failed")}finally{c(!1)}},H=k=>{k.target.type==="checkbox"&&s(J=>({...J,[k.target.name]:!1}));const{name:V,value:q,type:G,checked:ne}=k.target;if(s(J=>({...J,[V]:!1})),G==="checkbox"&&V==="fileTypes")if(ne){if(q==="videos"&&h&&h.type.startsWith("image/")){T.error("Cannot select Video as file type for an image file");return}if(q==="images"&&h&&h.type.startsWith("video/")){T.error("Cannot select Image as file type for a video file");return}b(J=>({...J,[V]:[...J[V],q]}))}else b(J=>({...J,[V]:J[V].filter(Re=>Re!==q)}));else if(G==="checkbox"){const J=m[V];b(ne?Re=>({...Re,[V]:[...J,q]}):Re=>({...Re,[V]:J.filter(Ft=>Ft!==q)}))}else b(J=>({...J,[V]:q}))},z=async k=>{if(s(G=>({...G,mainFile:!1})),!k)return;const V=k.type.startsWith("image/"),q=k.type.startsWith("video/");b(V||q?G=>{const ne=[...G.fileTypes];if(V){const J=ne.indexOf("videos");J!==-1&&ne.splice(J,1)}else if(q){const J=ne.indexOf("images");J!==-1&&ne.splice(J,1)}return{...G,name:k.name,fileTypes:ne}}:G=>({...G,name:k.name})),p(k)},B=async k=>{if(s(V=>({...V,thumbnail:!1})),!!k){if(!k.type.startsWith("image/")){T.error("Please select an image file for thumbnail");return}g(k)}},F=async k=>{k.preventDefault();const V=k.dataTransfer.files[0];z(V)},K=k=>{k.preventDefault()};return l.jsxs("form",{onSubmit:O,className:"mt-10 space-y-6 font-bitter bg-white p-5 rounded",children:[l.jsx("h2",{className:"text-[24px] font-semibold mb-4",children:n?"EDIT FILE":"ADD FILE"}),!n&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:`border-2 border-dashed rounded-md p-6 text-center cursor-pointer hover:border-orange-500 transition-colors flex flex-col justify-center items-center min-h-[150px] ${i.mainFile?"border-red-500 bg-red-50":"border-gray-300"}`,onDrop:F,onDragOver:K,onClick:()=>{var k;return(k=v.current)==null?void 0:k.click()},children:[l.jsx("input",{type:"file",ref:v,className:"hidden",onChange:k=>z(k.target.files[0])}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-gray-600",children:h?h.name:"Drag and drop your file here or click to select"}),h&&l.jsxs("p",{className:"text-sm text-gray-500",children:["Size: ",(h.size/(1024*1024)).toFixed(2)," MB"]})]})]}),l.jsxs("div",{className:`border-2 border-dashed rounded-full p-6 text-center cursor-pointer hover:border-orange-500 transition-colors flex flex-col justify-center items-center w-[120px] h-[120px] m-auto ${i.thumbnail?"border-red-500 bg-red-50":"border-gray-300"}`,onClick:()=>{var k;return(k=x.current)==null?void 0:k.click()},children:[l.jsx("input",{type:"file",ref:x,className:"hidden",accept:"image/*",onChange:k=>B(k.target.files[0])}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-gray-600 text-sm line-clamp-2 max-w-[100px] mx-auto",children:f?f.name:"Upload Thumbnail"}),f&&l.jsxs("p",{className:"text-xs text-gray-500",children:[(f.size/(1024*1024)).toFixed(2)," MB"]})]})]})]}),n&&_&&l.jsxs("div",{className:"mb-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Current File"}),l.jsxs("div",{className:"p-4 bg-gray-100 rounded-lg",children:[l.jsx("p",{className:"text-sm font-medium text-gray-700",children:_.originalName}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["File ID: ",_._id]}),_.size&&l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Size: ",(_.size/(1024*1024)).toFixed(2)," MB"]})]})]}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Thumbnail"}),f?l.jsxs("div",{className:"p-4 bg-gray-100 rounded-lg",children:[l.jsx("p",{className:"text-sm font-medium text-gray-700",children:"New thumbnail selected:"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:f.name}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Size: ",(f.size/(1024*1024)).toFixed(2)," MB"]}),l.jsx("button",{type:"button",className:"mt-2 text-xs text-red-500 hover:text-red-700",onClick:()=>g(null),children:"Remove"})]}):_.publicThumbnailDownloadUrl?l.jsxs("div",{className:"p-4 bg-gray-100 rounded-lg",children:[l.jsx("div",{className:"flex items-center justify-center mb-2",children:l.jsx("img",{src:`${_.publicThumbnailDownloadUrl}?t=${new Date().getTime()}`,alt:"Current thumbnail",className:"h-20 w-auto object-contain"})}),l.jsx("button",{type:"button",className:"w-full mt-2 text-xs text-orange-600 hover:text-orange-700 text-center",onClick:()=>{var k;return(k=x.current)==null?void 0:k.click()},children:"Change Thumbnail"})]}):l.jsxs("div",{className:"p-4 bg-gray-100 rounded-lg",children:[l.jsx("p",{className:"text-sm text-gray-500 text-center",children:"No thumbnail available"}),l.jsx("button",{type:"button",className:"w-full mt-2 text-xs text-orange-600 hover:text-orange-700 text-center",onClick:()=>{var k;return(k=x.current)==null?void 0:k.click()},children:"Upload Thumbnail"})]}),l.jsx("input",{type:"file",ref:x,className:"hidden",accept:"image/*",onChange:k=>B(k.target.files[0])})]})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Note: The main file cannot be changed. You can update the thumbnail and metadata."})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{children:l.jsx("input",{type:"text",name:"name",placeholder:"File Name",value:m.name,onChange:H,className:`${eo} ${i.name?"border-red-500 bg-red-50":""}`,required:!0})}),l.jsx("div",{children:l.jsx("textarea",{name:"description",placeholder:"File Description",value:m.description,onChange:H,className:`${eo} h-32 resize-none`})}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:"block text-gray-700 font-semibold text-[15px]",children:"File Types"}),l.jsx("div",{className:`flex flex-wrap gap-4 p-4 rounded-lg ${i.fileTypes?"border-2 border-red-500 bg-red-50":""}`,children:["sell it collateral","operate it collateral","images","videos"].map(k=>l.jsxs("label",{className:"inline-flex items-center",children:[l.jsx("input",{type:"checkbox",name:"fileTypes",value:k,checked:m.fileTypes.includes(k),onChange:H,className:"rounded border-gray-300 text-orange-600 shadow-sm focus:border-orange-300 focus:ring focus:ring-orange-200 focus:ring-opacity-50"}),l.jsx("span",{className:"ml-2 text-gray-700 capitalize",children:k})]},k))})]}),l.jsxs("div",{className:"space-y-3 mt-8",children:[l.jsx("label",{className:"block text-gray-700 font-semibold text-[15px]",children:"Categories"}),l.jsx("div",{className:`flex flex-wrap gap-4 p-4 rounded-lg ${i.categories?"border-2 border-red-500 bg-red-50":""}`,children:C==null?void 0:C.map(k=>l.jsxs("label",{className:"inline-flex items-center",children:[l.jsx("input",{type:"checkbox",name:"categories",value:k._id,checked:m.categories.includes(k._id),onChange:H,className:"rounded border-gray-300 text-orange-600 shadow-sm focus:border-orange-300 focus:ring focus:ring-orange-200 focus:ring-opacity-50"}),l.jsx("span",{className:"ml-2 text-gray-700",children:k.name})]},k._id))})]})]}),l.jsx("div",{children:l.jsx("button",{type:"submit",disabled:o,className:`py-3 px-4 rounded-[8px] text-white font-medium ${o?"bg-gray-400 cursor-not-allowed":"bg-[#C95C34] hover:bg-[#f85519] transition-colors"}`,children:n?"Update File":"Upload File"})}),o&&l.jsxs("div",{className:"mt-4 flex items-center justify-start",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-4 border-orange-600 mr-3"}),l.jsx("p",{className:"text-sm text-gray-600",children:n?"Updating file...":"Uploading file..."})]})]})},tg=()=>{const[t,e]=j.useState(null),[n,r]=j.useState(null),{data:i,error:s}=$e(),a=Se(),o=ce(),c=As(),{userInfo:d}=di(h=>h.auth);j.useEffect(()=>{d!=null&&d.isAdmin||o("/")},[d,o]),j.useEffect(()=>{s&&(o("/"),a(qe()))},[o,s,i,a]),j.useEffect(()=>{const p=new URLSearchParams(c.search).get("edit");p&&r(p)},[c]);const u=h=>{e(t===h?null:h)};return l.jsxs("div",{className:"flex h-screen overflow-hidden font-poppins",children:[l.jsx(ye,{activeLink:"Add"}),l.jsxs("main",{className:"flex-grow bg-gray-100 py-6 px-4 sm:px-12 overflow-y-auto",children:[l.jsx(Ce,{plus:!0,filter:!1,onFilterClick:u,activeFilter:t}),l.jsx(eg,{activeFilter:t,editFileId:n})]})]})},ng=({file:t,onClose:e})=>{var y;const[n,r]=j.useState(""),[i,s]=j.useState([]),[a,o]=j.useState(!1),c=j.useRef(null),d=j.useRef(null),[u]=_p(),[h]=Pp(),{data:p=[],error:f}=ep(n,{skip:!n});j.useEffect(()=>{const w=S=>{d.current&&!d.current.contains(S.target)&&o(!1)};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]);const g=async()=>{var w;try{const S=i.map(C=>C.email);if(S.length===0){T.error("Please select at least one user");return}await u({id:t._id,emails:S}).unwrap(),s([]),T.success("File shared successfully"),e()}catch(S){T.error(((w=S==null?void 0:S.data)==null?void 0:w.message)||"Error sharing file")}},m=async w=>{var S;try{await h({id:t._id,userId:w}).unwrap(),T.success("Access removed successfully")}catch(C){T.error(((S=C==null?void 0:C.data)==null?void 0:S.message)||"Error removing access")}},b=w=>{var S;i.find(C=>C._id===w._id)||s([...i,w]),r(""),o(!1),(S=c.current)==null||S.focus()},v=w=>{s(i.filter(S=>S._id!==w))},x=p.filter(w=>{var S;return!((S=t.sharedWith)!=null&&S.some(C=>C._id===w._id))&&w._id!==t.user._id});return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg p-6 w-[500px] max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("h2",{className:"text-xl font-semibold",children:["Share ",t.name]}),l.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700",children:l.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsxs("div",{className:"mb-4 relative",ref:d,children:[l.jsxs("div",{className:"flex flex-wrap gap-2 p-2 border border-gray-300 rounded",children:[i.map((w,S)=>l.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 px-2 py-1 rounded",children:[l.jsx("img",{src:w.profilePicture||"/default-profile.png",alt:w.username,className:"w-6 h-6 rounded-full"}),l.jsx("span",{className:"text-sm",children:w.email}),l.jsx("button",{onClick:()=>v(w._id),className:"text-gray-500 hover:text-gray-700",children:""})]},`selected-${w._id}-${S}`)),l.jsx("input",{ref:c,type:"text",className:"flex-1 min-w-[200px] outline-none",placeholder:"Add people",value:n,onChange:w=>{r(w.target.value),o(!0)}})]}),a&&n&&l.jsxs("div",{className:"absolute w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg z-10",children:[x.map((w,S)=>l.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2 hover:bg-gray-50 text-left",onClick:()=>b(w),children:[l.jsx("img",{src:w.profilePicture||"/default-profile.png",alt:w.username,className:"w-8 h-8 rounded-full"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:w.username||"User"}),l.jsx("div",{className:"text-sm text-gray-500",children:w.email})]})]},`suggestion-${w._id}-${S}`)),x.length===0&&l.jsx("div",{className:"px-4 py-2 text-gray-500",children:"No users found"})]})]}),l.jsxs("div",{className:"mt-4",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"People with access"}),l.jsx("div",{className:"space-y-2",children:(y=t.sharedWith)==null?void 0:y.map((w,S)=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("img",{src:w.profilePicture||"/default-profile.png",alt:w.username,className:"w-8 h-8 rounded-full"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:w.username||"User"}),l.jsx("div",{className:"text-sm text-gray-500",children:w.email})]})]}),l.jsx("button",{onClick:()=>m(w._id),className:"text-red-500 hover:text-red-700 p-2",title:"Remove access",children:l.jsx(At,{className:"w-4 h-4"})})]},`shared-${w._id}-${S}`))})]}),l.jsx("div",{className:"mt-6 flex justify-end items-center",children:l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:e,className:"px-4 py-2 text-sm border border-gray-300 rounded hover:bg-gray-50",children:"Cancel"}),l.jsx("button",{onClick:g,className:"px-4 py-2 text-sm text-white bg-[#C95C34] rounded hover:bg-[#f85519]",disabled:i.length===0,children:"Done"})]})})]})})},xi=({isOpen:t,onClose:e,onConfirm:n,title:r="Confirm Action",message:i="Are you sure you want to proceed?",confirmText:s="Confirm",cancelText:a="Cancel",type:o="warning"})=>{if(!t)return null;let c="";switch(o){case"danger":c="bg-red-600 hover:bg-red-700 focus:ring-red-500";break;case"warning":c="bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500";break;case"info":c="bg-blue-600 hover:bg-blue-700 focus:ring-blue-500";break;default:c="bg-orange-600 hover:bg-orange-700 focus:ring-orange-500"}return l.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:l.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[l.jsx("div",{className:"fixed inset-0 transition-opacity",onClick:e,children:l.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),l.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[l.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:l.jsxs("div",{className:"sm:flex sm:items-start",children:[o==="danger"&&l.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:l.jsx("svg",{className:"h-6 w-6 text-red-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),o==="warning"&&l.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-yellow-100 sm:mx-0 sm:h-10 sm:w-10",children:l.jsx("svg",{className:"h-6 w-6 text-yellow-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),l.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[l.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:r}),l.jsx("div",{className:"mt-2",children:l.jsx("p",{className:"text-sm text-gray-500",children:i})})]})]})}),l.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[l.jsx("button",{type:"button",className:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 text-base font-medium text-white ${c} focus:outline-none focus:ring-2 focus:ring-offset-2 sm:ml-3 sm:w-auto sm:text-sm`,onClick:()=>{n(),e()},children:s}),l.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:e,children:a})]})]})]})})},rg="data:image/svg+xml,%3csvg%20width='26'%20height='27'%20viewBox='0%200%2026%2027'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_384_183)'%3e%3cg%20filter='url(%23filter0_d_384_183)'%3e%3cpath%20d='M13%202.66667C7.01677%202.66667%202.16669%207.51675%202.16669%2013.5C2.16669%2019.4833%207.01677%2024.3333%2013%2024.3333C18.9833%2024.3333%2023.8334%2019.4833%2023.8334%2013.5C23.8334%207.51675%2018.9833%202.66667%2013%202.66667ZM18.4167%2014.5833H14.0834V18.9167H11.9167V14.5833H7.58335V12.4167H11.9167V8.08333H14.0834V12.4167H18.4167V14.5833Z'%20fill='%23C95C34'/%3e%3c/g%3e%3c/g%3e%3cdefs%3e%3cfilter%20id='filter0_d_384_183'%20x='-97.8333'%20y='-95.3333'%20width='221.667'%20height='221.667'%20filterUnits='userSpaceOnUse'%20color-interpolation-filters='sRGB'%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'/%3e%3cfeColorMatrix%20in='SourceAlpha'%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20result='hardAlpha'/%3e%3cfeOffset%20dy='2'/%3e%3cfeGaussianBlur%20stdDeviation='50'/%3e%3cfeComposite%20in2='hardAlpha'%20operator='out'/%3e%3cfeColorMatrix%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.1%200'/%3e%3cfeBlend%20mode='normal'%20in2='BackgroundImageFix'%20result='effect1_dropShadow_384_183'/%3e%3cfeBlend%20mode='normal'%20in='SourceGraphic'%20in2='effect1_dropShadow_384_183'%20result='shape'/%3e%3c/filter%3e%3cclipPath%20id='clip0_384_183'%3e%3crect%20width='26'%20height='26'%20fill='white'%20transform='translate(0%200.5)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",ig=({src:t,alt:e,className:n})=>{const[r,i]=j.useState(!0),[s,a]=j.useState(!1);return l.jsx("img",{src:r||s?"/placeholder-img-lg.jpg":t,alt:e,className:n,onLoad:()=>i(!1),onError:()=>{i(!1),a(!0)}})},sg=({src:t,alt:e,className:n})=>{const[r,i]=j.useState(!0),[s,a]=j.useState(!1);return l.jsx("img",{src:r||s?"/default-profile.png":t,alt:e,className:n,onLoad:()=>i(!1),onError:()=>{i(!1),a(!0)}})},ag=()=>{var A,_,P,R,M,O,H,z;const{id:t}=tn(),e=ce(),[n,r]=j.useState(!1),[i,s]=j.useState(!1),[a,o]=j.useState(window.location.href);j.useState(null),j.useState(!1);const[c,d]=j.useState(null),[u,h]=j.useState(!1),[p]=Fp(),[f]=Lp(),{data:g,error:m}=mi(),{data:b,error:v,isLoading:x,refetch:y}=zc(t,{pollingInterval:1e3*60*30}),[w]=Mp();kp();const[S]=Hc();j.useEffect(()=>{g&&c&&r(g.isAdmin)},[g,c]),j.useEffect(()=>{const B=F=>{var k;const K=(k=F.detail)==null?void 0:k.fileId;K&&K===t&&e("/filebrowse")};return window.addEventListener("fileDeleted",B),()=>{window.removeEventListener("fileDeleted",B)}},[t,e]),j.useEffect(()=>{m&&T.error("Error fetching user data")},[m]),j.useEffect(()=>{var B;v&&((v==null?void 0:v.status)===403?T.error("You don't have permission to access this file"):T.error(((B=v==null?void 0:v.data)==null?void 0:B.message)||"Error loading file"),e("/filebrowse"))},[v,e]),j.useEffect(()=>{!x&&!b&&!v&&e("/filebrowse")},[b,v,x,e]),j.useEffect(()=>{const B=setInterval(()=>{y()},18e5);return()=>clearInterval(B)},[y]),j.useEffect(()=>{b&&d(b)},[b]);const C=async()=>{try{await p(t).unwrap()}catch(B){console.error("Error tracking download:",B)}},N=()=>{h(!0)},I=async()=>{var B;try{await w(t).unwrap(),T.success("File deleted successfully"),e("/filebrowse")}catch(F){T.error(((B=F==null?void 0:F.data)==null?void 0:B.message)||"Error deleting file")}},E=async()=>{var B;try{const F=await S(t).unwrap();T.success(F.message)}catch(F){T.error(((B=F==null?void 0:F.data)==null?void 0:B.message)||F.error)}},D=async()=>{var B;try{const F=await f(t).unwrap();T.success(F.message)}catch(F){T.error(((B=F==null?void 0:F.data)==null?void 0:B.message)||F.error)}};return x?l.jsxs("div",{className:"flex h-screen font-poppins",children:[l.jsx(ye,{activeLink:""}),l.jsx("main",{className:"flex-grow bg-gray-100 py-10 px-12",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-8 bg-gray-200 rounded w-48 mb-4"}),l.jsxs("div",{className:"flex gap-6 mt-4",children:[l.jsx("div",{className:"w-1/2 h-[30rem] bg-gray-200 rounded"}),l.jsxs("div",{className:"w-1/2 space-y-4",children:[l.jsx("div",{className:"h-8 bg-gray-200 rounded w-3/4"}),l.jsx("div",{className:"h-20 bg-gray-200 rounded"}),l.jsx("div",{className:"h-10 bg-gray-200 rounded w-1/2"})]})]})]})})]}):c?l.jsxs("div",{className:"flex h-screen font-poppins",children:[l.jsx(ye,{activeLink:"dashboard"}),l.jsxs("main",{className:"flex-grow bg-gray-100 py-6 px-4 sm:px-12 overflow-y-auto",children:[l.jsx(Ce,{plus:!0,filter:!1}),l.jsxs("nav",{className:"mt-6 text-sm text-gray-600 font-bitter",children:[l.jsx("span",{className:"hover:text-[#C95C34] cursor-pointer",onClick:()=>e("/"),children:"Home"}),(A=c.categories)==null?void 0:A.map((B,F)=>l.jsxs("span",{children:[l.jsx("span",{className:"mx-2",children:"/"}),l.jsx("span",{className:"hover:text-[#C95C34] cursor-pointer",onClick:()=>e(`/category/${B._id}`),children:B.name})]},B._id))]}),l.jsxs("div",{className:"flex flex-col gap-4 mt-4 sm:flex-row sm:gap-6",children:[l.jsx("div",{className:"w-full sm:w-1/2 max-w-md pr-4",children:l.jsx("div",{className:"aspect-square w-full rounded-lg overflow-hidden",children:l.jsx(ig,{src:`${c.publicThumbnailDownloadUrl}?t=${new Date().getTime()}`,alt:`Thumbnail for ${c.name}`,className:"w-full h-full object-cover"})})}),l.jsxs("div",{className:"w-full sm:w-1/2 space-y-4",children:[l.jsx("div",{className:"",children:l.jsx("h1",{className:"block text-[20px] sm:text-[24px] font-medium font-bitter tracking-wider break-words",children:c.name})}),l.jsxs("div",{className:"flex gap-4 sm:mt-0 mt-2",children:[l.jsx("button",{className:"hover:scale-110 transition-transform text-[#C95C34] hover:text-[#f85519]",onClick:D,title:(_=c==null?void 0:c.pinnedBy)!=null&&_.includes(g._id)?"Unpin file":"Pin file",children:l.jsx(Mh,{size:20,className:(P=c==null?void 0:c.pinnedBy)!=null&&P.includes(g._id)?"text-[#C95C34]":"text-gray-400"})}),l.jsx("button",{className:"hover:scale-110 transition-transform text-[#C95C34] hover:text-[#f85519]",onClick:E,title:(R=c==null?void 0:c.favourites)!=null&&R.includes(g._id)?"Remove from favourites":"Add to favourites",children:l.jsx(vc,{size:20,className:(M=c==null?void 0:c.favourites)!=null&&M.includes(g._id)?"text-[#C95C34]":"text-gray-400"})}),n&&l.jsxs(l.Fragment,{children:[l.jsx("button",{className:"hover:scale-110 transition-transform text-[#C95C34] hover:text-[#f85519]",onClick:()=>e(`/addfile?edit=${t}`),title:"Edit file",children:l.jsx(gi,{size:18})}),l.jsx("button",{className:"hover:scale-110 transition-transform text-[#C95C34] hover:text-[#f85519]",onClick:N,title:"Delete file",children:l.jsx(At,{size:18})})]})]}),l.jsx("p",{className:"text-black text-[14px] font-poppins font-light leading-[21px]",children:c.description}),l.jsxs("ul",{className:"space-y-1 text-[#222221] text-[14px] font-poppins font-light leading-[21px]",children:[l.jsxs("li",{children:["File Type - ",((O=c.fileTypes)==null?void 0:O[0])||"Unknown"]}),l.jsxs("li",{children:["File Size - ",c.size?(c.size/(1024*1024)).toFixed(2):"0"," MB"]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("a",{href:c.publicDownloadUrl,download:c.name,target:"_blank",rel:"noopener noreferrer",onClick:C,className:"text-white py-2 px-10 rounded text-sm flex items-center gap-2 bg-[#C95C34] hover:bg-[#f85519] transition",children:[l.jsx(Ih,{}),"Download"]}),l.jsxs("span",{className:"text-[#868585] text-sm leading-[21px] font-poppins",children:["Downloaded ",c.downloadCount||0," times"]})]}),(n||((H=c==null?void 0:c.user)==null?void 0:H._id)===(g==null?void 0:g._id))&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"flex flex-col gap-3 mt-4 w-full",children:l.jsxs("div",{className:"flex-grow relative flex items-center bg-white rounded-lg overflow-hidden border border-[#EFA78C]",children:[l.jsx("input",{type:"text",value:a||"",placeholder:"Generate a sharing link",className:"flex-grow p-3 text-sm focus:outline-none",readOnly:!0}),l.jsx("button",{className:"px-4 py-4 bg-[#EFA78C] border-l border-[#E8E8E8] flex items-center",onClick:()=>{a&&(navigator.clipboard.writeText(a),T.success("Link copied to clipboard!"))},children:l.jsx(op,{className:"text-[#222221] w-5 h-5"})})]})}),l.jsxs("div",{className:"flex items-center gap-3 mt-4",children:[((z=c.sharedWith)==null?void 0:z.length)>0&&l.jsx("div",{className:"flex -space-x-2",children:c.sharedWith.map((B,F)=>l.jsx(sg,{src:B.profilePicture,alt:`User ${B.username||F+1}`,className:"w-8 h-8 rounded-full border-2 border-white"},B._id||F))}),l.jsxs("button",{onClick:()=>s(!0),className:"text-gray-500 flex items-center gap-2 text-sm p-1",children:[l.jsx("img",{src:rg,alt:"Add",className:"rounded-full",style:{width:"30px",height:"30px"}}),"Add a user"]})]})]})]})]}),i&&l.jsx(ng,{file:c,onClose:()=>s(!1)})]}),l.jsx(xi,{isOpen:u,onClose:()=>h(!1),onConfirm:I,title:"Delete File",message:`Are you sure you want to delete "${c==null?void 0:c.name}"? This action cannot be undone.`,confirmText:"Delete",type:"danger"})]}):null},to="w-full px-4 py-3 border rounded-[8px] focus:outline-none focus:ring-2 focus:ring-orange-500 bg-gray-100 text-gray-800 shadow-sm transition duration-200",og="relative w-full",lg="w-full px-4 py-3 border rounded-[8px] focus:outline-none focus:ring-2 focus:ring-orange-500 bg-gray-100 text-gray-800 shadow-sm transition duration-200 appearance-none pr-10",cg=()=>{const{data:t,error:e}=$e(),n=Se(),r=ce();j.useEffect(()=>{e&&(r("/"),n(qe()))},[r,e,t,n]);const[i,s]=j.useState(""),[a,o]=j.useState(""),[c,d]=j.useState(!1),[u,h]=j.useState([]),[p,f]=j.useState(!1),{data:g,error:m}=rn(),[b,{isLoading:v,isError:x,error:y}]=Yf(),w=C=>{const N=C.target.value;if(N==="all")if(C.target.checked){f(!0);const I=g.map(E=>E._id);h(I)}else f(!1),h([]);else C.target.checked?h([...u,N]):(h(u.filter(I=>I!==N)),f(!1))};j.useEffect(()=>{if(g&&g.length>0){const C=g.every(N=>u.includes(N._id));f(C)}},[u,g]);const S=async C=>{C.preventDefault();try{const N={name:i,email:a,isAdmin:c,...c?{}:{allowedCategories:u}},I=await b(N).unwrap();T.success("User registered successfully!",{autoClose:2e3}),s(""),o(""),d(!1),h([]),f(!1)}catch{T.error("Failed to register user!",{autoClose:2e3})}};return l.jsxs("div",{className:"flex font-poppins",children:[l.jsx(ye,{activeLink:"User"}),l.jsxs("main",{className:"flex-grow h-screen bg-gray-100 py-6 px-4 sm:px-12 overflow-y-auto",children:[l.jsx(Ce,{plus:!0,filter:!1}),l.jsx("h3",{className:"text-[20px] sm:text-[24px] font-semibold font-bitter mt-8 mb-4",children:"INVITE A USER"}),l.jsx("div",{className:"mt-4 bg-white rounded-md w-full sm:w-[500px]",children:l.jsxs("form",{className:"space-y-6 p-8",onSubmit:S,children:[l.jsxs("div",{className:"w-full",children:[l.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Name"}),l.jsx("input",{type:"text",className:to,placeholder:"Enter name",value:i,onChange:C=>s(C.target.value),required:!0})]}),l.jsxs("div",{className:"w-full",children:[l.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Email"}),l.jsx("input",{type:"email",className:to,placeholder:"Enter email",value:a,onChange:C=>o(C.target.value),required:!0})]}),l.jsxs("div",{className:og,children:[l.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Role"}),l.jsxs("div",{className:"relative",children:[l.jsxs("select",{className:lg,value:c?"admin":"user",onChange:C=>d(C.target.value==="admin"),required:!0,children:[l.jsx("option",{value:"user",children:"User"}),l.jsx("option",{value:"admin",children:"Admin"})]}),l.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-4 text-gray-700",children:l.jsx("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:l.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]}),!c&&l.jsxs("div",{className:"w-full",children:[l.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Permission"}),l.jsxs("div",{className:"flex flex-col gap-2 p-4 border rounded-lg",children:[l.jsx("div",{children:l.jsxs("label",{className:"inline-flex items-center",children:[l.jsx("input",{type:"checkbox",value:"all",checked:p,onChange:w,className:"rounded border-gray-300 text-orange-600 shadow-sm focus:border-orange-300 focus:ring focus:ring-orange-200 focus:ring-opacity-50"}),l.jsx("span",{className:"ml-2 text-gray-700",children:"All"})]})}),l.jsx("div",{className:"grid grid-cols-2 gap-x-6 gap-y-2",children:g==null?void 0:g.map(C=>l.jsxs("label",{className:"inline-flex items-center",children:[l.jsx("input",{type:"checkbox",value:C._id,checked:u.includes(C._id),onChange:w,className:"rounded border-gray-300 text-orange-600 shadow-sm focus:border-orange-300 focus:ring focus:ring-orange-200 focus:ring-opacity-50"}),l.jsx("span",{className:"ml-2 text-gray-700",children:C.name})]},C._id))})]})]}),l.jsx("div",{className:"pt-2",children:l.jsx("button",{type:"submit",className:"py-3 px-6 rounded-[8px] text-white font-medium bg-[#C95C34] hover:bg-[#f85519] transition-colors",disabled:v,children:v?"Inviting...":"Invite"})})]})})]})]})},no="w-full px-4 py-3 border rounded-[8px] focus:outline-none focus:ring-2 focus:ring-orange-500 bg-gray-100 text-gray-800 shadow-sm transition duration-200",ro="w-full px-4 py-3 border rounded-[8px] focus:outline-none bg-gray-100 text-gray-800 shadow-sm transition duration-200",dg=()=>{const[t,e]=j.useState(""),[n,r]=j.useState(""),[i,s]=j.useState(""),[a,o]=j.useState(""),[c,d]=j.useState(""),[u,h]=j.useState(!1),[p,f]=j.useState(!1),{data:g,error:m,isLoading:b}=mi(),[v,{isLoading:x}]=qa(),[y,{isLoading:w}]=qa();j.useEffect(()=>{g&&(r(g.username||""),e(g.profilePicture||""),s(g.email||""))},[g]);const S=()=>{h(!u)},C=()=>{f(!p)},N=D=>{const A=D.target.files[0];if(A){const _=new FileReader;_.onload=()=>{e(_.result)},_.readAsDataURL(A)}},I=async D=>{var _;D.preventDefault();const A={name:n,email:i,profilePic:t};try{await v(A).unwrap(),T.success("Profile updated successfully!")}catch(P){T.error(((_=P==null?void 0:P.data)==null?void 0:_.message)||P.error)}},E=async D=>{var _;if(D.preventDefault(),a!==c){T.error("Passwords do not match");return}if(a.length<6){T.error("Password must be at least 6 characters");return}const A={username:n,email:i,password:a,profilePicture:t};try{await y(A).unwrap(),T.success("Password updated successfully!"),o(""),d("")}catch(P){T.error(((_=P==null?void 0:P.data)==null?void 0:_.message)||P.error)}};return l.jsxs("div",{className:"flex font-poppins",children:[l.jsx(ye,{activeLink:""}),l.jsxs("main",{className:"flex-grow h-screen bg-gray-100 py-6 px-4 sm:px-12 overflow-y-auto",children:[l.jsx(Ce,{plus:!0,filter:!1}),l.jsx("h3",{className:"text-[20px] sm:text-[24px] font-semibold font-bitter mt-8 mb-4",children:"EDIT PROFILE"}),l.jsx("div",{className:"mt-4 bg-white rounded-md w-full sm:w-[500px]",children:l.jsxs("form",{className:"space-y-6 p-8",onSubmit:I,children:[l.jsx("div",{className:"text-white text-center",children:l.jsxs("div",{className:"relative w-32 h-32 mx-auto",children:[l.jsx("img",{src:t||"default-profile.png",alt:"Profile",className:"w-32 h-32 rounded-full object-cover shadow-md border-4 border-white"}),l.jsx("input",{type:"file",accept:"image/*",className:"absolute inset-0 opacity-0 cursor-pointer",onChange:N})]})}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Name"}),l.jsx("input",{type:"text",className:no,placeholder:"Enter name",value:n,onChange:D=>r(D.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Email"}),l.jsx("input",{type:"email",className:no,placeholder:"Enter email",value:i,disabled:!0})]}),l.jsx("button",{type:"submit",className:"py-3 px-6 rounded-[8px] text-white font-medium bg-[#C95C34] hover:bg-[#f85519] transition-colors",disabled:x,children:x?"Updating...":"Update Profile"})]})}),l.jsx("h3",{className:"text-[20px] sm:text-[24px] font-semibold font-bitter mt-8 mb-4",children:"PASSWORD CHANGE"}),l.jsx("div",{className:"mt-4 bg-white rounded-md w-full sm:w-[500px] p-6 mb-8",children:l.jsxs("form",{onSubmit:E,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"New Password"}),l.jsxs("div",{className:"flex items-center border border-gray-300 rounded-[8px] focus-within:ring-2 focus-within:ring-orange-400",children:[l.jsx("input",{type:u?"text":"password",className:ro,placeholder:"Enter new password",value:a,onChange:D=>o(D.target.value)}),l.jsx("button",{type:"button",onClick:S,className:"px-3 py-2 text-gray-600 hover:text-orange-500",children:u?l.jsx($r,{}):l.jsx(Kt,{})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Verify Password"}),l.jsxs("div",{className:"flex items-center border border-gray-300 rounded-[8px] focus-within:ring-2 focus-within:ring-orange-400",children:[l.jsx("input",{type:p?"text":"password",className:ro,placeholder:"Verify new password",value:c,onChange:D=>d(D.target.value)}),l.jsx("button",{type:"button",onClick:C,className:"px-3 py-2 text-gray-600 hover:text-orange-500",children:p?l.jsx($r,{}):l.jsx(Kt,{})})]})]}),l.jsx("button",{type:"submit",className:"py-3 px-6 rounded-[8px] text-white font-medium bg-[#C95C34] hover:bg-[#f85519] transition-colors",disabled:w,children:w?"Changing Password...":"Change Password"})]})})]})]})};function Uc(t){return te({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"},child:[]}]})(t)}function $c(t){return te({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9A7.902 7.902 0 0 1 4 12zm8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1A7.902 7.902 0 0 1 20 12c0 4.42-3.58 8-8 8z"},child:[]}]})(t)}const cr="border border-gray-300 px-2 py-0 rounded shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 text-sm h-8 leading-8",ug=()=>{const{data:t,isLoading:e,error:n,refetch:r}=Mc(),[i,{isLoading:s}]=Tc(),[a,{isLoading:o}]=kc(),{data:c,error:d}=$e(),u=ce(),h=Se();j.useEffect(()=>{d&&(u("/"),h(qe()))},[u,d,h,c]);const[p,f]=j.useState([]),[g,m]=j.useState(!1),[b,v]=j.useState(null),[x,y]=j.useState([]),[w,S]=j.useState({username:"",email:"",role:"all",status:"all"});j.useEffect(()=>{r()},[r]),j.useEffect(()=>{t&&c&&f(t),n&&T.error("Error Retrieving Users",{autoClose:2e3}),t&&T.dismiss()},[t,e,n,c]);const C=D=>{v(D),m(!0)},N=async()=>{if(b)try{await i(b._id).unwrap(),f(p.filter(D=>D._id!==b._id)),T.success("User deleted successfully",{autoClose:2e3}),v(null)}catch(D){T.error("Error Deleting User",{autoClose:2e3}),console.log(D)}},I=async(D,A)=>{try{f(p.map(_=>_._id===D?{..._,isActivated:!A}:_)),await a(D).unwrap(),T.success(`User ${A?"Deactivated":"Activated"} successfully`,{autoClose:2e3})}catch{f(p.map(P=>P._id===D?{...P,isActivated:A}:P)),T.error("Error Updating User",{autoClose:2e3})}},E=D=>{u(`/edit-user/${D}`)};return j.useEffect(()=>{if(p&&(c!=null&&c._id)){const D=p.filter(A=>{const _=A.username.toLowerCase().includes(w.username.toLowerCase()),P=A.email.toLowerCase().includes(w.email.toLowerCase()),R=w.role==="all"||w.role==="admin"&&A.isAdmin||w.role==="user"&&!A.isAdmin,M=w.status==="all"||w.status==="active"&&A.isActivated||w.status==="inactive"&&!A.isActivated,O=A._id===c._id;return _&&P&&R&&M&&!O});y(A=>JSON.stringify(A)!==JSON.stringify(D)?D:A)}},[p,w,c]),l.jsxs("div",{className:"flex h-screen overflow-hidden font-poppins bg-gradient-to-r from-white to-gray-100",children:[l.jsx(ye,{activeLink:"Delete"}),l.jsxs("main",{className:"flex-grow bg-gray-100 py-6 px-4 sm:px-12 overflow-y-auto",children:[l.jsx(Ce,{plus:!0,filter:!1}),l.jsx("h3",{className:"text-[20px] sm:text-[24px] font-semibold font-bitter mt-8 mb-4",children:"ALL USERS"}),l.jsxs("div",{className:"flex flex-wrap gap-4 mb-6 justify-between items-center",children:[l.jsx(Y,{to:"/register",className:"bg-[#C95C34] text-white px-4 py-2 rounded-lg hover:bg-[#f85519] transition-colors",children:"Invite a user"}),l.jsxs("div",{className:"flex flex-wrap gap-4 justify-end",children:[l.jsx("input",{type:"text",placeholder:"Filter by Username",className:`${cr} w-full sm:w-[150px]`,value:w.username,onChange:D=>S({...w,username:D.target.value})}),l.jsx("input",{type:"text",placeholder:"Filter by Email",className:`${cr} w-full sm:w-[150px]`,value:w.email,onChange:D=>S({...w,email:D.target.value})}),l.jsxs("select",{className:`${cr} w-full sm:w-[150px]`,value:w.role,onChange:D=>S({...w,role:D.target.value}),children:[l.jsx("option",{value:"all",children:"All Roles"}),l.jsx("option",{value:"admin",children:"Admin"}),l.jsx("option",{value:"user",children:"User"})]}),l.jsxs("select",{className:`${cr} w-full sm:w-[150px]`,value:w.status,onChange:D=>S({...w,status:D.target.value}),children:[l.jsx("option",{value:"all",children:"All Statuses"}),l.jsx("option",{value:"active",children:"Active"}),l.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),l.jsx("div",{className:"mt-4 overflow-x-auto",children:l.jsxs("table",{className:"min-w-full table-auto border-spacing-0",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-gray-300 font-bitter",children:[l.jsx("th",{className:"p-4 text-left",children:"Username"}),l.jsx("th",{className:"p-4 text-left",children:"Email"}),l.jsx("th",{className:"p-4 text-left",children:"Role"}),l.jsx("th",{className:"p-4 text-left",children:"Status"}),l.jsx("th",{className:"p-4 text-left",children:"Operations"})]})}),l.jsx("tbody",{className:"bg-white",children:x.map(D=>l.jsxs("tr",{className:"border-b hover:bg-[#f3f4f669] text-xs sm:text-sm md:text-base",children:[l.jsx("td",{className:"p-4",children:D.username}),l.jsx("td",{className:"p-4",children:D.email}),l.jsx("td",{className:"p-4",children:l.jsx("span",{className:`px-2 sm:px-3 py-1 rounded-full ${D.isAdmin?"text-emerald-600":"text-sky-600"}`,children:D.isAdmin?"Admin":"User"})}),l.jsx("td",{className:"p-4",children:l.jsx("span",{className:`px-2 sm:px-3 py-1 rounded-full ${D.isActivated?"text-emerald-600":"text-rose-500"}`,children:D.isActivated?"Active":"Inactive"})}),l.jsxs("td",{className:"p-4 flex flex-wrap gap-2",children:[l.jsx(Y,{to:`/view-user/${D._id}`,className:"p-2 text-gray-400 hover:text-gray-500",title:"View",children:l.jsx(Kt,{className:"w-5 h-5"})}),l.jsx("button",{className:"p-2 text-sky-300 hover:text-sky-400",onClick:()=>E(D._id),title:"Edit",children:l.jsx(gi,{className:"w-5 h-5"})}),l.jsx("button",{className:"p-2 text-rose-300 hover:text-rose-400",onClick:()=>C(D),disabled:s||o,children:l.jsx(At,{className:"w-4 h-4"})}),l.jsx("button",{className:`p-2 ${D.isActivated?"text-amber-500 hover:text-amber-600":"text-emerald-600 hover:text-emerald-700"}`,onClick:()=>I(D._id,D.isActivated),title:D.isActivated?"Deactivate":"Activate",children:D.isActivated?l.jsx($c,{className:"w-5 h-5"}):l.jsx(Uc,{className:"w-5 h-5"})})]})]},D._id))})]})}),x.length===0&&l.jsx("div",{className:"mt-4 text-center text-gray-500 py-8 bg-white rounded-md",children:"No users match the filters."}),l.jsx(xi,{isOpen:g,onClose:()=>m(!1),onConfirm:N,title:"Delete User",message:b?`Are you sure you want to delete user "${b.username}" (${b.email})? This action cannot be undone.`:"Are you sure you want to delete this user?",confirmText:"Delete",type:"danger"})]})]})},Ls=()=>l.jsx("div",{className:"hidden sm:block w-full md:w-1/2 h-full bg-cover bg-center",children:l.jsx("img",{src:as,alt:"Login Side Image",className:"w-full h-full object-cover"})}),hg=()=>{const[t,e]=j.useState(null),{data:n,error:r}=Jf(t,{skip:!t});return j.useEffect(()=>{const s=new URLSearchParams(window.location.search).get("t");s&&e(s)},[]),{data:n,error:r}},Ri="w-full px-3 py-2 border rounded-[6px] focus:outline-none focus:ring-2 focus:ring-orange-500",fg=()=>{const[t,e]=j.useState(!1),{data:n,error:r}=hg(),[i,s]=j.useState(""),[a,o]=j.useState(""),[c,d]=j.useState(""),[u,{isLoading:h}]=qf(),p=()=>{e(!t)};j.useEffect(()=>{console.log(window.location.href)},[]);const f=ce(),g=Se(),[m]=Pc();j.useEffect(()=>{n?(s(n.username),d(n.email)):r&&T.error("Error fetching user data",{autoClose:2e3})},[n,r]);const b=async x=>{x.preventDefault();try{await u({name:i,email:c,password:a!=="******"?a:void 0}).unwrap(),f("/")}catch{T.error("An error occurred while saving changes for token user.",{autoClose:2e3})}},v=async()=>{try{document.head.querySelectorAll("meta[http-equiv]").forEach(y=>{["cache-control","pragma","expires"].includes(y.getAttribute("http-equiv").toLowerCase())&&y.remove()});const x=document.createElement("meta");x.setAttribute("http-equiv","Cache-Control"),x.setAttribute("content","no-cache, no-store, must-revalidate"),document.head.appendChild(x),await m().unwrap(),g(qe()),window.history.pushState(null,"","/login"),window.onpopstate=function(y){window.history.pushState(null,"","/login")},f("/login",{replace:!0})}catch(x){console.error(x)}};return l.jsxs("div",{className:"flex flex-col lg:flex-row h-screen font-poppins relative",children:[l.jsx(Ls,{}),l.jsx("div",{className:"flex flex-col justify-center w-full p-8 md:p-12 lg:w-1/2 lg:p-16 bg-[#C95C34]",children:l.jsxs("div",{className:"rounded-[26px] px-6 py-8 md:px-10 md:py-12 lg:px-12 lg:py-16 shadow-md bg-[#F7F2EC]",children:[l.jsx("h2",{className:"text-xl md:text-2xl font-semibold text-center mb-0 tracking-widest",children:"INDEPENDENTS"}),l.jsx("h4",{className:"text-sm md:text-base text-center -mt-1 tracking-widest font-light mb-6",children:"BY SODEXO"}),l.jsxs("form",{className:"space-y-4",onSubmit:b,children:[l.jsx("div",{children:l.jsx("input",{type:"text",className:Ri,placeholder:"Username",value:i,onChange:x=>s(x.target.value),required:!0})}),l.jsx("div",{children:l.jsx("input",{type:"email",className:Ri,placeholder:"Email",value:c,disabled:!0,required:!0})}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:t?"text":"password",className:Ri,placeholder:"Password",value:a,onChange:x=>o(x.target.value),required:!0,minLength:6}),l.jsx("button",{type:"button",onClick:p,className:"absolute right-3 top-1/2 transform -translate-y-1/2 cursor-pointer",children:t?l.jsx($r,{}):l.jsx(Kt,{})})]}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx("button",{type:"submit",className:`w-full text-white py-2 px-6 rounded-[6px] transition-all duration-200 ${h||!i||!a?"bg-gray-400 opacity-50 cursor-not-allowed":"bg-black hover:bg-gray-800"}`,disabled:h||!i||!a,children:h?"Saving...":"Save"}),l.jsx("button",{type:"button",className:"w-full bg-red-700 text-white py-2 px-6 rounded-[6px] hover:bg-red-500 transition",onClick:v,children:"Logout"})]})]})]})}),l.jsx("div",{className:"absolute inset-0 flex justify-center mt-3 pointer-events-none z-10",children:l.jsx("img",{src:hi,alt:"Logo",className:"w-[130px] h-[130px] md:w-30 md:h-30 object-contain"})})]})},dr="p-3 text-left text-[14px] sm:text-[16px] font-semibold font-bitter",io=({src:t,alt:e,className:n})=>{const[r,i]=j.useState(!0),[s,a]=j.useState(!1);return l.jsx("img",{src:r||s?"/placeholder-img.jpg":t,alt:e,className:n,onLoad:()=>i(!1),onError:()=>{i(!1),a(!0)}})},pg=({categoryId:t})=>{var h,p,f,g,m,b;const[e,n]=j.useState("list"),[r,i]=j.useState(1),s=ce(),{data:a,error:o,isLoading:c}=Ap({categoryId:t,page:r,limit:5});j.useEffect(()=>{var v;o&&(T.error(((v=o==null?void 0:o.data)==null?void 0:v.message)||"Error loading category files"),s("/filebrowse"))},[o,s]);const d=v=>{n(v)};if(c)return l.jsx("div",{className:"mt-10",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-8 bg-gray-200 rounded w-48 mb-4"}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"h-20 bg-gray-200 rounded"}),l.jsx("div",{className:"h-20 bg-gray-200 rounded"}),l.jsx("div",{className:"h-20 bg-gray-200 rounded"})]})]})});if(o)return l.jsx("div",{className:"mt-10",children:l.jsxs("div",{className:"text-red-500",children:["Error loading files: ",o.message]})});const u=({file:v})=>{var x,y;return l.jsxs("tr",{className:"border-b border-gray-300 hover:bg-[#f3f4f669]",children:[l.jsx("td",{className:"p-3 text-[14px] sm:text-[16px]",style:{color:"rgba(34, 34, 33, 1)"},children:l.jsxs(Y,{to:`/viewfile/${v._id}`,className:"flex items-center gap-4",children:[l.jsx(io,{src:v.publicThumbnailDownloadUrl||"/placeholder-img.jpg",alt:v.name,className:"w-[50px] h-[50px] sm:w-[61px] sm:h-[61px] object-cover rounded-md"}),l.jsx("span",{className:"truncate max-w-[150px] sm:max-w-none",children:v.name})]})}),l.jsxs(l.Fragment,{children:[l.jsx("td",{className:"hidden sm:table-cell p-3 text-[14px] sm:text-[16px]",style:{color:"rgba(34, 34, 33, 1)"},children:((x=v.categories)==null?void 0:x.length)>0?v.categories.map(w=>w.name).join(", "):"No category"}),l.jsxs("td",{className:"hidden sm:table-cell p-3 text-[14px] sm:text-[16px]",style:{color:"rgba(34, 34, 33, 1)"},children:[(v.size/(1024*1024)).toFixed(2)," MB"]}),l.jsx("td",{className:"sm:hidden p-3 text-[14px]",style:{color:"rgba(34, 34, 33, 1)"},children:((y=v.categories)==null?void 0:y.length)>0?v.categories[0].name:"No category"})]})]},v._id)};return l.jsxs("div",{className:"mt-10",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h3",{className:"text-[20px] sm:text-[24px] font-semibold font-bitter",children:(f=(p=(h=a==null?void 0:a.files[0])==null?void 0:h.categories[0])==null?void 0:p.name)==null?void 0:f.toUpperCase()}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:()=>d("list"),className:"p-2 rounded-full",children:l.jsx(kt,{className:`text-xl ${e==="list"?"text-gray-800":"text-gray-400"}`})}),l.jsx("button",{onClick:()=>d("grid"),className:"p-2 rounded-full",children:l.jsx(Ot,{className:`text-xl ${e==="grid"?"text-gray-800":"text-gray-400"}`})})]})]}),(g=a==null?void 0:a.files)!=null&&g.length?e==="list"?l.jsx("div",{className:"mt-4 overflow-x-auto",children:l.jsxs("table",{className:"min-w-full table-auto border-spacing-0",children:[l.jsx("thead",{children:l.jsx("tr",{className:"border-b border-gray-300 font-bitter",children:l.jsxs(l.Fragment,{children:[l.jsx("th",{className:dr,children:"Name"}),l.jsx("th",{className:`hidden sm:table-cell ${dr}`,children:"Category"}),l.jsx("th",{className:`hidden sm:table-cell ${dr}`,children:"Size"}),l.jsx("th",{className:`sm:hidden ${dr}`,children:"Category"})]})})}),l.jsx("tbody",{className:"bg-white",children:(m=a.files)==null?void 0:m.map(v=>l.jsx(u,{file:v},v._id))})]})}):l.jsx("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:(b=a.files)==null?void 0:b.map(v=>{var x;return l.jsx(Y,{to:`/viewfile/${v._id}`,children:l.jsxs("div",{className:"border p-2 rounded-xl flex gap-4 bg-white hover:bg-[#ffffff69]",children:[l.jsx(io,{src:v.publicThumbnailDownloadUrl||"/placeholder-img.jpg",alt:v.name,className:"w-[70px] h-[70px] sm:w-[83px] sm:h-[83px] object-cover rounded-md"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-[14px] sm:text-[16px] font-light tracking-wider line-clamp-2 break-all w-full max-w-[200px] min-h-[48px] max-h-[48px]",children:v.name}),l.jsx("div",{className:"text-[14px] sm:text-[16px]",style:{color:"rgba(134, 133, 133, 1)"},children:((x=v.categories)==null?void 0:x.length)>0?v.categories.map(y=>y.name).join(", "):"No category"})]})]})},v._id)})}):l.jsx("div",{className:"mt-4 text-center text-gray-500 py-8 bg-white rounded-md",children:"No files found in this category"}),(a==null?void 0:a.totalPages)>1&&l.jsx("div",{className:"mt-4",children:l.jsx(Rt,{currentPage:a.currentPage,totalPages:a.totalPages,onPageChange:i})})]})},gg=()=>{const{id:t}=tn(),e=ce(),{data:n,error:r}=$e(),{data:i,error:s}=rn(),a=Se();return j.useEffect(()=>{r&&a(qe())},[r,n,a]),j.useEffect(()=>{i&&(i.some(c=>c._id===t)||(T.error("Category not found"),e("/filebrowse")))},[t,i,e]),j.useEffect(()=>{s&&(T.error("Error loading categories"),e("/filebrowse"))},[s,e]),t?l.jsxs("div",{className:"flex h-screen overflow-hidden font-poppins",children:[l.jsx(ye,{activeLink:t}),l.jsxs("main",{className:"flex-grow bg-gray-100 py-6 px-4 sm:px-12 overflow-y-auto",children:[l.jsx(Ce,{plus:!0}),l.jsx(pg,{categoryId:t})]})]}):(e("/filebrowse"),null)},Wc="/assets/logo1-CNx-Aou2.svg",mg="w-full px-3 py-2 h-[41px] border rounded-[6px] focus:outline-none focus:ring-2 focus:ring-orange-500",xg=()=>{const[t,e]=j.useState(""),n=ce(),[r,{isLoading:i}]=Gf(),s=async a=>{var o;a.preventDefault();try{await r({email:t}).unwrap(),T.success("Password reset link sent to your email!"),n("/")}catch(c){T.error(((o=c==null?void 0:c.data)==null?void 0:o.message)||c.error)}};return l.jsxs("div",{className:"sm:flex sm:flex-col md:flex-row h-screen font-poppins relative",children:[l.jsx(Ls,{}),l.jsx("div",{className:"flex justify-center items-center w-full sm:w-1/2 min-h-screen bg-[#C95C34] p-6",children:l.jsxs("div",{className:"w-full sm:w-[530px] h-[421px] rounded-[26px] bg-[#F7F2EC] p-8 flex flex-col justify-center items-center",children:[l.jsx("img",{src:Wc,alt:"INDEPENDENTS BY SODEXO",className:"w-[246px] h-[45px] mb-[30px]"}),l.jsxs("form",{className:"space-y-6 w-full",onSubmit:s,children:[l.jsx("div",{children:l.jsx("input",{type:"email",className:mg,placeholder:"Email",value:t,onChange:a=>e(a.target.value),required:!0})}),l.jsxs("div",{className:"flex flex-col space-y-2",children:[l.jsx("div",{className:"flex items-center justify-end",children:l.jsx("button",{type:"submit",disabled:i,className:"bg-black text-white py-[10px] px-[30px] rounded-[6px] hover:bg-gray-800 w-[200px] h-[43px] text-[15px]",children:i?"Sending...":"Send Reset Link"})}),l.jsx("div",{className:"text-end",children:l.jsx(Y,{to:"/",className:"text-[12px] text-[#222221] hover:underline",children:"Back to Login"})})]})]})]})}),l.jsx("div",{className:"absolute top-[111px] inset-x-0 flex justify-center z-10",children:l.jsx("img",{src:hi,alt:"Logo",className:"w-[133px] h-[133px] object-contain"})})]})},so="w-full px-3 py-2 h-[41px] border rounded-[6px] focus:outline-none focus:ring-2 focus:ring-orange-500",vg=()=>{const{token:t}=tn(),e=ce(),[n,r]=j.useState(""),[i,s]=j.useState(""),[a,{isLoading:o}]=Qf(),c=async d=>{var u;if(d.preventDefault(),n!==i){T.error("Passwords do not match");return}try{await a({token:t,password:n}).unwrap(),T.success("Password reset successful!"),e("/")}catch(h){T.error(((u=h==null?void 0:h.data)==null?void 0:u.message)||h.error)}};return l.jsxs("div",{className:"sm:flex sm:flex-col md:flex-row h-screen font-poppins relative",children:[l.jsx(Ls,{}),l.jsx("div",{className:"flex justify-center items-center w-full sm:w-1/2 min-h-screen bg-[#C95C34] p-6",children:l.jsxs("div",{className:"w-full sm:w-[530px] h-[421px] rounded-[26px] bg-[#F7F2EC] p-8 flex flex-col justify-center items-center",children:[l.jsx("img",{src:Wc,alt:"INDEPENDENTS BY SODEXO",className:"w-[246px] h-[45px] mb-[30px]"}),l.jsxs("form",{className:"space-y-6 w-full",onSubmit:c,children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{children:l.jsx("input",{type:"password",className:so,placeholder:"New Password",value:n,onChange:d=>r(d.target.value),required:!0})}),l.jsx("div",{children:l.jsx("input",{type:"password",className:so,placeholder:"Confirm Password",value:i,onChange:d=>s(d.target.value),required:!0})})]}),l.jsxs("div",{className:"flex flex-col space-y-2",children:[l.jsx("div",{className:"flex items-center justify-end",children:l.jsx("button",{type:"submit",disabled:o,className:"bg-black text-white py-[10px] px-[66px] rounded-[6px] hover:bg-gray-800 w-[164px] h-[43px] text-[15px]",children:o?"Resetting...":"Reset"})}),l.jsx("div",{className:"text-end",children:l.jsx(Y,{to:"/",className:"text-[12px] text-[#222221] hover:underline",children:"Back to Login"})})]})]})]})}),l.jsx("div",{className:"absolute top-[111px] inset-x-0 flex justify-center z-10",children:l.jsx("img",{src:hi,alt:"Logo",className:"w-[133px] h-[133px] object-contain"})})]})},bg="w-full px-4 py-3 border rounded-[8px] focus:outline-none focus:ring-2 focus:ring-orange-500 bg-gray-100 text-gray-800 shadow-sm transition duration-200",yg=()=>{const[t,e]=j.useState(""),[n,{isLoading:r}]=pp(),i=ce(),s=Se(),{data:a,error:o}=$e();j.useEffect(()=>{o&&(i("/"),s(qe()))},[i,o,a,s]);const c=async d=>{var u;d.preventDefault();try{await n({name:t}).unwrap(),T.success("Category added successfully"),i("/view-category"),e("")}catch(h){T.error(((u=h==null?void 0:h.data)==null?void 0:u.message)||h.error)}};return l.jsxs("div",{className:"flex font-poppins",children:[l.jsx(ye,{activeLink:"AddCategory"}),l.jsxs("main",{className:"flex-grow h-screen bg-gray-100 py-6 px-4 sm:px-12 overflow-y-auto",children:[l.jsx(Ce,{plus:!0,filter:!1}),l.jsx("h3",{className:"text-[20px] sm:text-[24px] font-semibold font-bitter mt-8 mb-4",children:"ADD A NEW CATEGORY"}),l.jsx("div",{className:"mt-4 bg-white rounded-md w-full sm:w-[500px]",children:l.jsxs("form",{className:"space-y-6 p-8",onSubmit:c,children:[l.jsxs("div",{className:"w-full",children:[l.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Category Name"}),l.jsx("input",{type:"text",className:bg,value:t,onChange:d=>e(d.target.value),placeholder:"Enter category name",required:!0})]}),l.jsx("div",{className:"pt-2",children:l.jsx("button",{type:"submit",className:"py-3 px-6 rounded-[8px] text-white font-medium bg-[#C95C34] hover:bg-[#f85519] transition-colors",disabled:r,children:r?"Adding...":"Add Category"})})]})})]})]})};function hs(t,e){return hs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},hs(t,e)}function qc(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,hs(t,e)}function Ln(t){"@babel/helpers - typeof";return Ln=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ln(t)}function wg(t,e){if(Ln(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ln(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jg(t){var e=wg(t,"string");return Ln(e)=="symbol"?e:e+""}function Sg(t,e,n){return(e=jg(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ao(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ao(Object(n),!0).forEach(function(r){Sg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ao(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ie(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var lo=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Li=function(){return Math.random().toString(36).substring(7).split("").join(".")},co={INIT:"@@redux/INIT"+Li(),REPLACE:"@@redux/REPLACE"+Li(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Li()}};function Cg(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Gc(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ie(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ie(1));return n(Gc)(t,e)}if(typeof t!="function")throw new Error(Ie(2));var i=t,s=e,a=[],o=a,c=!1;function d(){o===a&&(o=a.slice())}function u(){if(c)throw new Error(Ie(3));return s}function h(m){if(typeof m!="function")throw new Error(Ie(4));if(c)throw new Error(Ie(5));var b=!0;return d(),o.push(m),function(){if(b){if(c)throw new Error(Ie(6));b=!1,d();var x=o.indexOf(m);o.splice(x,1),a=null}}}function p(m){if(!Cg(m))throw new Error(Ie(7));if(typeof m.type>"u")throw new Error(Ie(8));if(c)throw new Error(Ie(9));try{c=!0,s=i(s,m)}finally{c=!1}for(var b=a=o,v=0;v<b.length;v++){var x=b[v];x()}return m}function f(m){if(typeof m!="function")throw new Error(Ie(10));i=m,p({type:co.REPLACE})}function g(){var m,b=h;return m={subscribe:function(x){if(typeof x!="object"||x===null)throw new Error(Ie(11));function y(){x.next&&x.next(u())}y();var w=b(y);return{unsubscribe:w}}},m[lo]=function(){return this},m}return p({type:co.INIT}),r={dispatch:p,subscribe:h,getState:u,replaceReducer:f},r[lo]=g,r}function uo(t,e){return function(){return e(t.apply(this,arguments))}}function ho(t,e){if(typeof t=="function")return uo(t,e);if(typeof t!="object"||t===null)throw new Error(Ie(16));var n={};for(var r in t){var i=t[r];typeof i=="function"&&(n[r]=uo(i,e))}return n}function Qc(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function Ng(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(Ie(15))},a={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},o=e.map(function(c){return c(a)});return s=Qc.apply(void 0,o)(i.dispatch),oo(oo({},i),{},{dispatch:s})}}}function Dg(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Yc(t,e){var n=j.useState(function(){return{inputs:e,result:t()}})[0],r=j.useRef(!0),i=j.useRef(n),s=r.current||!!(e&&i.current.inputs&&Dg(e,i.current.inputs)),a=s?i.current:{inputs:e,result:t()};return j.useEffect(function(){r.current=!1,i.current=a},[a]),a.result}function Eg(t,e){return Yc(function(){return t},e)}var X=Yc,$=Eg,Ig="Invariant failed";function Ag(t,e){throw new Error(Ig)}var We=function(e){var n=e.top,r=e.right,i=e.bottom,s=e.left,a=r-s,o=i-n,c={top:n,right:r,bottom:i,left:s,width:a,height:o,x:s,y:n,center:{x:(r+s)/2,y:(i+n)/2}};return c},Fs=function(e,n){return{top:e.top-n.top,left:e.left-n.left,bottom:e.bottom+n.bottom,right:e.right+n.right}},fo=function(e,n){return{top:e.top+n.top,left:e.left+n.left,bottom:e.bottom-n.bottom,right:e.right-n.right}},_g=function(e,n){return{top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}},Fi={top:0,right:0,bottom:0,left:0},Bs=function(e){var n=e.borderBox,r=e.margin,i=r===void 0?Fi:r,s=e.border,a=s===void 0?Fi:s,o=e.padding,c=o===void 0?Fi:o,d=We(Fs(n,i)),u=We(fo(n,a)),h=We(fo(u,c));return{marginBox:d,borderBox:We(n),paddingBox:u,contentBox:h,margin:i,border:a,padding:c}},Le=function(e){var n=e.slice(0,-2),r=e.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&Ag(),i},Pg=function(){return{x:window.pageXOffset,y:window.pageYOffset}},qr=function(e,n){var r=e.borderBox,i=e.border,s=e.margin,a=e.padding,o=_g(r,n);return Bs({borderBox:o,border:i,margin:s,padding:a})},Gr=function(e,n){return n===void 0&&(n=Pg()),qr(e,n)},Kc=function(e,n){var r={top:Le(n.marginTop),right:Le(n.marginRight),bottom:Le(n.marginBottom),left:Le(n.marginLeft)},i={top:Le(n.paddingTop),right:Le(n.paddingRight),bottom:Le(n.paddingBottom),left:Le(n.paddingLeft)},s={top:Le(n.borderTopWidth),right:Le(n.borderRightWidth),bottom:Le(n.borderBottomWidth),left:Le(n.borderLeftWidth)};return Bs({borderBox:e,margin:r,padding:i,border:s})},Xc=function(e){var n=e.getBoundingClientRect(),r=window.getComputedStyle(e);return Kc(n,r)},po=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Mg(t,e){return!!(t===e||po(t)&&po(e))}function Tg(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!Mg(t[n],e[n]))return!1;return!0}function xe(t,e){e===void 0&&(e=Tg);var n,r=[],i,s=!1;function a(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];return s&&n===this&&e(o,r)||(i=t.apply(this,o),s=!0,n=this,r=o),i}return a}var Fn=function(e){var n=[],r=null,i=function(){for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];n=o,!r&&(r=requestAnimationFrame(function(){r=null,e.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function Zc(t,e){}Zc.bind(null,"warn");Zc.bind(null,"error");function ct(){}function kg(t,e){return Q({},t,{},e)}function Be(t,e,n){var r=e.map(function(i){var s=kg(n,i.options);return t.addEventListener(i.eventName,i.fn,s),function(){t.removeEventListener(i.eventName,i.fn,s)}});return function(){r.forEach(function(s){s()})}}var Og="Invariant failed";function Qr(t){this.message=t}Qr.prototype.toString=function(){return this.message};function L(t,e){throw new Qr(Og)}var Rg=function(t){qc(e,t);function e(){for(var r,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r=t.call.apply(t,[this].concat(s))||this,r.callbacks=null,r.unbind=ct,r.onWindowError=function(o){var c=r.getCallbacks();c.isDragging()&&c.tryAbort();var d=o.error;d instanceof Qr&&o.preventDefault()},r.getCallbacks=function(){if(!r.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return r.callbacks},r.setCallbacks=function(o){r.callbacks=o},r}var n=e.prototype;return n.componentDidMount=function(){this.unbind=Be(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(i){if(i instanceof Qr){this.setState({});return}throw i},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},e}(U.Component),Lg=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Yr=function(e){return e+1},Fg=function(e){return`
  You have lifted an item in position `+Yr(e.source.index)+`
`},Jc=function(e,n){var r=e.droppableId===n.droppableId,i=Yr(e.index),s=Yr(n.index);return r?`
      You have moved the item from position `+i+`
      to position `+s+`
    `:`
    You have moved the item from position `+i+`
    in list `+e.droppableId+`
    to list `+n.droppableId+`
    in position `+s+`
  `},ed=function(e,n,r){var i=n.droppableId===r.droppableId;return i?`
      The item `+e+`
      has been combined with `+r.draggableId:`
      The item `+e+`
      in list `+n.droppableId+`
      has been combined with `+r.draggableId+`
      in list `+r.droppableId+`
    `},Bg=function(e){var n=e.destination;if(n)return Jc(e.source,n);var r=e.combine;return r?ed(e.draggableId,e.source,r):"You are over an area that cannot be dropped on"},go=function(e){return`
  The item has returned to its starting position
  of `+Yr(e.index)+`
`},zg=function(e){if(e.reason==="CANCEL")return`
      Movement cancelled.
      `+go(e.source)+`
    `;var n=e.destination,r=e.combine;return n?`
      You have dropped the item.
      `+Jc(e.source,n)+`
    `:r?`
      You have dropped the item.
      `+ed(e.draggableId,e.source,r)+`
    `:`
    The item has been dropped while not over a drop area.
    `+go(e.source)+`
  `},kr={dragHandleUsageInstructions:Lg,onDragStart:Fg,onDragUpdate:Bg,onDragEnd:zg},ve={x:0,y:0},be=function(e,n){return{x:e.x+n.x,y:e.y+n.y}},Te=function(e,n){return{x:e.x-n.x,y:e.y-n.y}},dt=function(e,n){return e.x===n.x&&e.y===n.y},sn=function(e){return{x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}},Pt=function(e,n,r){var i;return r===void 0&&(r=0),i={},i[e]=n,i[e==="x"?"y":"x"]=r,i},Bn=function(e,n){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))},mo=function(e,n){return Math.min.apply(Math,n.map(function(r){return Bn(e,r)}))},td=function(e){return function(n){return{x:e(n.x),y:e(n.y)}}},Hg=function(t,e){var n=We({top:Math.max(e.top,t.top),right:Math.min(e.right,t.right),bottom:Math.min(e.bottom,t.bottom),left:Math.max(e.left,t.left)});return n.width<=0||n.height<=0?null:n},Kn=function(e,n){return{top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}},xo=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},Vg={top:0,right:0,bottom:0,left:0},Ug=function(e,n){return n?Kn(e,n.scroll.diff.displacement):e},$g=function(e,n,r){if(r&&r.increasedBy){var i;return Q({},e,(i={},i[n.end]=e[n.end]+r.increasedBy[n.line],i))}return e},Wg=function(e,n){return n&&n.shouldClipSubject?Hg(n.pageMarginBox,e):We(e)},Xt=function(t){var e=t.page,n=t.withPlaceholder,r=t.axis,i=t.frame,s=Ug(e.marginBox,i),a=$g(s,r,n),o=Wg(a,i);return{page:e,withPlaceholder:n,active:o}},zs=function(t,e){t.frame||L();var n=t.frame,r=Te(e,n.scroll.initial),i=sn(r),s=Q({},n,{scroll:{initial:n.scroll.initial,current:e,diff:{value:r,displacement:i},max:n.scroll.max}}),a=Xt({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:s}),o=Q({},t,{frame:s,subject:a});return o};function Kr(t){return Object.values?Object.values(t):Object.keys(t).map(function(e){return t[e]})}function Hs(t,e){if(t.findIndex)return t.findIndex(e);for(var n=0;n<t.length;n++)if(e(t[n]))return n;return-1}function mt(t,e){if(t.find)return t.find(e);var n=Hs(t,e);if(n!==-1)return t[n]}function nd(t){return Array.prototype.slice.call(t)}var rd=xe(function(t){return t.reduce(function(e,n){return e[n.descriptor.id]=n,e},{})}),id=xe(function(t){return t.reduce(function(e,n){return e[n.descriptor.id]=n,e},{})}),vi=xe(function(t){return Kr(t)}),qg=xe(function(t){return Kr(t)}),an=xe(function(t,e){var n=qg(e).filter(function(r){return t===r.descriptor.droppableId}).sort(function(r,i){return r.descriptor.index-i.descriptor.index});return n});function Vs(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function bi(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var yi=xe(function(t,e){return e.filter(function(n){return n.descriptor.id!==t.descriptor.id})}),Gg=function(t){var e=t.isMovingForward,n=t.draggable,r=t.destination,i=t.insideDestination,s=t.previousImpact;if(!r.isCombineEnabled)return null;var a=Vs(s);if(!a)return null;function o(m){var b={type:"COMBINE",combine:{draggableId:m,droppableId:r.descriptor.id}};return Q({},s,{at:b})}var c=s.displaced.all,d=c.length?c[0]:null;if(e)return d?o(d):null;var u=yi(n,i);if(!d){if(!u.length)return null;var h=u[u.length-1];return o(h.descriptor.id)}var p=Hs(u,function(m){return m.descriptor.id===d});p===-1&&L();var f=p-1;if(f<0)return null;var g=u[f];return o(g.descriptor.id)},on=function(t,e){return t.descriptor.droppableId===e.descriptor.id},sd={point:ve,value:0},zn={invisible:{},visible:{},all:[]},Qg={displaced:zn,displacedBy:sd,at:null},He=function(t,e){return function(n){return t<=n&&n<=e}},ad=function(t){var e=He(t.top,t.bottom),n=He(t.left,t.right);return function(r){var i=e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right);if(i)return!0;var s=e(r.top)||e(r.bottom),a=n(r.left)||n(r.right),o=s&&a;if(o)return!0;var c=r.top<t.top&&r.bottom>t.bottom,d=r.left<t.left&&r.right>t.right,u=c&&d;if(u)return!0;var h=c&&a||d&&s;return h}},Yg=function(t){var e=He(t.top,t.bottom),n=He(t.left,t.right);return function(r){var i=e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right);return i}},Us={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},od={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},Kg=function(t){return function(e){var n=He(e.top,e.bottom),r=He(e.left,e.right);return function(i){return t===Us?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)}}},Xg=function(e,n){var r=n.frame?n.frame.scroll.diff.displacement:ve;return Kn(e,r)},Zg=function(e,n,r){return n.subject.active?r(n.subject.active)(e):!1},Jg=function(e,n,r){return r(n)(e)},$s=function(e){var n=e.target,r=e.destination,i=e.viewport,s=e.withDroppableDisplacement,a=e.isVisibleThroughFrameFn,o=s?Xg(n,r):n;return Zg(o,r,a)&&Jg(o,i,a)},em=function(e){return $s(Q({},e,{isVisibleThroughFrameFn:ad}))},ld=function(e){return $s(Q({},e,{isVisibleThroughFrameFn:Yg}))},tm=function(e){return $s(Q({},e,{isVisibleThroughFrameFn:Kg(e.destination.axis)}))},nm=function(e,n,r){if(typeof r=="boolean")return r;if(!n)return!0;var i=n.invisible,s=n.visible;if(i[e])return!1;var a=s[e];return a?a.shouldAnimate:!0};function rm(t,e){var n=t.page.marginBox,r={top:e.point.y,right:0,bottom:0,left:e.point.x};return We(Fs(n,r))}function Hn(t){var e=t.afterDragging,n=t.destination,r=t.displacedBy,i=t.viewport,s=t.forceShouldAnimate,a=t.last;return e.reduce(function(c,d){var u=rm(d,r),h=d.descriptor.id;c.all.push(h);var p=em({target:u,destination:n,viewport:i,withDroppableDisplacement:!0});if(!p)return c.invisible[d.descriptor.id]=!0,c;var f=nm(h,a,s),g={draggableId:h,shouldAnimate:f};return c.visible[h]=g,c},{all:[],visible:{},invisible:{}})}function im(t,e){if(!t.length)return 0;var n=t[t.length-1].descriptor.index;return e.inHomeList?n:n+1}function vo(t){var e=t.insideDestination,n=t.inHomeList,r=t.displacedBy,i=t.destination,s=im(e,{inHomeList:n});return{displaced:zn,displacedBy:r,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:s}}}}function Xr(t){var e=t.draggable,n=t.insideDestination,r=t.destination,i=t.viewport,s=t.displacedBy,a=t.last,o=t.index,c=t.forceShouldAnimate,d=on(e,r);if(o==null)return vo({insideDestination:n,inHomeList:d,displacedBy:s,destination:r});var u=mt(n,function(m){return m.descriptor.index===o});if(!u)return vo({insideDestination:n,inHomeList:d,displacedBy:s,destination:r});var h=yi(e,n),p=n.indexOf(u),f=h.slice(p),g=Hn({afterDragging:f,destination:r,displacedBy:s,last:a,viewport:i.frame,forceShouldAnimate:c});return{displaced:g,displacedBy:s,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:o}}}}function pt(t,e){return!!e.effected[t]}var sm=function(t){var e=t.isMovingForward,n=t.destination,r=t.draggables,i=t.combine,s=t.afterCritical;if(!n.isCombineEnabled)return null;var a=i.draggableId,o=r[a],c=o.descriptor.index,d=pt(a,s);return d?e?c:c-1:e?c+1:c},am=function(t){var e=t.isMovingForward,n=t.isInHomeList,r=t.insideDestination,i=t.location;if(!r.length)return null;var s=i.index,a=e?s+1:s-1,o=r[0].descriptor.index,c=r[r.length-1].descriptor.index,d=n?c:c+1;return a<o||a>d?null:a},om=function(t){var e=t.isMovingForward,n=t.isInHomeList,r=t.draggable,i=t.draggables,s=t.destination,a=t.insideDestination,o=t.previousImpact,c=t.viewport,d=t.afterCritical,u=o.at;if(u||L(),u.type==="REORDER"){var h=am({isMovingForward:e,isInHomeList:n,location:u.destination,insideDestination:a});return h==null?null:Xr({draggable:r,insideDestination:a,destination:s,viewport:c,last:o.displaced,displacedBy:o.displacedBy,index:h})}var p=sm({isMovingForward:e,destination:s,displaced:o.displaced,draggables:i,combine:u.combine,afterCritical:d});return p==null?null:Xr({draggable:r,insideDestination:a,destination:s,viewport:c,last:o.displaced,displacedBy:o.displacedBy,index:p})},lm=function(t){var e=t.displaced,n=t.afterCritical,r=t.combineWith,i=t.displacedBy,s=!!(e.visible[r]||e.invisible[r]);return pt(r,n)?s?ve:sn(i.point):s?i.point:ve},cm=function(t){var e=t.afterCritical,n=t.impact,r=t.draggables,i=bi(n);i||L();var s=i.draggableId,a=r[s].page.borderBox.center,o=lm({displaced:n.displaced,afterCritical:e,combineWith:s,displacedBy:n.displacedBy});return be(a,o)},cd=function(e,n){return n.margin[e.start]+n.borderBox[e.size]/2},dm=function(e,n){return n.margin[e.end]+n.borderBox[e.size]/2},Ws=function(e,n,r){return n[e.crossAxisStart]+r.margin[e.crossAxisStart]+r.borderBox[e.crossAxisSize]/2},bo=function(e){var n=e.axis,r=e.moveRelativeTo,i=e.isMoving;return Pt(n.line,r.marginBox[n.end]+cd(n,i),Ws(n,r.marginBox,i))},yo=function(e){var n=e.axis,r=e.moveRelativeTo,i=e.isMoving;return Pt(n.line,r.marginBox[n.start]-dm(n,i),Ws(n,r.marginBox,i))},um=function(e){var n=e.axis,r=e.moveInto,i=e.isMoving;return Pt(n.line,r.contentBox[n.start]+cd(n,i),Ws(n,r.contentBox,i))},hm=function(t){var e=t.impact,n=t.draggable,r=t.draggables,i=t.droppable,s=t.afterCritical,a=an(i.descriptor.id,r),o=n.page,c=i.axis;if(!a.length)return um({axis:c,moveInto:i.page,isMoving:o});var d=e.displaced,u=e.displacedBy,h=d.all[0];if(h){var p=r[h];if(pt(h,s))return yo({axis:c,moveRelativeTo:p.page,isMoving:o});var f=qr(p.page,u.point);return yo({axis:c,moveRelativeTo:f,isMoving:o})}var g=a[a.length-1];if(g.descriptor.id===n.descriptor.id)return o.borderBox.center;if(pt(g.descriptor.id,s)){var m=qr(g.page,sn(s.displacedBy.point));return bo({axis:c,moveRelativeTo:m,isMoving:o})}return bo({axis:c,moveRelativeTo:g.page,isMoving:o})},fs=function(t,e){var n=t.frame;return n?be(e,n.scroll.diff.displacement):e},fm=function(e){var n=e.impact,r=e.draggable,i=e.droppable,s=e.draggables,a=e.afterCritical,o=r.page.borderBox.center,c=n.at;return!i||!c?o:c.type==="REORDER"?hm({impact:n,draggable:r,draggables:s,droppable:i,afterCritical:a}):cm({impact:n,draggables:s,afterCritical:a})},wi=function(t){var e=fm(t),n=t.droppable,r=n?fs(n,e):e;return r},dd=function(t,e){var n=Te(e,t.scroll.initial),r=sn(n),i=We({top:e.y,bottom:e.y+t.frame.height,left:e.x,right:e.x+t.frame.width}),s={frame:i,scroll:{initial:t.scroll.initial,max:t.scroll.max,current:e,diff:{value:n,displacement:r}}};return s};function wo(t,e){return t.map(function(n){return e[n]})}function pm(t,e){for(var n=0;n<e.length;n++){var r=e[n].visible[t];if(r)return r}return null}var gm=function(t){var e=t.impact,n=t.viewport,r=t.destination,i=t.draggables,s=t.maxScrollChange,a=dd(n,be(n.scroll.current,s)),o=r.frame?zs(r,be(r.frame.scroll.current,s)):r,c=e.displaced,d=Hn({afterDragging:wo(c.all,i),destination:r,displacedBy:e.displacedBy,viewport:a.frame,last:c,forceShouldAnimate:!1}),u=Hn({afterDragging:wo(c.all,i),destination:o,displacedBy:e.displacedBy,viewport:n.frame,last:c,forceShouldAnimate:!1}),h={},p={},f=[c,d,u];c.all.forEach(function(m){var b=pm(m,f);if(b){p[m]=b;return}h[m]=!0});var g=Q({},e,{displaced:{all:c.all,invisible:h,visible:p}});return g},mm=function(t,e){return be(t.scroll.diff.displacement,e)},qs=function(t){var e=t.pageBorderBoxCenter,n=t.draggable,r=t.viewport,i=mm(r,e),s=Te(i,n.page.borderBox.center);return be(n.client.borderBox.center,s)},ud=function(t){var e=t.draggable,n=t.destination,r=t.newPageBorderBoxCenter,i=t.viewport,s=t.withDroppableDisplacement,a=t.onlyOnMainAxis,o=a===void 0?!1:a,c=Te(r,e.page.borderBox.center),d=Kn(e.page.borderBox,c),u={target:d,destination:n,withDroppableDisplacement:s,viewport:i};return o?tm(u):ld(u)},xm=function(t){var e=t.isMovingForward,n=t.draggable,r=t.destination,i=t.draggables,s=t.previousImpact,a=t.viewport,o=t.previousPageBorderBoxCenter,c=t.previousClientSelection,d=t.afterCritical;if(!r.isEnabled)return null;var u=an(r.descriptor.id,i),h=on(n,r),p=Gg({isMovingForward:e,draggable:n,destination:r,insideDestination:u,previousImpact:s})||om({isMovingForward:e,isInHomeList:h,draggable:n,draggables:i,destination:r,insideDestination:u,previousImpact:s,viewport:a,afterCritical:d});if(!p)return null;var f=wi({impact:p,draggable:n,droppable:r,draggables:i,afterCritical:d}),g=ud({draggable:n,destination:r,newPageBorderBoxCenter:f,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(g){var m=qs({pageBorderBoxCenter:f,draggable:n,viewport:a});return{clientSelection:m,impact:p,scrollJumpRequest:null}}var b=Te(f,o),v=gm({impact:p,viewport:a,destination:r,draggables:i,maxScrollChange:b});return{clientSelection:c,impact:v,scrollJumpRequest:b}},Ne=function(e){var n=e.subject.active;return n||L(),n},vm=function(t){var e=t.isMovingForward,n=t.pageBorderBoxCenter,r=t.source,i=t.droppables,s=t.viewport,a=r.subject.active;if(!a)return null;var o=r.axis,c=He(a[o.start],a[o.end]),d=vi(i).filter(function(h){return h!==r}).filter(function(h){return h.isEnabled}).filter(function(h){return!!h.subject.active}).filter(function(h){return ad(s.frame)(Ne(h))}).filter(function(h){var p=Ne(h);return e?a[o.crossAxisEnd]<p[o.crossAxisEnd]:p[o.crossAxisStart]<a[o.crossAxisStart]}).filter(function(h){var p=Ne(h),f=He(p[o.start],p[o.end]);return c(p[o.start])||c(p[o.end])||f(a[o.start])||f(a[o.end])}).sort(function(h,p){var f=Ne(h)[o.crossAxisStart],g=Ne(p)[o.crossAxisStart];return e?f-g:g-f}).filter(function(h,p,f){return Ne(h)[o.crossAxisStart]===Ne(f[0])[o.crossAxisStart]});if(!d.length)return null;if(d.length===1)return d[0];var u=d.filter(function(h){var p=He(Ne(h)[o.start],Ne(h)[o.end]);return p(n[o.line])});return u.length===1?u[0]:u.length>1?u.sort(function(h,p){return Ne(h)[o.start]-Ne(p)[o.start]})[0]:d.sort(function(h,p){var f=mo(n,xo(Ne(h))),g=mo(n,xo(Ne(p)));return f!==g?f-g:Ne(h)[o.start]-Ne(p)[o.start]})[0]},jo=function(e,n){var r=e.page.borderBox.center;return pt(e.descriptor.id,n)?Te(r,n.displacedBy.point):r},bm=function(e,n){var r=e.page.borderBox;return pt(e.descriptor.id,n)?Kn(r,sn(n.displacedBy.point)):r},ym=function(t){var e=t.pageBorderBoxCenter,n=t.viewport,r=t.destination,i=t.insideDestination,s=t.afterCritical,a=i.filter(function(o){return ld({target:bm(o,s),destination:r,viewport:n.frame,withDroppableDisplacement:!0})}).sort(function(o,c){var d=Bn(e,fs(r,jo(o,s))),u=Bn(e,fs(r,jo(c,s)));return d<u?-1:u<d?1:o.descriptor.index-c.descriptor.index});return a[0]||null},Xn=xe(function(e,n){var r=n[e.line];return{value:r,point:Pt(e.line,r)}}),wm=function(e,n,r){var i=e.axis;if(e.descriptor.mode==="virtual")return Pt(i.line,n[i.line]);var s=e.subject.page.contentBox[i.size],a=an(e.descriptor.id,r),o=a.reduce(function(u,h){return u+h.client.marginBox[i.size]},0),c=o+n[i.line],d=c-s;return d<=0?null:Pt(i.line,d)},hd=function(e,n){return Q({},e,{scroll:Q({},e.scroll,{max:n})})},fd=function(e,n,r){var i=e.frame;on(n,e)&&L(),e.subject.withPlaceholder&&L();var s=Xn(e.axis,n.displaceBy).point,a=wm(e,s,r),o={placeholderSize:s,increasedBy:a,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!i){var c=Xt({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:e.frame});return Q({},e,{subject:c})}var d=a?be(i.scroll.max,a):i.scroll.max,u=hd(i,d),h=Xt({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:u});return Q({},e,{subject:h,frame:u})},jm=function(e){var n=e.subject.withPlaceholder;n||L();var r=e.frame;if(!r){var i=Xt({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return Q({},e,{subject:i})}var s=n.oldFrameMaxScroll;s||L();var a=hd(r,s),o=Xt({page:e.subject.page,axis:e.axis,frame:a,withPlaceholder:null});return Q({},e,{subject:o,frame:a})},Sm=function(t){var e=t.previousPageBorderBoxCenter,n=t.moveRelativeTo,r=t.insideDestination,i=t.draggable,s=t.draggables,a=t.destination,o=t.viewport,c=t.afterCritical;if(!n){if(r.length)return null;var d={displaced:zn,displacedBy:sd,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},u=wi({impact:d,draggable:i,droppable:a,draggables:s,afterCritical:c}),h=on(i,a)?a:fd(a,i,s),p=ud({draggable:i,destination:h,newPageBorderBoxCenter:u,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return p?d:null}var f=e[a.axis.line]<=n.page.borderBox.center[a.axis.line],g=function(){var b=n.descriptor.index;return n.descriptor.id===i.descriptor.id||f?b:b+1}(),m=Xn(a.axis,i.displaceBy);return Xr({draggable:i,insideDestination:r,destination:a,viewport:o,displacedBy:m,last:zn,index:g})},Cm=function(t){var e=t.isMovingForward,n=t.previousPageBorderBoxCenter,r=t.draggable,i=t.isOver,s=t.draggables,a=t.droppables,o=t.viewport,c=t.afterCritical,d=vm({isMovingForward:e,pageBorderBoxCenter:n,source:i,droppables:a,viewport:o});if(!d)return null;var u=an(d.descriptor.id,s),h=ym({pageBorderBoxCenter:n,viewport:o,destination:d,insideDestination:u,afterCritical:c}),p=Sm({previousPageBorderBoxCenter:n,destination:d,draggable:r,draggables:s,moveRelativeTo:h,insideDestination:u,viewport:o,afterCritical:c});if(!p)return null;var f=wi({impact:p,draggable:r,droppable:d,draggables:s,afterCritical:c}),g=qs({pageBorderBoxCenter:f,draggable:r,viewport:o});return{clientSelection:g,impact:p,scrollJumpRequest:null}},ke=function(t){var e=t.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null},Nm=function(e,n){var r=ke(e);return r?n[r]:null},Dm=function(t){var e=t.state,n=t.type,r=Nm(e.impact,e.dimensions.droppables),i=!!r,s=e.dimensions.droppables[e.critical.droppable.id],a=r||s,o=a.axis.direction,c=o==="vertical"&&(n==="MOVE_UP"||n==="MOVE_DOWN")||o==="horizontal"&&(n==="MOVE_LEFT"||n==="MOVE_RIGHT");if(c&&!i)return null;var d=n==="MOVE_DOWN"||n==="MOVE_RIGHT",u=e.dimensions.draggables[e.critical.draggable.id],h=e.current.page.borderBoxCenter,p=e.dimensions,f=p.draggables,g=p.droppables;return c?xm({isMovingForward:d,previousPageBorderBoxCenter:h,draggable:u,destination:a,draggables:f,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):Cm({isMovingForward:d,previousPageBorderBoxCenter:h,draggable:u,isOver:a,draggables:f,droppables:g,viewport:e.viewport,afterCritical:e.afterCritical})};function jt(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function pd(t){var e=He(t.top,t.bottom),n=He(t.left,t.right);return function(i){return e(i.y)&&n(i.x)}}function Em(t,e){return t.left<e.right&&t.right>e.left&&t.top<e.bottom&&t.bottom>e.top}function Im(t){var e=t.pageBorderBox,n=t.draggable,r=t.candidates,i=n.page.borderBox.center,s=r.map(function(a){var o=a.axis,c=Pt(a.axis.line,e.center[o.line],a.page.borderBox.center[o.crossAxisLine]);return{id:a.descriptor.id,distance:Bn(i,c)}}).sort(function(a,o){return o.distance-a.distance});return s[0]?s[0].id:null}function Am(t){var e=t.pageBorderBox,n=t.draggable,r=t.droppables,i=vi(r).filter(function(s){if(!s.isEnabled)return!1;var a=s.subject.active;if(!a||!Em(e,a))return!1;if(pd(a)(e.center))return!0;var o=s.axis,c=a.center[o.crossAxisLine],d=e[o.crossAxisStart],u=e[o.crossAxisEnd],h=He(a[o.crossAxisStart],a[o.crossAxisEnd]),p=h(d),f=h(u);return!p&&!f?!0:p?d<c:u>c});return i.length?i.length===1?i[0].descriptor.id:Im({pageBorderBox:e,draggable:n,candidates:i}):null}var gd=function(e,n){return We(Kn(e,n))},_m=function(t,e){var n=t.frame;return n?gd(e,n.scroll.diff.value):e};function md(t){var e=t.displaced,n=t.id;return!!(e.visible[n]||e.invisible[n])}function Pm(t){var e=t.draggable,n=t.closest,r=t.inHomeList;return n?r&&n.descriptor.index>e.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}var Mm=function(t){var e=t.pageBorderBoxWithDroppableScroll,n=t.draggable,r=t.destination,i=t.insideDestination,s=t.last,a=t.viewport,o=t.afterCritical,c=r.axis,d=Xn(r.axis,n.displaceBy),u=d.value,h=e[c.start],p=e[c.end],f=yi(n,i),g=mt(f,function(b){var v=b.descriptor.id,x=b.page.borderBox.center[c.line],y=pt(v,o),w=md({displaced:s,id:v});return y?w?p<=x:h<x-u:w?p<=x+u:h<x}),m=Pm({draggable:n,closest:g,inHomeList:on(n,r)});return Xr({draggable:n,insideDestination:i,destination:r,viewport:a,last:s,displacedBy:d,index:m})},Tm=4,km=function(t){var e=t.draggable,n=t.pageBorderBoxWithDroppableScroll,r=t.previousImpact,i=t.destination,s=t.insideDestination,a=t.afterCritical;if(!i.isCombineEnabled)return null;var o=i.axis,c=Xn(i.axis,e.displaceBy),d=c.value,u=n[o.start],h=n[o.end],p=yi(e,s),f=mt(p,function(m){var b=m.descriptor.id,v=m.page.borderBox,x=v[o.size],y=x/Tm,w=pt(b,a),S=md({displaced:r.displaced,id:b});return w?S?h>v[o.start]+y&&h<v[o.end]-y:u>v[o.start]-d+y&&u<v[o.end]-d-y:S?h>v[o.start]+d+y&&h<v[o.end]+d-y:u>v[o.start]+y&&u<v[o.end]-y});if(!f)return null;var g={displacedBy:c,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:f.descriptor.id,droppableId:i.descriptor.id}}};return g},xd=function(t){var e=t.pageOffset,n=t.draggable,r=t.draggables,i=t.droppables,s=t.previousImpact,a=t.viewport,o=t.afterCritical,c=gd(n.page.borderBox,e),d=Am({pageBorderBox:c,draggable:n,droppables:i});if(!d)return Qg;var u=i[d],h=an(u.descriptor.id,r),p=_m(u,c);return km({pageBorderBoxWithDroppableScroll:p,draggable:n,previousImpact:s,destination:u,insideDestination:h,afterCritical:o})||Mm({pageBorderBoxWithDroppableScroll:p,draggable:n,destination:u,insideDestination:h,last:s.displaced,viewport:a,afterCritical:o})},Gs=function(t,e){var n;return Q({},t,(n={},n[e.descriptor.id]=e,n))},Om=function(e){var n=e.previousImpact,r=e.impact,i=e.droppables,s=ke(n),a=ke(r);if(!s||s===a)return i;var o=i[s];if(!o.subject.withPlaceholder)return i;var c=jm(o);return Gs(i,c)},Rm=function(t){var e=t.draggable,n=t.draggables,r=t.droppables,i=t.previousImpact,s=t.impact,a=Om({previousImpact:i,impact:s,droppables:r}),o=ke(s);if(!o)return a;var c=r[o];if(on(e,c)||c.subject.withPlaceholder)return a;var d=fd(c,e,n);return Gs(a,d)},In=function(t){var e=t.state,n=t.clientSelection,r=t.dimensions,i=t.viewport,s=t.impact,a=t.scrollJumpRequest,o=i||e.viewport,c=r||e.dimensions,d=n||e.current.client.selection,u=Te(d,e.initial.client.selection),h={offset:u,selection:d,borderBoxCenter:be(e.initial.client.borderBoxCenter,u)},p={selection:be(h.selection,o.scroll.current),borderBoxCenter:be(h.borderBoxCenter,o.scroll.current),offset:be(h.offset,o.scroll.diff.value)},f={client:h,page:p};if(e.phase==="COLLECTING")return Q({phase:"COLLECTING"},e,{dimensions:c,viewport:o,current:f});var g=c.draggables[e.critical.draggable.id],m=s||xd({pageOffset:p.offset,draggable:g,draggables:c.draggables,droppables:c.droppables,previousImpact:e.impact,viewport:o,afterCritical:e.afterCritical}),b=Rm({draggable:g,impact:m,previousImpact:e.impact,draggables:c.draggables,droppables:c.droppables}),v=Q({},e,{current:f,dimensions:{draggables:c.draggables,droppables:b},impact:m,viewport:o,scrollJumpRequest:a||null,forceShouldAnimate:a?!1:null});return v};function Lm(t,e){return t.map(function(n){return e[n]})}var vd=function(t){var e=t.impact,n=t.viewport,r=t.draggables,i=t.destination,s=t.forceShouldAnimate,a=e.displaced,o=Lm(a.all,r),c=Hn({afterDragging:o,destination:i,displacedBy:e.displacedBy,viewport:n.frame,forceShouldAnimate:s,last:a});return Q({},e,{displaced:c})},bd=function(t){var e=t.impact,n=t.draggable,r=t.droppable,i=t.draggables,s=t.viewport,a=t.afterCritical,o=wi({impact:e,draggable:n,draggables:i,droppable:r,afterCritical:a});return qs({pageBorderBoxCenter:o,draggable:n,viewport:s})},yd=function(t){var e=t.state,n=t.dimensions,r=t.viewport;e.movementMode!=="SNAP"&&L();var i=e.impact,s=r||e.viewport,a=n||e.dimensions,o=a.draggables,c=a.droppables,d=o[e.critical.draggable.id],u=ke(i);u||L();var h=c[u],p=vd({impact:i,viewport:s,destination:h,draggables:o}),f=bd({impact:p,draggable:d,droppable:h,draggables:o,viewport:s,afterCritical:e.afterCritical});return In({impact:p,clientSelection:f,state:e,dimensions:a,viewport:s})},Fm=function(t){return{index:t.index,droppableId:t.droppableId}},wd=function(t){var e=t.draggable,n=t.home,r=t.draggables,i=t.viewport,s=Xn(n.axis,e.displaceBy),a=an(n.descriptor.id,r),o=a.indexOf(e);o===-1&&L();var c=a.slice(o+1),d=c.reduce(function(f,g){return f[g.descriptor.id]=!0,f},{}),u={inVirtualList:n.descriptor.mode==="virtual",displacedBy:s,effected:d},h=Hn({afterDragging:c,destination:n,displacedBy:s,last:null,viewport:i.frame,forceShouldAnimate:!1}),p={displaced:h,displacedBy:s,at:{type:"REORDER",destination:Fm(e.descriptor)}};return{impact:p,afterCritical:u}},Bm=function(t,e){return{draggables:t.draggables,droppables:Gs(t.droppables,e)}},zm=function(t){var e=t.draggable,n=t.offset,r=t.initialWindowScroll,i=qr(e.client,n),s=Gr(i,r),a=Q({},e,{placeholder:Q({},e.placeholder,{client:i}),client:i,page:s});return a},Hm=function(t){var e=t.frame;return e||L(),e},Vm=function(t){var e=t.additions,n=t.updatedDroppables,r=t.viewport,i=r.scroll.diff.value;return e.map(function(s){var a=s.descriptor.droppableId,o=n[a],c=Hm(o),d=c.scroll.diff.value,u=be(i,d),h=zm({draggable:s,offset:u,initialWindowScroll:r.scroll.initial});return h})},Um=function(t){var e=t.state,n=t.published,r=n.modified.map(function(y){var w=e.dimensions.droppables[y.droppableId],S=zs(w,y.scroll);return S}),i=Q({},e.dimensions.droppables,{},rd(r)),s=id(Vm({additions:n.additions,updatedDroppables:i,viewport:e.viewport})),a=Q({},e.dimensions.draggables,{},s);n.removals.forEach(function(y){delete a[y]});var o={droppables:i,draggables:a},c=ke(e.impact),d=c?o.droppables[c]:null,u=o.draggables[e.critical.draggable.id],h=o.droppables[e.critical.droppable.id],p=wd({draggable:u,home:h,draggables:a,viewport:e.viewport}),f=p.impact,g=p.afterCritical,m=d&&d.isCombineEnabled?e.impact:f,b=xd({pageOffset:e.current.page.offset,draggable:o.draggables[e.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:m,viewport:e.viewport,afterCritical:g}),v=Q({phase:"DRAGGING"},e,{phase:"DRAGGING",impact:b,onLiftImpact:f,dimensions:o,afterCritical:g,forceShouldAnimate:!1});if(e.phase==="COLLECTING")return v;var x=Q({phase:"DROP_PENDING"},v,{phase:"DROP_PENDING",reason:e.reason,isWaiting:!1});return x},ps=function(e){return e.movementMode==="SNAP"},Bi=function(e,n,r){var i=Bm(e.dimensions,n);return!ps(e)||r?In({state:e,dimensions:i}):yd({state:e,dimensions:i})};function zi(t){return t.isDragging&&t.movementMode==="SNAP"?Q({phase:"DRAGGING"},t,{scrollJumpRequest:null}):t}var So={phase:"IDLE",completed:null,shouldFlush:!1},$m=function(t,e){if(t===void 0&&(t=So),e.type==="FLUSH")return Q({},So,{shouldFlush:!0});if(e.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&L();var n=e.payload,r=n.critical,i=n.clientSelection,s=n.viewport,a=n.dimensions,o=n.movementMode,c=a.draggables[r.draggable.id],d=a.droppables[r.droppable.id],u={selection:i,borderBoxCenter:c.client.borderBox.center,offset:ve},h={client:u,page:{selection:be(u.selection,s.scroll.initial),borderBoxCenter:be(u.selection,s.scroll.initial),offset:be(u.selection,s.scroll.diff.value)}},p=vi(a.droppables).every(function(Pe){return!Pe.isFixedOnPage}),f=wd({draggable:c,home:d,draggables:a.draggables,viewport:s}),g=f.impact,m=f.afterCritical,b={phase:"DRAGGING",isDragging:!0,critical:r,movementMode:o,dimensions:a,initial:h,current:h,isWindowScrollAllowed:p,impact:g,afterCritical:m,onLiftImpact:g,viewport:s,scrollJumpRequest:null,forceShouldAnimate:null};return b}if(e.type==="COLLECTION_STARTING"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&L();var v=Q({phase:"COLLECTING"},t,{phase:"COLLECTING"});return v}if(e.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||L(),Um({state:t,published:e.payload});if(e.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;jt(t)||L();var x=e.payload.client;return dt(x,t.current.client.selection)?t:In({state:t,clientSelection:x,impact:ps(t)?t.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return zi(t);jt(t)||L();var y=e.payload,w=y.id,S=y.newScroll,C=t.dimensions.droppables[w];if(!C)return t;var N=zs(C,S);return Bi(t,N,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;jt(t)||L();var I=e.payload,E=I.id,D=I.isEnabled,A=t.dimensions.droppables[E];A||L(),A.isEnabled===D&&L();var _=Q({},A,{isEnabled:D});return Bi(t,_,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;jt(t)||L();var P=e.payload,R=P.id,M=P.isCombineEnabled,O=t.dimensions.droppables[R];O||L(),O.isCombineEnabled===M&&L();var H=Q({},O,{isCombineEnabled:M});return Bi(t,H,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;jt(t)||L(),t.isWindowScrollAllowed||L();var z=e.payload.newScroll;if(dt(t.viewport.scroll.current,z))return zi(t);var B=dd(t.viewport,z);return ps(t)?yd({state:t,viewport:B}):In({state:t,viewport:B})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!jt(t))return t;var F=e.payload.maxScroll;if(dt(F,t.viewport.scroll.max))return t;var K=Q({},t.viewport,{scroll:Q({},t.viewport.scroll,{max:F})});return Q({phase:"DRAGGING"},t,{viewport:K})}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&L();var k=Dm({state:t,type:e.type});return k?In({state:t,impact:k.impact,clientSelection:k.clientSelection,scrollJumpRequest:k.scrollJumpRequest}):t}if(e.type==="DROP_PENDING"){var V=e.payload.reason;t.phase!=="COLLECTING"&&L();var q=Q({phase:"DROP_PENDING"},t,{phase:"DROP_PENDING",isWaiting:!0,reason:V});return q}if(e.type==="DROP_ANIMATE"){var G=e.payload,ne=G.completed,J=G.dropDuration,Re=G.newHomeClientOffset;t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||L();var Ft={phase:"DROP_ANIMATING",completed:ne,dropDuration:J,newHomeClientOffset:Re,dimensions:t.dimensions};return Ft}if(e.type==="DROP_COMPLETE"){var oe=e.payload.completed;return{phase:"IDLE",completed:oe,shouldFlush:!1}}return t},Wm=function(e){return{type:"BEFORE_INITIAL_CAPTURE",payload:e}},qm=function(e){return{type:"LIFT",payload:e}},Gm=function(e){return{type:"INITIAL_PUBLISH",payload:e}},Qm=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},Ym=function(){return{type:"COLLECTION_STARTING",payload:null}},Km=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},Xm=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},Zm=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},jd=function(e){return{type:"MOVE",payload:e}},Jm=function(e){return{type:"MOVE_BY_WINDOW_SCROLL",payload:e}},e0=function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}},t0=function(){return{type:"MOVE_UP",payload:null}},n0=function(){return{type:"MOVE_DOWN",payload:null}},r0=function(){return{type:"MOVE_RIGHT",payload:null}},i0=function(){return{type:"MOVE_LEFT",payload:null}},Qs=function(){return{type:"FLUSH",payload:null}},s0=function(e){return{type:"DROP_ANIMATE",payload:e}},Ys=function(e){return{type:"DROP_COMPLETE",payload:e}},Sd=function(e){return{type:"DROP",payload:e}},a0=function(e){return{type:"DROP_PENDING",payload:e}},Cd=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},o0=function(t){return function(e){var n=e.getState,r=e.dispatch;return function(i){return function(s){if(s.type!=="LIFT"){i(s);return}var a=s.payload,o=a.id,c=a.clientSelection,d=a.movementMode,u=n();u.phase==="DROP_ANIMATING"&&r(Ys({completed:u.completed})),n().phase!=="IDLE"&&L(),r(Qs()),r(Wm({draggableId:o,movementMode:d}));var h={shouldPublishImmediately:d==="SNAP"},p={draggableId:o,scrollOptions:h},f=t.startPublishing(p),g=f.critical,m=f.dimensions,b=f.viewport;r(Gm({critical:g,dimensions:m,clientSelection:c,movementMode:d,viewport:b}))}}}},l0=function(t){return function(){return function(e){return function(n){n.type==="INITIAL_PUBLISH"&&t.dragging(),n.type==="DROP_ANIMATE"&&t.dropping(n.payload.completed.result.reason),(n.type==="FLUSH"||n.type==="DROP_COMPLETE")&&t.resting(),e(n)}}}},Ks={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Vn={opacity:{drop:0,combining:.7},scale:{drop:.75}},Xs={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},xt=Xs.outOfTheWay+"s "+Ks.outOfTheWay,An={fluid:"opacity "+xt,snap:"transform "+xt+", opacity "+xt,drop:function(e){var n=e+"s "+Ks.drop;return"transform "+n+", opacity "+n},outOfTheWay:"transform "+xt,placeholder:"height "+xt+", width "+xt+", margin "+xt},Co=function(e){return dt(e,ve)?null:"translate("+e.x+"px, "+e.y+"px)"},gs={moveTo:Co,drop:function(e,n){var r=Co(e);return r?n?r+" scale("+Vn.scale.drop+")":r:null}},ms=Xs.minDropTime,Nd=Xs.maxDropTime,c0=Nd-ms,No=1500,d0=.6,u0=function(t){var e=t.current,n=t.destination,r=t.reason,i=Bn(e,n);if(i<=0)return ms;if(i>=No)return Nd;var s=i/No,a=ms+c0*s,o=r==="CANCEL"?a*d0:a;return Number(o.toFixed(2))},h0=function(t){var e=t.impact,n=t.draggable,r=t.dimensions,i=t.viewport,s=t.afterCritical,a=r.draggables,o=r.droppables,c=ke(e),d=c?o[c]:null,u=o[n.descriptor.droppableId],h=bd({impact:e,draggable:n,draggables:a,afterCritical:s,droppable:d||u,viewport:i}),p=Te(h,n.client.borderBox.center);return p},f0=function(t){var e=t.draggables,n=t.reason,r=t.lastImpact,i=t.home,s=t.viewport,a=t.onLiftImpact;if(!r.at||n!=="DROP"){var o=vd({draggables:e,impact:a,destination:i,viewport:s,forceShouldAnimate:!0});return{impact:o,didDropInsideDroppable:!1}}if(r.at.type==="REORDER")return{impact:r,didDropInsideDroppable:!0};var c=Q({},r,{displaced:zn});return{impact:c,didDropInsideDroppable:!0}},p0=function(t){var e=t.getState,n=t.dispatch;return function(r){return function(i){if(i.type!=="DROP"){r(i);return}var s=e(),a=i.payload.reason;if(s.phase==="COLLECTING"){n(a0({reason:a}));return}if(s.phase!=="IDLE"){var o=s.phase==="DROP_PENDING"&&s.isWaiting;o&&L(),s.phase==="DRAGGING"||s.phase==="DROP_PENDING"||L();var c=s.critical,d=s.dimensions,u=d.draggables[s.critical.draggable.id],h=f0({reason:a,lastImpact:s.impact,afterCritical:s.afterCritical,onLiftImpact:s.onLiftImpact,home:s.dimensions.droppables[s.critical.droppable.id],viewport:s.viewport,draggables:s.dimensions.draggables}),p=h.impact,f=h.didDropInsideDroppable,g=f?Vs(p):null,m=f?bi(p):null,b={index:c.draggable.index,droppableId:c.droppable.id},v={draggableId:u.descriptor.id,type:u.descriptor.type,source:b,reason:a,mode:s.movementMode,destination:g,combine:m},x=h0({impact:p,draggable:u,dimensions:d,viewport:s.viewport,afterCritical:s.afterCritical}),y={critical:s.critical,afterCritical:s.afterCritical,result:v,impact:p},w=!dt(s.current.client.offset,x)||!!v.combine;if(!w){n(Ys({completed:y}));return}var S=u0({current:s.current.client.offset,destination:x,reason:a}),C={newHomeClientOffset:x,dropDuration:S,completed:y};n(s0(C))}}}},Dd=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function g0(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(n){n.target!==window&&n.target!==window.document||t()}}}function m0(t){var e=t.onWindowScroll;function n(){e(Dd())}var r=Fn(n),i=g0(r),s=ct;function a(){return s!==ct}function o(){a()&&L(),s=Be(window,[i])}function c(){a()||L(),r.cancel(),s(),s=ct}return{start:o,stop:c,isActive:a}}var x0=function(e){return e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH"},v0=function(t){var e=m0({onWindowScroll:function(r){t.dispatch(Jm({newScroll:r}))}});return function(n){return function(r){!e.isActive()&&r.type==="INITIAL_PUBLISH"&&e.start(),e.isActive()&&x0(r)&&e.stop(),n(r)}}},b0=function(t){var e=!1,n=!1,r=setTimeout(function(){n=!0}),i=function(a){e||n||(e=!0,t(a),clearTimeout(r))};return i.wasCalled=function(){return e},i},y0=function(){var t=[],e=function(s){var a=Hs(t,function(d){return d.timerId===s});a===-1&&L();var o=t.splice(a,1),c=o[0];c.callback()},n=function(s){var a=setTimeout(function(){return e(a)}),o={timerId:a,callback:s};t.push(o)},r=function(){if(t.length){var s=[].concat(t);t.length=0,s.forEach(function(a){clearTimeout(a.timerId),a.callback()})}};return{add:n,flush:r}},w0=function(e,n){return e==null&&n==null?!0:e==null||n==null?!1:e.droppableId===n.droppableId&&e.index===n.index},j0=function(e,n){return e==null&&n==null?!0:e==null||n==null?!1:e.draggableId===n.draggableId&&e.droppableId===n.droppableId},S0=function(e,n){if(e===n)return!0;var r=e.draggable.id===n.draggable.id&&e.draggable.droppableId===n.draggable.droppableId&&e.draggable.type===n.draggable.type&&e.draggable.index===n.draggable.index,i=e.droppable.id===n.droppable.id&&e.droppable.type===n.droppable.type;return r&&i},fn=function(e,n){n()},ur=function(e,n){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:n}},Hi=function(e,n,r,i){if(!e){r(i(n));return}var s=b0(r),a={announce:s};e(n,a),s.wasCalled()||r(i(n))},C0=function(t,e){var n=y0(),r=null,i=function(p,f){r&&L(),fn("onBeforeCapture",function(){var g=t().onBeforeCapture;if(g){var m={draggableId:p,mode:f};g(m)}})},s=function(p,f){r&&L(),fn("onBeforeDragStart",function(){var g=t().onBeforeDragStart;g&&g(ur(p,f))})},a=function(p,f){r&&L();var g=ur(p,f);r={mode:f,lastCritical:p,lastLocation:g.source,lastCombine:null},n.add(function(){fn("onDragStart",function(){return Hi(t().onDragStart,g,e,kr.onDragStart)})})},o=function(p,f){var g=Vs(f),m=bi(f);r||L();var b=!S0(p,r.lastCritical);b&&(r.lastCritical=p);var v=!w0(r.lastLocation,g);v&&(r.lastLocation=g);var x=!j0(r.lastCombine,m);if(x&&(r.lastCombine=m),!(!b&&!v&&!x)){var y=Q({},ur(p,r.mode),{combine:m,destination:g});n.add(function(){fn("onDragUpdate",function(){return Hi(t().onDragUpdate,y,e,kr.onDragUpdate)})})}},c=function(){r||L(),n.flush()},d=function(p){r||L(),r=null,fn("onDragEnd",function(){return Hi(t().onDragEnd,p,e,kr.onDragEnd)})},u=function(){if(r){var p=Q({},ur(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});d(p)}};return{beforeCapture:i,beforeStart:s,start:a,update:o,flush:c,drop:d,abort:u}},N0=function(t,e){var n=C0(t,e);return function(r){return function(i){return function(s){if(s.type==="BEFORE_INITIAL_CAPTURE"){n.beforeCapture(s.payload.draggableId,s.payload.movementMode);return}if(s.type==="INITIAL_PUBLISH"){var a=s.payload.critical;n.beforeStart(a,s.payload.movementMode),i(s),n.start(a,s.payload.movementMode);return}if(s.type==="DROP_COMPLETE"){var o=s.payload.completed.result;n.flush(),i(s),n.drop(o);return}if(i(s),s.type==="FLUSH"){n.abort();return}var c=r.getState();c.phase==="DRAGGING"&&n.update(c.critical,c.impact)}}}},D0=function(t){return function(e){return function(n){if(n.type!=="DROP_ANIMATION_FINISHED"){e(n);return}var r=t.getState();r.phase!=="DROP_ANIMATING"&&L(),t.dispatch(Ys({completed:r.completed}))}}},E0=function(t){var e=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),e&&(e(),e=null)}return function(i){return function(s){if((s.type==="FLUSH"||s.type==="DROP_COMPLETE"||s.type==="DROP_ANIMATION_FINISHED")&&r(),i(s),s.type==="DROP_ANIMATE"){var a={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var c=t.getState();c.phase==="DROP_ANIMATING"&&t.dispatch(Cd())}};n=requestAnimationFrame(function(){n=null,e=Be(window,[a])})}}}},I0=function(t){return function(){return function(e){return function(n){(n.type==="DROP_COMPLETE"||n.type==="FLUSH"||n.type==="DROP_ANIMATE")&&t.stopPublishing(),e(n)}}}},A0=function(t){var e=!1;return function(){return function(n){return function(r){if(r.type==="INITIAL_PUBLISH"){e=!0,t.tryRecordFocus(r.payload.critical.draggable.id),n(r),t.tryRestoreFocusRecorded();return}if(n(r),!!e){if(r.type==="FLUSH"){e=!1,t.tryRestoreFocusRecorded();return}if(r.type==="DROP_COMPLETE"){e=!1;var i=r.payload.completed.result;i.combine&&t.tryShiftRecord(i.draggableId,i.combine.draggableId),t.tryRestoreFocusRecorded()}}}}}},_0=function(e){return e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH"},P0=function(t){return function(e){return function(n){return function(r){if(_0(r)){t.stop(),n(r);return}if(r.type==="INITIAL_PUBLISH"){n(r);var i=e.getState();i.phase!=="DRAGGING"&&L(),t.start(i);return}n(r),t.scroll(e.getState())}}}},M0=function(t){return function(e){return function(n){if(e(n),n.type==="PUBLISH_WHILE_DRAGGING"){var r=t.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||t.dispatch(Sd({reason:r.reason})))}}}},T0=Qc,k0=function(t){var e=t.dimensionMarshal,n=t.focusMarshal,r=t.styleMarshal,i=t.getResponders,s=t.announce,a=t.autoScroller;return Gc($m,T0(Ng(l0(r),I0(e),o0(e),p0,D0,E0,M0,P0(a),v0,A0(n),N0(i,s))))},Vi=function(){return{additions:{},removals:{},modified:{}}};function O0(t){var e=t.registry,n=t.callbacks,r=Vi(),i=null,s=function(){i||(n.collectionStarting(),i=requestAnimationFrame(function(){i=null;var u=r,h=u.additions,p=u.removals,f=u.modified,g=Object.keys(h).map(function(v){return e.draggable.getById(v).getDimension(ve)}).sort(function(v,x){return v.descriptor.index-x.descriptor.index}),m=Object.keys(f).map(function(v){var x=e.droppable.getById(v),y=x.callbacks.getScrollWhileDragging();return{droppableId:v,scroll:y}}),b={additions:g,removals:Object.keys(p),modified:m};r=Vi(),n.publish(b)}))},a=function(u){var h=u.descriptor.id;r.additions[h]=u,r.modified[u.descriptor.droppableId]=!0,r.removals[h]&&delete r.removals[h],s()},o=function(u){var h=u.descriptor;r.removals[h.id]=!0,r.modified[h.droppableId]=!0,r.additions[h.id]&&delete r.additions[h.id],s()},c=function(){i&&(cancelAnimationFrame(i),i=null,r=Vi())};return{add:a,remove:o,stop:c}}var Ed=function(t){var e=t.scrollHeight,n=t.scrollWidth,r=t.height,i=t.width,s=Te({x:n,y:e},{x:i,y:r}),a={x:Math.max(0,s.x),y:Math.max(0,s.y)};return a},Id=function(){var t=document.documentElement;return t||L(),t},Ad=function(){var t=Id(),e=Ed({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight});return e},R0=function(){var t=Dd(),e=Ad(),n=t.y,r=t.x,i=Id(),s=i.clientWidth,a=i.clientHeight,o=r+s,c=n+a,d=We({top:n,left:r,right:o,bottom:c}),u={frame:d,scroll:{initial:t,current:t,max:e,diff:{value:ve,displacement:ve}}};return u},L0=function(t){var e=t.critical,n=t.scrollOptions,r=t.registry,i=R0(),s=i.scroll.current,a=e.droppable,o=r.droppable.getAllByType(a.type).map(function(h){return h.callbacks.getDimensionAndWatchScroll(s,n)}),c=r.draggable.getAllByType(e.draggable.type).map(function(h){return h.getDimension(s)}),d={draggables:id(c),droppables:rd(o)},u={dimensions:d,critical:e,viewport:i};return u};function Do(t,e,n){if(n.descriptor.id===e.id||n.descriptor.type!==e.type)return!1;var r=t.droppable.getById(n.descriptor.droppableId);return r.descriptor.mode==="virtual"}var F0=function(t,e){var n=null,r=O0({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:t}),i=function(f,g){t.droppable.exists(f)||L(),n&&e.updateDroppableIsEnabled({id:f,isEnabled:g})},s=function(f,g){n&&(t.droppable.exists(f)||L(),e.updateDroppableIsCombineEnabled({id:f,isCombineEnabled:g}))},a=function(f,g){n&&(t.droppable.exists(f)||L(),e.updateDroppableScroll({id:f,newScroll:g}))},o=function(f,g){n&&t.droppable.getById(f).callbacks.scroll(g)},c=function(){if(n){r.stop();var f=n.critical.droppable;t.droppable.getAllByType(f.type).forEach(function(g){return g.callbacks.dragStopped()}),n.unsubscribe(),n=null}},d=function(f){n||L();var g=n.critical.draggable;f.type==="ADDITION"&&Do(t,g,f.value)&&r.add(f.value),f.type==="REMOVAL"&&Do(t,g,f.value)&&r.remove(f.value)},u=function(f){n&&L();var g=t.draggable.getById(f.draggableId),m=t.droppable.getById(g.descriptor.droppableId),b={draggable:g.descriptor,droppable:m.descriptor},v=t.subscribe(d);return n={critical:b,unsubscribe:v},L0({critical:b,registry:t,scrollOptions:f.scrollOptions})},h={updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:s,scrollDroppable:o,updateDroppableScroll:a,startPublishing:u,stopPublishing:c};return h},_d=function(t,e){return t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===e?!1:t.completed.result.reason==="DROP"},B0=function(t){window.scrollBy(t.x,t.y)},z0=xe(function(t){return vi(t).filter(function(e){return!(!e.isEnabled||!e.frame)})}),H0=function(e,n){var r=mt(z0(n),function(i){return i.frame||L(),pd(i.frame.pageMarginBox)(e)});return r},V0=function(t){var e=t.center,n=t.destination,r=t.droppables;if(n){var i=r[n];return i.frame?i:null}var s=H0(e,r);return s},ut={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(e){return Math.pow(e,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},U0=function(t,e){var n=t[e.size]*ut.startFromPercentage,r=t[e.size]*ut.maxScrollAtPercentage,i={startScrollingFrom:n,maxScrollValueAt:r};return i},Pd=function(t){var e=t.startOfRange,n=t.endOfRange,r=t.current,i=n-e;if(i===0)return 0;var s=r-e,a=s/i;return a},Zs=1,$0=function(t,e){if(t>e.startScrollingFrom)return 0;if(t<=e.maxScrollValueAt)return ut.maxPixelScroll;if(t===e.startScrollingFrom)return Zs;var n=Pd({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:t}),r=1-n,i=ut.maxPixelScroll*ut.ease(r);return Math.ceil(i)},Eo=ut.durationDampening.accelerateAt,Io=ut.durationDampening.stopDampeningAt,W0=function(t,e){var n=e,r=Io,i=Date.now(),s=i-n;if(s>=Io)return t;if(s<Eo)return Zs;var a=Pd({startOfRange:Eo,endOfRange:r,current:s}),o=t*ut.ease(a);return Math.ceil(o)},Ao=function(t){var e=t.distanceToEdge,n=t.thresholds,r=t.dragStartTime,i=t.shouldUseTimeDampening,s=$0(e,n);return s===0?0:i?Math.max(W0(s,r),Zs):s},_o=function(t){var e=t.container,n=t.distanceToEdges,r=t.dragStartTime,i=t.axis,s=t.shouldUseTimeDampening,a=U0(e,i),o=n[i.end]<n[i.start];return o?Ao({distanceToEdge:n[i.end],thresholds:a,dragStartTime:r,shouldUseTimeDampening:s}):-1*Ao({distanceToEdge:n[i.start],thresholds:a,dragStartTime:r,shouldUseTimeDampening:s})},q0=function(t){var e=t.container,n=t.subject,r=t.proposedScroll,i=n.height>e.height,s=n.width>e.width;return!s&&!i?r:s&&i?null:{x:s?0:r.x,y:i?0:r.y}},G0=td(function(t){return t===0?0:t}),Md=function(t){var e=t.dragStartTime,n=t.container,r=t.subject,i=t.center,s=t.shouldUseTimeDampening,a={top:i.y-n.top,right:n.right-i.x,bottom:n.bottom-i.y,left:i.x-n.left},o=_o({container:n,distanceToEdges:a,dragStartTime:e,axis:Us,shouldUseTimeDampening:s}),c=_o({container:n,distanceToEdges:a,dragStartTime:e,axis:od,shouldUseTimeDampening:s}),d=G0({x:c,y:o});if(dt(d,ve))return null;var u=q0({container:n,subject:r,proposedScroll:d});return u?dt(u,ve)?null:u:null},Q0=td(function(t){return t===0?0:t>0?1:-1}),Js=function(){var t=function(n,r){return n<0?n:n>r?n-r:0};return function(e){var n=e.current,r=e.max,i=e.change,s=be(n,i),a={x:t(s.x,r.x),y:t(s.y,r.y)};return dt(a,ve)?null:a}}(),Td=function(e){var n=e.max,r=e.current,i=e.change,s={x:Math.max(r.x,n.x),y:Math.max(r.y,n.y)},a=Q0(i),o=Js({max:s,current:r,change:a});return!o||a.x!==0&&o.x===0||a.y!==0&&o.y===0},ea=function(e,n){return Td({current:e.scroll.current,max:e.scroll.max,change:n})},Y0=function(e,n){if(!ea(e,n))return null;var r=e.scroll.max,i=e.scroll.current;return Js({current:i,max:r,change:n})},ta=function(e,n){var r=e.frame;return r?Td({current:r.scroll.current,max:r.scroll.max,change:n}):!1},K0=function(e,n){var r=e.frame;return!r||!ta(e,n)?null:Js({current:r.scroll.current,max:r.scroll.max,change:n})},X0=function(t){var e=t.viewport,n=t.subject,r=t.center,i=t.dragStartTime,s=t.shouldUseTimeDampening,a=Md({dragStartTime:i,container:e.frame,subject:n,center:r,shouldUseTimeDampening:s});return a&&ea(e,a)?a:null},Z0=function(t){var e=t.droppable,n=t.subject,r=t.center,i=t.dragStartTime,s=t.shouldUseTimeDampening,a=e.frame;if(!a)return null;var o=Md({dragStartTime:i,container:a.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:s});return o&&ta(e,o)?o:null},Po=function(t){var e=t.state,n=t.dragStartTime,r=t.shouldUseTimeDampening,i=t.scrollWindow,s=t.scrollDroppable,a=e.current.page.borderBoxCenter,o=e.dimensions.draggables[e.critical.draggable.id],c=o.page.marginBox;if(e.isWindowScrollAllowed){var d=e.viewport,u=X0({dragStartTime:n,viewport:d,subject:c,center:a,shouldUseTimeDampening:r});if(u){i(u);return}}var h=V0({center:a,destination:ke(e.impact),droppables:e.dimensions.droppables});if(h){var p=Z0({dragStartTime:n,droppable:h,subject:c,center:a,shouldUseTimeDampening:r});p&&s(h.descriptor.id,p)}},J0=function(t){var e=t.scrollWindow,n=t.scrollDroppable,r=Fn(e),i=Fn(n),s=null,a=function(u){s||L();var h=s,p=h.shouldUseTimeDampening,f=h.dragStartTime;Po({state:u,scrollWindow:r,scrollDroppable:i,dragStartTime:f,shouldUseTimeDampening:p})},o=function(u){s&&L();var h=Date.now(),p=!1,f=function(){p=!0};Po({state:u,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:f,scrollDroppable:f}),s={dragStartTime:h,shouldUseTimeDampening:p},p&&a(u)},c=function(){s&&(r.cancel(),i.cancel(),s=null)};return{start:o,stop:c,scroll:a}},ex=function(t){var e=t.move,n=t.scrollDroppable,r=t.scrollWindow,i=function(d,u){var h=be(d.current.client.selection,u);e({client:h})},s=function(d,u){if(!ta(d,u))return u;var h=K0(d,u);if(!h)return n(d.descriptor.id,u),null;var p=Te(u,h);n(d.descriptor.id,p);var f=Te(u,p);return f},a=function(d,u,h){if(!d||!ea(u,h))return h;var p=Y0(u,h);if(!p)return r(h),null;var f=Te(h,p);r(f);var g=Te(h,f);return g},o=function(d){var u=d.scrollJumpRequest;if(u){var h=ke(d.impact);h||L();var p=s(d.dimensions.droppables[h],u);if(p){var f=d.viewport,g=a(d.isWindowScrollAllowed,f,p);g&&i(d,g)}}};return o},tx=function(t){var e=t.scrollDroppable,n=t.scrollWindow,r=t.move,i=J0({scrollWindow:n,scrollDroppable:e}),s=ex({move:r,scrollWindow:n,scrollDroppable:e}),a=function(d){if(d.phase==="DRAGGING"){if(d.movementMode==="FLUID"){i.scroll(d);return}d.scrollJumpRequest&&s(d)}},o={scroll:a,start:i.start,stop:i.stop};return o},Zt="data-rbd",Jt=function(){var t=Zt+"-drag-handle";return{base:t,draggableId:t+"-draggable-id",contextId:t+"-context-id"}}(),xs=function(){var t=Zt+"-draggable";return{base:t,contextId:t+"-context-id",id:t+"-id"}}(),nx=function(){var t=Zt+"-droppable";return{base:t,contextId:t+"-context-id",id:t+"-id"}}(),Mo={contextId:Zt+"-scroll-container-context-id"},rx=function(e){return function(n){return"["+n+'="'+e+'"]'}},pn=function(e,n){return e.map(function(r){var i=r.styles[n];return i?r.selector+" { "+i+" }":""}).join(" ")},ix="pointer-events: none;",sx=function(t){var e=rx(t),n=function(){var o=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:e(Jt.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:o,dragging:ix,dropAnimating:o}}}(),r=function(){var o=`
      transition: `+An.outOfTheWay+`;
    `;return{selector:e(xs.contextId),styles:{dragging:o,dropAnimating:o,userCancel:o}}}(),i={selector:e(nx.contextId),styles:{always:"overflow-anchor: none;"}},s={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},a=[r,n,i,s];return{always:pn(a,"always"),resting:pn(a,"resting"),dragging:pn(a,"dragging"),dropAnimating:pn(a,"dropAnimating"),userCancel:pn(a,"userCancel")}},Oe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?j.useLayoutEffect:j.useEffect,Ui=function(){var e=document.querySelector("head");return e||L(),e},To=function(e){var n=document.createElement("style");return e&&n.setAttribute("nonce",e),n.type="text/css",n};function ax(t,e){var n=X(function(){return sx(t)},[t]),r=j.useRef(null),i=j.useRef(null),s=$(xe(function(h){var p=i.current;p||L(),p.textContent=h}),[]),a=$(function(h){var p=r.current;p||L(),p.textContent=h},[]);Oe(function(){!r.current&&!i.current||L();var h=To(e),p=To(e);return r.current=h,i.current=p,h.setAttribute(Zt+"-always",t),p.setAttribute(Zt+"-dynamic",t),Ui().appendChild(h),Ui().appendChild(p),a(n.always),s(n.resting),function(){var f=function(m){var b=m.current;b||L(),Ui().removeChild(b),m.current=null};f(r),f(i)}},[e,a,s,n.always,n.resting,t]);var o=$(function(){return s(n.dragging)},[s,n.dragging]),c=$(function(h){if(h==="DROP"){s(n.dropAnimating);return}s(n.userCancel)},[s,n.dropAnimating,n.userCancel]),d=$(function(){i.current&&s(n.resting)},[s,n.resting]),u=X(function(){return{dragging:o,dropping:c,resting:d}},[o,c,d]);return u}var kd=function(t){return t&&t.ownerDocument?t.ownerDocument.defaultView:window};function ji(t){return t instanceof kd(t).HTMLElement}function ox(t,e){var n="["+Jt.contextId+'="'+t+'"]',r=nd(document.querySelectorAll(n));if(!r.length)return null;var i=mt(r,function(s){return s.getAttribute(Jt.draggableId)===e});return!i||!ji(i)?null:i}function lx(t){var e=j.useRef({}),n=j.useRef(null),r=j.useRef(null),i=j.useRef(!1),s=$(function(p,f){var g={id:p,focus:f};return e.current[p]=g,function(){var b=e.current,v=b[p];v!==g&&delete b[p]}},[]),a=$(function(p){var f=ox(t,p);f&&f!==document.activeElement&&f.focus()},[t]),o=$(function(p,f){n.current===p&&(n.current=f)},[]),c=$(function(){r.current||i.current&&(r.current=requestAnimationFrame(function(){r.current=null;var p=n.current;p&&a(p)}))},[a]),d=$(function(p){n.current=null;var f=document.activeElement;f&&f.getAttribute(Jt.draggableId)===p&&(n.current=p)},[]);Oe(function(){return i.current=!0,function(){i.current=!1;var p=r.current;p&&cancelAnimationFrame(p)}},[]);var u=X(function(){return{register:s,tryRecordFocus:d,tryRestoreFocusRecorded:c,tryShiftRecord:o}},[s,d,c,o]);return u}function cx(){var t={draggables:{},droppables:{}},e=[];function n(h){return e.push(h),function(){var f=e.indexOf(h);f!==-1&&e.splice(f,1)}}function r(h){e.length&&e.forEach(function(p){return p(h)})}function i(h){return t.draggables[h]||null}function s(h){var p=i(h);return p||L(),p}var a={register:function(p){t.draggables[p.descriptor.id]=p,r({type:"ADDITION",value:p})},update:function(p,f){var g=t.draggables[f.descriptor.id];g&&g.uniqueId===p.uniqueId&&(delete t.draggables[f.descriptor.id],t.draggables[p.descriptor.id]=p)},unregister:function(p){var f=p.descriptor.id,g=i(f);g&&p.uniqueId===g.uniqueId&&(delete t.draggables[f],r({type:"REMOVAL",value:p}))},getById:s,findById:i,exists:function(p){return!!i(p)},getAllByType:function(p){return Kr(t.draggables).filter(function(f){return f.descriptor.type===p})}};function o(h){return t.droppables[h]||null}function c(h){var p=o(h);return p||L(),p}var d={register:function(p){t.droppables[p.descriptor.id]=p},unregister:function(p){var f=o(p.descriptor.id);f&&p.uniqueId===f.uniqueId&&delete t.droppables[p.descriptor.id]},getById:c,findById:o,exists:function(p){return!!o(p)},getAllByType:function(p){return Kr(t.droppables).filter(function(f){return f.descriptor.type===p})}};function u(){t.draggables={},t.droppables={},e.length=0}return{draggable:a,droppable:d,subscribe:n,clean:u}}function dx(){var t=X(cx,[]);return j.useEffect(function(){return function(){requestAnimationFrame(t.clean)}},[t]),t}var na=U.createContext(null),Zr=function(){var t=document.body;return t||L(),t},ux={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},hx=function(e){return"rbd-announcement-"+e};function fx(t){var e=X(function(){return hx(t)},[t]),n=j.useRef(null);j.useEffect(function(){var s=document.createElement("div");return n.current=s,s.id=e,s.setAttribute("aria-live","assertive"),s.setAttribute("aria-atomic","true"),Q(s.style,ux),Zr().appendChild(s),function(){setTimeout(function(){var c=Zr();c.contains(s)&&c.removeChild(s),s===n.current&&(n.current=null)})}},[e]);var r=$(function(i){var s=n.current;if(s){s.textContent=i;return}},[]);return r}var px=0,gx={separator:"::"};function ra(t,e){return e===void 0&&(e=gx),X(function(){return""+t+e.separator+px++},[e.separator,t])}function mx(t){var e=t.contextId,n=t.uniqueId;return"rbd-hidden-text-"+e+"-"+n}function xx(t){var e=t.contextId,n=t.text,r=ra("hidden-text",{separator:"-"}),i=X(function(){return mx({contextId:e,uniqueId:r})},[r,e]);return j.useEffect(function(){var a=document.createElement("div");return a.id=i,a.textContent=n,a.style.display="none",Zr().appendChild(a),function(){var c=Zr();c.contains(a)&&c.removeChild(a)}},[i,n]),i}var Si=U.createContext(null);function Od(t){var e=j.useRef(t);return j.useEffect(function(){e.current=t}),e}function vx(){var t=null;function e(){return!!t}function n(a){return a===t}function r(a){t&&L();var o={abandon:a};return t=o,o}function i(){t||L(),t=null}function s(){t&&(t.abandon(),i())}return{isClaimed:e,isActive:n,claim:r,release:i,tryAbandon:s}}var bx=9,yx=13,ia=27,Rd=32,wx=33,jx=34,Sx=35,Cx=36,Nx=37,Dx=38,Ex=39,Ix=40,hr,Ax=(hr={},hr[yx]=!0,hr[bx]=!0,hr),Ld=function(t){Ax[t.keyCode]&&t.preventDefault()},Ci=function(){var t="visibilitychange";if(typeof document>"u")return t;var e=[t,"ms"+t,"webkit"+t,"moz"+t,"o"+t],n=mt(e,function(r){return"on"+r in document});return n||t}(),Fd=0,ko=5;function _x(t,e){return Math.abs(e.x-t.x)>=ko||Math.abs(e.y-t.y)>=ko}var Oo={type:"IDLE"};function Px(t){var e=t.cancel,n=t.completed,r=t.getPhase,i=t.setPhase;return[{eventName:"mousemove",fn:function(a){var o=a.button,c=a.clientX,d=a.clientY;if(o===Fd){var u={x:c,y:d},h=r();if(h.type==="DRAGGING"){a.preventDefault(),h.actions.move(u);return}h.type!=="PENDING"&&L();var p=h.point;if(_x(p,u)){a.preventDefault();var f=h.actions.fluidLift(u);i({type:"DRAGGING",actions:f})}}}},{eventName:"mouseup",fn:function(a){var o=r();if(o.type!=="DRAGGING"){e();return}a.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"mousedown",fn:function(a){r().type==="DRAGGING"&&a.preventDefault(),e()}},{eventName:"keydown",fn:function(a){var o=r();if(o.type==="PENDING"){e();return}if(a.keyCode===ia){a.preventDefault(),e();return}Ld(a)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){r().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:function(a){var o=r();if(o.type==="IDLE"&&L(),o.actions.shouldRespectForcePress()){e();return}a.preventDefault()}},{eventName:Ci,fn:e}]}function Mx(t){var e=j.useRef(Oo),n=j.useRef(ct),r=X(function(){return{eventName:"mousedown",fn:function(h){if(!h.defaultPrevented&&h.button===Fd&&!(h.ctrlKey||h.metaKey||h.shiftKey||h.altKey)){var p=t.findClosestDraggableId(h);if(p){var f=t.tryGetLock(p,a,{sourceEvent:h});if(f){h.preventDefault();var g={x:h.clientX,y:h.clientY};n.current(),d(f,g)}}}}}},[t]),i=X(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(h){if(!h.defaultPrevented){var p=t.findClosestDraggableId(h);if(p){var f=t.findOptionsForDraggable(p);f&&(f.shouldRespectForcePress||t.canGetLock(p)&&h.preventDefault())}}}}},[t]),s=$(function(){var h={passive:!1,capture:!0};n.current=Be(window,[i,r],h)},[i,r]),a=$(function(){var u=e.current;u.type!=="IDLE"&&(e.current=Oo,n.current(),s())},[s]),o=$(function(){var u=e.current;a(),u.type==="DRAGGING"&&u.actions.cancel({shouldBlockNextClick:!0}),u.type==="PENDING"&&u.actions.abort()},[a]),c=$(function(){var h={capture:!0,passive:!1},p=Px({cancel:o,completed:a,getPhase:function(){return e.current},setPhase:function(g){e.current=g}});n.current=Be(window,p,h)},[o,a]),d=$(function(h,p){e.current.type!=="IDLE"&&L(),e.current={type:"PENDING",point:p,actions:h},c()},[c]);Oe(function(){return s(),function(){n.current()}},[s])}var Vt;function Tx(){}var kx=(Vt={},Vt[jx]=!0,Vt[wx]=!0,Vt[Cx]=!0,Vt[Sx]=!0,Vt);function Ox(t,e){function n(){e(),t.cancel()}function r(){e(),t.drop()}return[{eventName:"keydown",fn:function(s){if(s.keyCode===ia){s.preventDefault(),n();return}if(s.keyCode===Rd){s.preventDefault(),r();return}if(s.keyCode===Ix){s.preventDefault(),t.moveDown();return}if(s.keyCode===Dx){s.preventDefault(),t.moveUp();return}if(s.keyCode===Ex){s.preventDefault(),t.moveRight();return}if(s.keyCode===Nx){s.preventDefault(),t.moveLeft();return}if(kx[s.keyCode]){s.preventDefault();return}Ld(s)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Ci,fn:n}]}function Rx(t){var e=j.useRef(Tx),n=X(function(){return{eventName:"keydown",fn:function(s){if(s.defaultPrevented||s.keyCode!==Rd)return;var a=t.findClosestDraggableId(s);if(!a)return;var o=t.tryGetLock(a,u,{sourceEvent:s});if(!o)return;s.preventDefault();var c=!0,d=o.snapLift();e.current();function u(){c||L(),c=!1,e.current(),r()}e.current=Be(window,Ox(d,u),{capture:!0,passive:!1})}}},[t]),r=$(function(){var s={passive:!1,capture:!0};e.current=Be(window,[n],s)},[n]);Oe(function(){return r(),function(){e.current()}},[r])}var $i={type:"IDLE"},Lx=120,Fx=.15;function Bx(t){var e=t.cancel,n=t.getPhase;return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:function(i){i.preventDefault()}},{eventName:"keydown",fn:function(i){if(n().type!=="DRAGGING"){e();return}i.keyCode===ia&&i.preventDefault(),e()}},{eventName:Ci,fn:e}]}function zx(t){var e=t.cancel,n=t.completed,r=t.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(s){var a=r();if(a.type!=="DRAGGING"){e();return}a.hasMoved=!0;var o=s.touches[0],c=o.clientX,d=o.clientY,u={x:c,y:d};s.preventDefault(),a.actions.move(u)}},{eventName:"touchend",fn:function(s){var a=r();if(a.type!=="DRAGGING"){e();return}s.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"touchcancel",fn:function(s){if(r().type!=="DRAGGING"){e();return}s.preventDefault(),e()}},{eventName:"touchforcechange",fn:function(s){var a=r();a.type==="IDLE"&&L();var o=s.touches[0];if(o){var c=o.force>=Fx;if(c){var d=a.actions.shouldRespectForcePress();if(a.type==="PENDING"){d&&e();return}if(d){if(a.hasMoved){s.preventDefault();return}e();return}s.preventDefault()}}}},{eventName:Ci,fn:e}]}function Hx(t){var e=j.useRef($i),n=j.useRef(ct),r=$(function(){return e.current},[]),i=$(function(f){e.current=f},[]),s=X(function(){return{eventName:"touchstart",fn:function(f){if(!f.defaultPrevented){var g=t.findClosestDraggableId(f);if(g){var m=t.tryGetLock(g,o,{sourceEvent:f});if(m){var b=f.touches[0],v=b.clientX,x=b.clientY,y={x:v,y:x};n.current(),h(m,y)}}}}}},[t]),a=$(function(){var f={capture:!0,passive:!1};n.current=Be(window,[s],f)},[s]),o=$(function(){var p=e.current;p.type!=="IDLE"&&(p.type==="PENDING"&&clearTimeout(p.longPressTimerId),i($i),n.current(),a())},[a,i]),c=$(function(){var p=e.current;o(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[o]),d=$(function(){var f={capture:!0,passive:!1},g={cancel:c,completed:o,getPhase:r},m=Be(window,zx(g),f),b=Be(window,Bx(g),f);n.current=function(){m(),b()}},[c,r,o]),u=$(function(){var f=r();f.type!=="PENDING"&&L();var g=f.actions.fluidLift(f.point);i({type:"DRAGGING",actions:g,hasMoved:!1})},[r,i]),h=$(function(f,g){r().type!=="IDLE"&&L();var m=setTimeout(u,Lx);i({type:"PENDING",point:g,actions:f,longPressTimerId:m}),d()},[d,r,i,u]);Oe(function(){return a(),function(){n.current();var g=r();g.type==="PENDING"&&(clearTimeout(g.longPressTimerId),i($i))}},[r,a,i]),Oe(function(){var f=Be(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return f},[])}var Vx={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function Bd(t,e){if(e==null)return!1;var n=!!Vx[e.tagName.toLowerCase()];if(n)return!0;var r=e.getAttribute("contenteditable");return r==="true"||r===""?!0:e===t?!1:Bd(t,e.parentElement)}function Ux(t,e){var n=e.target;return ji(n)?Bd(t,n):!1}var $x=function(t){return We(t.getBoundingClientRect()).center};function Wx(t){return t instanceof kd(t).Element}var qx=function(){var t="matches";if(typeof document>"u")return t;var e=[t,"msMatchesSelector","webkitMatchesSelector"],n=mt(e,function(r){return r in Element.prototype});return n||t}();function zd(t,e){return t==null?null:t[qx](e)?t:zd(t.parentElement,e)}function Gx(t,e){return t.closest?t.closest(e):zd(t,e)}function Qx(t){return"["+Jt.contextId+'="'+t+'"]'}function Yx(t,e){var n=e.target;if(!Wx(n))return null;var r=Qx(t),i=Gx(n,r);return!i||!ji(i)?null:i}function Kx(t,e){var n=Yx(t,e);return n?n.getAttribute(Jt.draggableId):null}function Xx(t,e){var n="["+xs.contextId+'="'+t+'"]',r=nd(document.querySelectorAll(n)),i=mt(r,function(s){return s.getAttribute(xs.id)===e});return!i||!ji(i)?null:i}function Zx(t){t.preventDefault()}function fr(t){var e=t.expected,n=t.phase,r=t.isLockActive;return t.shouldWarn,!(!r()||e!==n)}function Hd(t){var e=t.lockAPI,n=t.store,r=t.registry,i=t.draggableId;if(e.isClaimed())return!1;var s=r.draggable.findById(i);return!(!s||!s.options.isEnabled||!_d(n.getState(),i))}function Jx(t){var e=t.lockAPI,n=t.contextId,r=t.store,i=t.registry,s=t.draggableId,a=t.forceSensorStop,o=t.sourceEvent,c=Hd({lockAPI:e,store:r,registry:i,draggableId:s});if(!c)return null;var d=i.draggable.getById(s),u=Xx(n,d.descriptor.id);if(!u||o&&!d.options.canDragInteractiveElements&&Ux(u,o))return null;var h=e.claim(a||ct),p="PRE_DRAG";function f(){return d.options.shouldRespectForcePress}function g(){return e.isActive(h)}function m(C,N){fr({expected:C,phase:p,isLockActive:g,shouldWarn:!0})&&r.dispatch(N())}var b=m.bind(null,"DRAGGING");function v(C){function N(){e.release(),p="COMPLETED"}p!=="PRE_DRAG"&&(N(),p!=="PRE_DRAG"&&L()),r.dispatch(qm(C.liftActionArgs)),p="DRAGGING";function I(E,D){if(D===void 0&&(D={shouldBlockNextClick:!1}),C.cleanup(),D.shouldBlockNextClick){var A=Be(window,[{eventName:"click",fn:Zx,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(A)}N(),r.dispatch(Sd({reason:E}))}return Q({isActive:function(){return fr({expected:"DRAGGING",phase:p,isLockActive:g,shouldWarn:!1})},shouldRespectForcePress:f,drop:function(D){return I("DROP",D)},cancel:function(D){return I("CANCEL",D)}},C.actions)}function x(C){var N=Fn(function(E){b(function(){return jd({client:E})})}),I=v({liftActionArgs:{id:s,clientSelection:C,movementMode:"FLUID"},cleanup:function(){return N.cancel()},actions:{move:N}});return Q({},I,{move:N})}function y(){var C={moveUp:function(){return b(t0)},moveRight:function(){return b(r0)},moveDown:function(){return b(n0)},moveLeft:function(){return b(i0)}};return v({liftActionArgs:{id:s,clientSelection:$x(u),movementMode:"SNAP"},cleanup:ct,actions:C})}function w(){var C=fr({expected:"PRE_DRAG",phase:p,isLockActive:g,shouldWarn:!0});C&&e.release()}var S={isActive:function(){return fr({expected:"PRE_DRAG",phase:p,isLockActive:g,shouldWarn:!1})},shouldRespectForcePress:f,fluidLift:x,snapLift:y,abort:w};return S}var e2=[Mx,Rx,Hx];function t2(t){var e=t.contextId,n=t.store,r=t.registry,i=t.customSensors,s=t.enableDefaultSensors,a=[].concat(s?e2:[],i||[]),o=j.useState(function(){return vx()})[0],c=$(function(x,y){x.isDragging&&!y.isDragging&&o.tryAbandon()},[o]);Oe(function(){var x=n.getState(),y=n.subscribe(function(){var w=n.getState();c(x,w),x=w});return y},[o,n,c]),Oe(function(){return o.tryAbandon},[o.tryAbandon]);for(var d=$(function(v){return Hd({lockAPI:o,registry:r,store:n,draggableId:v})},[o,r,n]),u=$(function(v,x,y){return Jx({lockAPI:o,registry:r,contextId:e,store:n,draggableId:v,forceSensorStop:x,sourceEvent:y&&y.sourceEvent?y.sourceEvent:null})},[e,o,r,n]),h=$(function(v){return Kx(e,v)},[e]),p=$(function(v){var x=r.draggable.findById(v);return x?x.options:null},[r.draggable]),f=$(function(){o.isClaimed()&&(o.tryAbandon(),n.getState().phase!=="IDLE"&&n.dispatch(Qs()))},[o,n]),g=$(o.isClaimed,[o]),m=X(function(){return{canGetLock:d,tryGetLock:u,findClosestDraggableId:h,findOptionsForDraggable:p,tryReleaseLock:f,isLockClaimed:g}},[d,u,h,p,f,g]),b=0;b<a.length;b++)a[b](m)}var n2=function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}};function gn(t){return t.current||L(),t.current}function r2(t){var e=t.contextId,n=t.setCallbacks,r=t.sensors,i=t.nonce,s=t.dragHandleUsageInstructions,a=j.useRef(null),o=Od(t),c=$(function(){return n2(o.current)},[o]),d=fx(e),u=xx({contextId:e,text:s}),h=ax(e,i),p=$(function(E){gn(a).dispatch(E)},[]),f=X(function(){return ho({publishWhileDragging:Qm,updateDroppableScroll:Km,updateDroppableIsEnabled:Xm,updateDroppableIsCombineEnabled:Zm,collectionStarting:Ym},p)},[p]),g=dx(),m=X(function(){return F0(g,f)},[g,f]),b=X(function(){return tx(Q({scrollWindow:B0,scrollDroppable:m.scrollDroppable},ho({move:jd},p)))},[m.scrollDroppable,p]),v=lx(e),x=X(function(){return k0({announce:d,autoScroller:b,dimensionMarshal:m,focusMarshal:v,getResponders:c,styleMarshal:h})},[d,b,m,v,c,h]);a.current=x;var y=$(function(){var E=gn(a),D=E.getState();D.phase!=="IDLE"&&E.dispatch(Qs())},[]),w=$(function(){var E=gn(a).getState();return E.isDragging||E.phase==="DROP_ANIMATING"},[]),S=X(function(){return{isDragging:w,tryAbort:y}},[w,y]);n(S);var C=$(function(E){return _d(gn(a).getState(),E)},[]),N=$(function(){return jt(gn(a).getState())},[]),I=X(function(){return{marshal:m,focus:v,contextId:e,canLift:C,isMovementAllowed:N,dragHandleUsageInstructionsId:u,registry:g}},[e,m,u,v,C,N,g]);return t2({contextId:e,store:x,registry:g,customSensors:r,enableDefaultSensors:t.enableDefaultSensors!==!1}),j.useEffect(function(){return y},[y]),U.createElement(Si.Provider,{value:I},U.createElement(oc,{context:na,store:x},t.children))}var i2=0;function s2(){return X(function(){return""+i2++},[])}function a2(t){var e=s2(),n=t.dragHandleUsageInstructions||kr.dragHandleUsageInstructions;return U.createElement(Rg,null,function(r){return U.createElement(r2,{nonce:t.nonce,contextId:e,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd},t.children)})}var Vd=function(e){return function(n){return e===n}},o2=Vd("scroll"),l2=Vd("auto"),Ro=function(e,n){return n(e.overflowX)||n(e.overflowY)},c2=function(e){var n=window.getComputedStyle(e),r={overflowX:n.overflowX,overflowY:n.overflowY};return Ro(r,o2)||Ro(r,l2)},d2=function(){return!1},u2=function t(e){return e==null?null:e===document.body?d2()?e:null:e===document.documentElement?null:c2(e)?e:t(e.parentElement)},vs=function(t){return{x:t.scrollLeft,y:t.scrollTop}},h2=function t(e){if(!e)return!1;var n=window.getComputedStyle(e);return n.position==="fixed"?!0:t(e.parentElement)},f2=function(t){var e=u2(t),n=h2(t);return{closestScrollable:e,isFixedOnPage:n}},p2=function(t){var e=t.descriptor,n=t.isEnabled,r=t.isCombineEnabled,i=t.isFixedOnPage,s=t.direction,a=t.client,o=t.page,c=t.closest,d=function(){if(!c)return null;var f=c.scrollSize,g=c.client,m=Ed({scrollHeight:f.scrollHeight,scrollWidth:f.scrollWidth,height:g.paddingBox.height,width:g.paddingBox.width});return{pageMarginBox:c.page.marginBox,frameClient:g,scrollSize:f,shouldClipSubject:c.shouldClipSubject,scroll:{initial:c.scroll,current:c.scroll,max:m,diff:{value:ve,displacement:ve}}}}(),u=s==="vertical"?Us:od,h=Xt({page:o,withPlaceholder:null,axis:u,frame:d}),p={descriptor:e,isCombineEnabled:r,isFixedOnPage:i,axis:u,isEnabled:n,client:a,page:o,frame:d,subject:h};return p},g2=function(e,n){var r=Xc(e);if(!n||e!==n)return r;var i=r.paddingBox.top-n.scrollTop,s=r.paddingBox.left-n.scrollLeft,a=i+n.scrollHeight,o=s+n.scrollWidth,c={top:i,right:o,bottom:a,left:s},d=Fs(c,r.border),u=Bs({borderBox:d,margin:r.margin,border:r.border,padding:r.padding});return u},m2=function(t){var e=t.ref,n=t.descriptor,r=t.env,i=t.windowScroll,s=t.direction,a=t.isDropDisabled,o=t.isCombineEnabled,c=t.shouldClipSubject,d=r.closestScrollable,u=g2(e,d),h=Gr(u,i),p=function(){if(!d)return null;var g=Xc(d),m={scrollHeight:d.scrollHeight,scrollWidth:d.scrollWidth};return{client:g,page:Gr(g,i),scroll:vs(d),scrollSize:m,shouldClipSubject:c}}(),f=p2({descriptor:n,isEnabled:!a,isCombineEnabled:o,isFixedOnPage:r.isFixedOnPage,direction:s,client:u,page:h,closest:p});return f},x2={passive:!1},v2={passive:!0},Lo=function(t){return t.shouldPublishImmediately?x2:v2};function Jr(t){var e=j.useContext(t);return e||L(),e}var pr=function(e){return e&&e.env.closestScrollable||null};function b2(t){var e=j.useRef(null),n=Jr(Si),r=ra("droppable"),i=n.registry,s=n.marshal,a=Od(t),o=X(function(){return{id:t.droppableId,type:t.type,mode:t.mode}},[t.droppableId,t.mode,t.type]),c=j.useRef(o),d=X(function(){return xe(function(w,S){e.current||L();var C={x:w,y:S};s.updateDroppableScroll(o.id,C)})},[o.id,s]),u=$(function(){var w=e.current;return!w||!w.env.closestScrollable?ve:vs(w.env.closestScrollable)},[]),h=$(function(){var w=u();d(w.x,w.y)},[u,d]),p=X(function(){return Fn(h)},[h]),f=$(function(){var w=e.current,S=pr(w);w&&S||L();var C=w.scrollOptions;if(C.shouldPublishImmediately){h();return}p()},[p,h]),g=$(function(w,S){e.current&&L();var C=a.current,N=C.getDroppableRef();N||L();var I=f2(N),E={ref:N,descriptor:o,env:I,scrollOptions:S};e.current=E;var D=m2({ref:N,descriptor:o,env:I,windowScroll:w,direction:C.direction,isDropDisabled:C.isDropDisabled,isCombineEnabled:C.isCombineEnabled,shouldClipSubject:!C.ignoreContainerClipping}),A=I.closestScrollable;return A&&(A.setAttribute(Mo.contextId,n.contextId),A.addEventListener("scroll",f,Lo(E.scrollOptions))),D},[n.contextId,o,f,a]),m=$(function(){var w=e.current,S=pr(w);return w&&S||L(),vs(S)},[]),b=$(function(){var w=e.current;w||L();var S=pr(w);e.current=null,S&&(p.cancel(),S.removeAttribute(Mo.contextId),S.removeEventListener("scroll",f,Lo(w.scrollOptions)))},[f,p]),v=$(function(w){var S=e.current;S||L();var C=pr(S);C||L(),C.scrollTop+=w.y,C.scrollLeft+=w.x},[]),x=X(function(){return{getDimensionAndWatchScroll:g,getScrollWhileDragging:m,dragStopped:b,scroll:v}},[b,g,m,v]),y=X(function(){return{uniqueId:r,descriptor:o,callbacks:x}},[x,o,r]);Oe(function(){return c.current=y.descriptor,i.droppable.register(y),function(){e.current&&b(),i.droppable.unregister(y)}},[x,o,b,y,s,i.droppable]),Oe(function(){e.current&&s.updateDroppableIsEnabled(c.current.id,!t.isDropDisabled)},[t.isDropDisabled,s]),Oe(function(){e.current&&s.updateDroppableIsCombineEnabled(c.current.id,t.isCombineEnabled)},[t.isCombineEnabled,s])}function Wi(){}var Fo={width:0,height:0,margin:Vg},y2=function(e){var n=e.isAnimatingOpenOnMount,r=e.placeholder,i=e.animate;return n||i==="close"?Fo:{height:r.client.borderBox.height,width:r.client.borderBox.width,margin:r.client.margin}},w2=function(e){var n=e.isAnimatingOpenOnMount,r=e.placeholder,i=e.animate,s=y2({isAnimatingOpenOnMount:n,placeholder:r,animate:i});return{display:r.display,boxSizing:"border-box",width:s.width,height:s.height,marginTop:s.margin.top,marginRight:s.margin.right,marginBottom:s.margin.bottom,marginLeft:s.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:i!=="none"?An.placeholder:null}};function j2(t){var e=j.useRef(null),n=$(function(){e.current&&(clearTimeout(e.current),e.current=null)},[]),r=t.animate,i=t.onTransitionEnd,s=t.onClose,a=t.contextId,o=j.useState(t.animate==="open"),c=o[0],d=o[1];j.useEffect(function(){return c?r!=="open"?(n(),d(!1),Wi):e.current?Wi:(e.current=setTimeout(function(){e.current=null,d(!1)}),n):Wi},[r,c,n]);var u=$(function(p){p.propertyName==="height"&&(i(),r==="close"&&s())},[r,s,i]),h=w2({isAnimatingOpenOnMount:c,animate:t.animate,placeholder:t.placeholder});return U.createElement(t.placeholder.tagName,{style:h,"data-rbd-placeholder-context-id":a,onTransitionEnd:u,ref:t.innerRef})}var S2=U.memo(j2),sa=U.createContext(null),C2=function(t){qc(e,t);function e(){for(var r,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r=t.call.apply(t,[this].concat(s))||this,r.state={isVisible:!!r.props.on,data:r.props.on,animate:r.props.shouldAnimate&&r.props.on?"open":"none"},r.onClose=function(){r.state.animate==="close"&&r.setState({isVisible:!1})},r}e.getDerivedStateFromProps=function(i,s){return i.shouldAnimate?i.on?{isVisible:!0,data:i.on,animate:"open"}:s.isVisible?{isVisible:!0,data:s.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!i.on,data:i.on,animate:"none"}};var n=e.prototype;return n.render=function(){if(!this.state.isVisible)return null;var i={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(i)},e}(U.PureComponent),Bo={dragging:5e3,dropAnimating:4500},N2=function(e,n){return n?An.drop(n.duration):e?An.snap:An.fluid},D2=function(e,n){return e?n?Vn.opacity.drop:Vn.opacity.combining:null},E2=function(e){return e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP"};function I2(t){var e=t.dimension,n=e.client,r=t.offset,i=t.combineWith,s=t.dropping,a=!!i,o=E2(t),c=!!s,d=c?gs.drop(r,a):gs.moveTo(r),u={position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:N2(o,s),transform:d,opacity:D2(a,c),zIndex:c?Bo.dropAnimating:Bo.dragging,pointerEvents:"none"};return u}function A2(t){return{transform:gs.moveTo(t.offset),transition:t.shouldAnimateDisplacement?null:"none"}}function _2(t){return t.type==="DRAGGING"?I2(t):A2(t)}function P2(t,e,n){n===void 0&&(n=ve);var r=window.getComputedStyle(e),i=e.getBoundingClientRect(),s=Kc(i,r),a=Gr(s,n),o={client:s,tagName:e.tagName.toLowerCase(),display:r.display},c={x:s.marginBox.width,y:s.marginBox.height},d={descriptor:t,placeholder:o,displaceBy:c,client:s,page:a};return d}function M2(t){var e=ra("draggable"),n=t.descriptor,r=t.registry,i=t.getDraggableRef,s=t.canDragInteractiveElements,a=t.shouldRespectForcePress,o=t.isEnabled,c=X(function(){return{canDragInteractiveElements:s,shouldRespectForcePress:a,isEnabled:o}},[s,o,a]),d=$(function(f){var g=i();return g||L(),P2(n,g,f)},[n,i]),u=X(function(){return{uniqueId:e,descriptor:n,options:c,getDimension:d}},[n,d,c,e]),h=j.useRef(u),p=j.useRef(!0);Oe(function(){return r.draggable.register(h.current),function(){return r.draggable.unregister(h.current)}},[r.draggable]),Oe(function(){if(p.current){p.current=!1;return}var f=h.current;h.current=u,r.draggable.update(u,f)},[u,r.draggable])}function T2(t){t.preventDefault()}function k2(t){var e=j.useRef(null),n=$(function(E){e.current=E},[]),r=$(function(){return e.current},[]),i=Jr(Si),s=i.contextId,a=i.dragHandleUsageInstructionsId,o=i.registry,c=Jr(sa),d=c.type,u=c.droppableId,h=X(function(){return{id:t.draggableId,index:t.index,type:d,droppableId:u}},[t.draggableId,t.index,d,u]),p=t.children,f=t.draggableId,g=t.isEnabled,m=t.shouldRespectForcePress,b=t.canDragInteractiveElements,v=t.isClone,x=t.mapped,y=t.dropAnimationFinished;if(!v){var w=X(function(){return{descriptor:h,registry:o,getDraggableRef:r,canDragInteractiveElements:b,shouldRespectForcePress:m,isEnabled:g}},[h,o,r,b,m,g]);M2(w)}var S=X(function(){return g?{tabIndex:0,role:"button","aria-describedby":a,"data-rbd-drag-handle-draggable-id":f,"data-rbd-drag-handle-context-id":s,draggable:!1,onDragStart:T2}:null},[s,a,f,g]),C=$(function(E){x.type==="DRAGGING"&&x.dropping&&E.propertyName==="transform"&&y()},[y,x]),N=X(function(){var E=_2(x),D=x.type==="DRAGGING"&&x.dropping?C:null,A={innerRef:n,draggableProps:{"data-rbd-draggable-context-id":s,"data-rbd-draggable-id":f,style:E,onTransitionEnd:D},dragHandleProps:S};return A},[s,S,f,x,C,n]),I=X(function(){return{draggableId:h.id,type:h.type,source:{index:h.index,droppableId:h.droppableId}}},[h.droppableId,h.id,h.index,h.type]);return p(N,x.snapshot,I)}var Ud=function(t,e){return t===e},$d=function(t){var e=t.combine,n=t.destination;return n?n.droppableId:e?e.droppableId:null},O2=function(e){return e.combine?e.combine.draggableId:null},R2=function(e){return e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null};function L2(){var t=xe(function(i,s){return{x:i,y:s}}),e=xe(function(i,s,a,o,c){return{isDragging:!0,isClone:s,isDropAnimating:!!c,dropAnimation:c,mode:i,draggingOver:a,combineWith:o,combineTargetFor:null}}),n=xe(function(i,s,a,o,c,d,u){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:d,mode:s,offset:i,dimension:a,forceShouldAnimate:u,snapshot:e(s,o,c,d,null)}}}),r=function(s,a){if(s.isDragging){if(s.critical.draggable.id!==a.draggableId)return null;var o=s.current.client.offset,c=s.dimensions.draggables[a.draggableId],d=ke(s.impact),u=R2(s.impact),h=s.forceShouldAnimate;return n(t(o.x,o.y),s.movementMode,c,a.isClone,d,u,h)}if(s.phase==="DROP_ANIMATING"){var p=s.completed;if(p.result.draggableId!==a.draggableId)return null;var f=a.isClone,g=s.dimensions.draggables[a.draggableId],m=p.result,b=m.mode,v=$d(m),x=O2(m),y=s.dropDuration,w={duration:y,curve:Ks.drop,moveTo:s.newHomeClientOffset,opacity:x?Vn.opacity.drop:null,scale:x?Vn.scale.drop:null};return{mapped:{type:"DRAGGING",offset:s.newHomeClientOffset,dimension:g,dropping:w,draggingOver:v,combineWith:x,mode:b,forceShouldAnimate:null,snapshot:e(b,f,v,x,w)}}}return null};return r}function Wd(t){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}var F2={mapped:{type:"SECONDARY",offset:ve,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Wd(null)}};function B2(){var t=xe(function(a,o){return{x:a,y:o}}),e=xe(Wd),n=xe(function(a,o,c){return o===void 0&&(o=null),{mapped:{type:"SECONDARY",offset:a,combineTargetFor:o,shouldAnimateDisplacement:c,snapshot:e(o)}}}),r=function(o){return o?n(ve,o,!0):null},i=function(o,c,d,u){var h=d.displaced.visible[o],p=!!(u.inVirtualList&&u.effected[o]),f=bi(d),g=f&&f.draggableId===o?c:null;if(!h){if(!p)return r(g);if(d.displaced.invisible[o])return null;var m=sn(u.displacedBy.point),b=t(m.x,m.y);return n(b,g,!0)}if(p)return r(g);var v=d.displacedBy.point,x=t(v.x,v.y);return n(x,g,h.shouldAnimate)},s=function(o,c){if(o.isDragging)return o.critical.draggable.id===c.draggableId?null:i(c.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){var d=o.completed;return d.result.draggableId===c.draggableId?null:i(c.draggableId,d.result.draggableId,d.impact,d.afterCritical)}return null};return s}var z2=function(){var e=L2(),n=B2(),r=function(s,a){return e(s,a)||n(s,a)||F2};return r},H2={dropAnimationFinished:Cd},V2=ac(z2,H2,null,{context:na,pure:!0,areStatePropsEqual:Ud})(k2);function qd(t){var e=Jr(sa),n=e.isUsingCloneFor;return n===t.draggableId&&!t.isClone?null:U.createElement(V2,t)}function U2(t){var e=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,n=!!t.disableInteractiveElementBlocking,r=!!t.shouldRespectForcePress;return U.createElement(qd,Q({},t,{isClone:!1,isEnabled:e,canDragInteractiveElements:n,shouldRespectForcePress:r}))}function $2(t){var e=j.useContext(Si);e||L();var n=e.contextId,r=e.isMovementAllowed,i=j.useRef(null),s=j.useRef(null),a=t.children,o=t.droppableId,c=t.type,d=t.mode,u=t.direction,h=t.ignoreContainerClipping,p=t.isDropDisabled,f=t.isCombineEnabled,g=t.snapshot,m=t.useClone,b=t.updateViewportMaxScroll,v=t.getContainerForClone,x=$(function(){return i.current},[]),y=$(function(A){i.current=A},[]);$(function(){return s.current},[]);var w=$(function(A){s.current=A},[]),S=$(function(){r()&&b({maxScroll:Ad()})},[r,b]);b2({droppableId:o,type:c,mode:d,direction:u,isDropDisabled:p,isCombineEnabled:f,ignoreContainerClipping:h,getDroppableRef:x});var C=U.createElement(C2,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},function(A){var _=A.onClose,P=A.data,R=A.animate;return U.createElement(S2,{placeholder:P,onClose:_,innerRef:w,animate:R,contextId:n,onTransitionEnd:S})}),N=X(function(){return{innerRef:y,placeholder:C,droppableProps:{"data-rbd-droppable-id":o,"data-rbd-droppable-context-id":n}}},[n,o,C,y]),I=m?m.dragging.draggableId:null,E=X(function(){return{droppableId:o,type:c,isUsingCloneFor:I}},[o,I,c]);function D(){if(!m)return null;var A=m.dragging,_=m.render,P=U.createElement(qd,{draggableId:A.draggableId,index:A.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(R,M){return _(R,M,A)});return Vu.createPortal(P,v())}return U.createElement(sa.Provider,{value:E},a(N,g),D())}var qi=function(e,n){return e===n.droppable.type},zo=function(e,n){return n.draggables[e.draggable.id]},W2=function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},n=Q({},e,{shouldAnimatePlaceholder:!1}),r=xe(function(a){return{draggableId:a.id,type:a.type,source:{index:a.index,droppableId:a.droppableId}}}),i=xe(function(a,o,c,d,u,h){var p=u.descriptor.id,f=u.descriptor.droppableId===a;if(f){var g=h?{render:h,dragging:r(u.descriptor)}:null,m={isDraggingOver:c,draggingOverWith:c?p:null,draggingFromThisWith:p,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!1,snapshot:m,useClone:g}}if(!o)return n;if(!d)return e;var b={isDraggingOver:c,draggingOverWith:p,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!0,snapshot:b,useClone:null}}),s=function(o,c){var d=c.droppableId,u=c.type,h=!c.isDropDisabled,p=c.renderClone;if(o.isDragging){var f=o.critical;if(!qi(u,f))return n;var g=zo(f,o.dimensions),m=ke(o.impact)===d;return i(d,h,m,m,g,p)}if(o.phase==="DROP_ANIMATING"){var b=o.completed;if(!qi(u,b.critical))return n;var v=zo(b.critical,o.dimensions);return i(d,h,$d(b.result)===d,ke(b.impact)===d,v,p)}if(o.phase==="IDLE"&&o.completed&&!o.shouldFlush){var x=o.completed;if(!qi(u,x.critical))return n;var y=ke(x.impact)===d,w=!!(x.impact.at&&x.impact.at.type==="COMBINE"),S=x.critical.droppable.id===d;return y?w?e:n:S?e:n}return n};return s},q2={updateViewportMaxScroll:e0};function G2(){return document.body||L(),document.body}var Q2={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:G2},Gd=ac(W2,q2,null,{context:na,pure:!0,areStatePropsEqual:Ud})($2);Gd.defaultProps=Q2;var Qd={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",a=0;a<arguments.length;a++){var o=arguments[a];o&&(s=i(s,r(o)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var a="";for(var o in s)e.call(s,o)&&s[o]&&(a=i(a,o));return a}function i(s,a){return a?s?s+" "+a:s+a:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(Qd);var Y2=Qd.exports;const K2=Uu(Y2),X2=["xxl","xl","lg","md","sm","xs"],Z2="xs",J2=j.createContext({prefixes:{},breakpoints:X2,minBreakpoint:Z2});function ev(t,e){const{prefixes:n}=j.useContext(J2);return t||n[e]||e}const Yd=j.forwardRef(({bsPrefix:t,variant:e,animation:n="border",size:r,as:i="div",className:s,...a},o)=>{t=ev(t,"spinner");const c=`${t}-${n}`;return l.jsx(i,{ref:o,...a,className:K2(s,c,r&&`${c}-${r}`,e&&`text-${e}`)})});Yd.displayName="Spinner";const Kd=()=>l.jsx(Yd,{animation:"border",role:"status",style:{width:"100px",height:"100px",margin:"auto",display:"block"}}),gr="border border-gray-300 px-2 py-0 rounded shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 text-sm h-8 leading-8",tv=()=>{const{data:t,refetch:e}=Mc(),[n]=Tc(),[r,{isLoading:i}]=kc(),[s,a]=j.useState([]),[o,c]=j.useState({username:"",email:"",role:"all",status:"all"}),[d,u]=j.useState(!1),[h,p]=j.useState(null),f=x=>{window.location.href=`/edit-user/${x}`},g=x=>{p(x),u(!0)},m=async()=>{var x;if(h)try{await n(h._id).unwrap(),T.success("User deleted successfully"),u(!1),e()}catch(y){T.error(((x=y==null?void 0:y.data)==null?void 0:x.message)||y.error)}},b=async(x,y)=>{try{a(s.map(w=>w._id===x?{...w,isActivated:!y}:w)),await r(x).unwrap(),T.success(`User ${y?"Deactivated":"Activated"} successfully`,{autoClose:2e3})}catch{a(s.map(S=>S._id===x?{...S,isActivated:y}:S)),T.error("Error Updating User",{autoClose:2e3})}},v=s==null?void 0:s.filter(x=>x.username.toLowerCase().includes(o.username.toLowerCase())&&x.email.toLowerCase().includes(o.email.toLowerCase())&&(o.role==="all"||o.role==="admin"&&x.isAdmin||o.role==="user"&&!x.isAdmin)&&(o.status==="all"||o.status==="active"&&x.isActivated||o.status==="inactive"&&!x.isActivated));return j.useEffect(()=>{t&&a(t)},[t]),l.jsxs("div",{children:[l.jsxs("div",{className:"flex flex-wrap gap-4 mb-6 justify-between items-center",children:[l.jsx(Y,{to:"/register",className:"bg-[#C95C34] text-white px-4 py-2 rounded-lg hover:bg-[#f85519] transition-colors",children:"Invite a user"}),l.jsxs("div",{className:"flex flex-wrap gap-4 justify-end",children:[l.jsx("input",{type:"text",placeholder:"Filter by Username",className:`${gr} w-full sm:w-[150px]`,value:o.username,onChange:x=>c({...o,username:x.target.value})}),l.jsx("input",{type:"text",placeholder:"Filter by Email",className:`${gr} w-full sm:w-[150px]`,value:o.email,onChange:x=>c({...o,email:x.target.value})}),l.jsxs("select",{className:`${gr} w-full sm:w-[150px]`,value:o.role,onChange:x=>c({...o,role:x.target.value}),children:[l.jsx("option",{value:"all",children:"All Roles"}),l.jsx("option",{value:"admin",children:"Admin"}),l.jsx("option",{value:"user",children:"User"})]}),l.jsxs("select",{className:`${gr} w-full sm:w-[150px]`,value:o.status,onChange:x=>c({...o,status:x.target.value}),children:[l.jsx("option",{value:"all",children:"All Statuses"}),l.jsx("option",{value:"active",children:"Active"}),l.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),l.jsx("div",{className:"mt-4 overflow-x-auto",children:l.jsxs("table",{className:"min-w-full table-auto border-spacing-0",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-gray-300 font-bitter",children:[l.jsx("th",{className:"p-4 text-left",children:"Username"}),l.jsx("th",{className:"p-4 text-left",children:"Email"}),l.jsx("th",{className:"p-4 text-left",children:"Role"}),l.jsx("th",{className:"p-4 text-left",children:"Status"}),l.jsx("th",{className:"p-4 text-left",children:"Operations"})]})}),l.jsx("tbody",{className:"bg-white",children:v==null?void 0:v.map(x=>l.jsxs("tr",{className:"border-b hover:bg-[#f3f4f669] text-xs sm:text-sm md:text-base",children:[l.jsx("td",{className:"p-4",children:x.username}),l.jsx("td",{className:"p-4",children:x.email}),l.jsx("td",{className:"p-4",children:l.jsx("span",{className:`px-2 sm:px-3 py-1 rounded-full ${x.isAdmin?"text-emerald-600":"text-sky-600"}`,children:x.isAdmin?"Admin":"User"})}),l.jsx("td",{className:"p-4",children:l.jsx("span",{className:`px-2 sm:px-3 py-1 rounded-full ${x.isActivated?"text-emerald-600":"text-rose-500"}`,children:x.isActivated?"Active":"Inactive"})}),l.jsxs("td",{className:"p-4 flex flex-wrap gap-2",children:[l.jsx(Y,{to:`/view-user/${x._id}`,className:"p-2 text-gray-400 hover:text-gray-500",title:"View",children:l.jsx(Kt,{className:"w-5 h-5"})}),l.jsx("button",{className:"p-2 text-sky-300 hover:text-sky-400",onClick:()=>f(x._id),title:"Edit",children:l.jsx(gi,{className:"w-5 h-5"})}),l.jsx("button",{className:"p-2 text-rose-300 hover:text-rose-400",onClick:()=>g(x),title:"Delete",children:l.jsx(At,{className:"w-4 h-4"})}),l.jsx("button",{className:`p-2 ${x.isActivated?"text-amber-500 hover:text-amber-600":"text-emerald-600 hover:text-emerald-700"}`,onClick:()=>b(x._id,x.isActivated),title:x.isActivated?"Deactivate":"Activate",children:x.isActivated?l.jsx($c,{className:"w-5 h-5"}):l.jsx(Uc,{className:"w-5 h-5"})})]})]},x._id))})]})}),(v==null?void 0:v.length)===0&&l.jsx("div",{className:"mt-4 text-center text-gray-500 py-8 bg-white rounded-md",children:"No users match the filters."}),l.jsx(xi,{isOpen:d,onClose:()=>u(!1),onConfirm:m,title:"Delete User",message:h?`Are you sure you want to delete user "${h.username}" (${h.email})? This action cannot be undone.`:"Are you sure you want to delete this user?",confirmText:"Delete",type:"danger"})]})},nv=()=>{const{data:t,isLoading:e,error:n,refetch:r}=rn(),[i]=mp(),[s]=gp(),[a]=xp(),{data:o,error:c}=$e(),d=Se(),u=ce();As();const[h,p]=j.useState(null),[f,g]=j.useState(""),[m,b]=j.useState(!1),[v,x]=j.useState(null),[y,w]=j.useState(""),[S,C]=j.useState("categories"),[N,I]=j.useState([]);j.useEffect(()=>{c&&(u("/"),d(qe()))},[u,c,o,d]),j.useEffect(()=>{t&&I(t)},[t]);const E=async M=>{var B;if(!M.destination||M.destination.index===M.source.index)return;const O=Array.from(N),[H]=O.splice(M.source.index,1);O.splice(M.destination.index,0,H),I(O);const z=O.map(F=>({id:F._id,name:F.name}));try{await a(z),T.success("Categories reordered successfully")}catch(F){T.error(((B=F==null?void 0:F.data)==null?void 0:B.message)||F.error||"Failed to reorder categories")}},D=M=>{p(M._id),g(M.name)},A=async()=>{var M;try{await s({id:h,name:f}).unwrap(),T.success("Category updated successfully"),p(null),g(""),r()}catch(O){T.error(((M=O==null?void 0:O.data)==null?void 0:M.message)||O.error)}},_=M=>{x(M),b(!0)},P=async()=>{var M;if(v)try{await i(v._id).unwrap(),T.success("Category deleted successfully"),x(null),r()}catch(O){T.error(((M=O==null?void 0:O.data)==null?void 0:M.message)||O.error)}};if(t==null||t.filter(M=>M.name.toLowerCase().includes(y.toLowerCase())),e)return l.jsx(Kd,{});if(n)return l.jsxs("div",{children:["Error: ",n.message]});const R=M=>`flex items-center gap-2 py-2 px-4 text-sm font-medium rounded-lg transition-colors ${S===M?"text-[#C95C34] bg-[#FFF6F3]":"text-[#868585] hover:text-[#C95C34] hover:bg-gray-50"}`;return l.jsxs("div",{className:"flex h-screen bg-gray-100 font-poppins",children:[l.jsx(ye,{activeLink:"ViewCategory"}),l.jsxs("main",{className:"flex-grow bg-gray-100 py-6 px-4 sm:px-12 overflow-y-auto",children:[l.jsx(Ce,{plus:!0,filter:!1}),l.jsx("h3",{className:"text-[20px] sm:text-[24px] font-semibold font-bitter mt-8 mb-4",children:"SETTINGS"}),l.jsx("div",{className:"mt-4 bg-white rounded-md w-full",children:l.jsxs("div",{className:"flex-1 flex overflow-hidden flex-col sm:flex-row",children:[l.jsx("div",{className:"w-full sm:w-[250px] border-r border-[#E7E7E7] p-6",children:l.jsxs("nav",{className:"space-y-1",children:[l.jsxs("button",{onClick:()=>C("users"),className:R("users"),children:[l.jsx(kh,{className:"text-lg"}),"Users"]}),l.jsxs("button",{onClick:()=>C("categories"),className:R("categories"),children:[l.jsx(bp,{className:"text-lg"}),"Categories"]})]})}),l.jsx("div",{className:"flex-1 px-4 overflow-y-auto sm:py-8",children:l.jsx("div",{className:"max-w-4xl mx-auto",children:S==="categories"?l.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[l.jsxs("div",{className:"pb-6 flex justify-between items-center sm:border-b",children:[l.jsx("h1",{className:"text-2xl font-semibold text-gray-800 font-bitter",children:"Categories"}),l.jsxs(Y,{to:"/add-category",className:"hidden sm:flex items-center gap-2 bg-[#C95C34] text-white px-4 py-2 rounded-lg hover:bg-[#f85519] transition-colors",children:[l.jsx(cs,{className:"text-sm"}),"Add Category"]})]}),l.jsx("div",{className:"sm:hidden w-[200px]",children:l.jsxs(Y,{to:"/add-category",className:"flex items-center gap-2 bg-[#C95C34] text-white px-4 py-2 rounded-lg hover:bg-[#f85519] transition-colors",children:[l.jsx(cs,{className:"text-sm"}),"Add Category"]})}),l.jsx("div",{className:"mt-4",children:l.jsx(a2,{onDragEnd:E,children:l.jsx(Gd,{droppableId:"categories",children:M=>l.jsxs("div",{className:"grid gap-4",...M.droppableProps,ref:M.innerRef,children:[N==null?void 0:N.filter(O=>O.name.toLowerCase().includes(y.toLowerCase())).map((O,H)=>l.jsx(U2,{draggableId:O._id,index:H,isDragDisabled:h===O._id,children:(z,B)=>l.jsxs("div",{ref:z.innerRef,...z.draggableProps,className:`${h===O._id?"":"flex items-center justify-between"} p-4 bg-gray-50 rounded-lg ${B.isDragging?"bg-gray-200":"hover:bg-gray-100"} transition-colors`,children:[l.jsxs("div",{className:"flex items-center flex-grow",children:[l.jsx("div",{...z.dragHandleProps,className:"mr-3 cursor-grab text-gray-400 hover:text-gray-600",children:l.jsx(_h,{})}),h===O._id?l.jsx("input",{type:"text",value:f,onChange:F=>g(F.target.value),className:"w-full flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#C95C34] focus:border-transparent mr-4"}):l.jsx("span",{className:"text-gray-700 font-medium truncate",children:O.name})]}),l.jsx("div",{className:"flex gap-2",children:h===O._id?l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:A,className:"px-4 py-2 ml-7 mt-2 bg-[#C95C34] text-white rounded-lg hover:bg-[#f85519] transition-colors",children:"Save"}),l.jsx("button",{onClick:()=>p(null),className:"px-4 py-2 mt-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"})]}):l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>D(O),className:"p-2 text-sky-300 hover:text-sky-400 rounded-full transition-colors",children:l.jsx(gi,{})}),l.jsx("button",{onClick:()=>_(O),className:"p-2 text-rose-300 hover:text-rose-400",title:"Delete Category",children:l.jsx(At,{})})]})})]})},O._id)),M.placeholder]})})})})]}):l.jsx(tv,{})})})]})}),l.jsx(xi,{isOpen:m,onClose:()=>b(!1),onConfirm:P,title:"Delete Category",message:v?`Are you sure you want to delete the category "${v.name}"? This action cannot be undone and may affect files using this category.`:"Are you sure you want to delete this category?",confirmText:"Delete",type:"danger"})]})]})},Ho="w-full px-4 py-3 border rounded-[8px] focus:outline-none focus:ring-2 focus:ring-orange-500 bg-gray-100 text-gray-800 shadow-sm transition duration-200",rv="relative w-full",iv="w-full px-4 py-3 border rounded-[8px] focus:outline-none focus:ring-2 focus:ring-orange-500 bg-gray-100 text-gray-800 shadow-sm transition duration-200 appearance-none pr-10",sv=()=>{const{id:t}=tn(),e=ce(),{data:n,isLoading:r}=Xf(t),[i,s]=j.useState({username:"",email:"",role:"user",profilePicture:""}),[a,o]=j.useState([]),[c,d]=j.useState(!1),[u,h]=j.useState(null),[p,{isLoading:f}]=Kf(),{data:g}=rn();j.useEffect(()=>{if(n&&(s({username:n.username,email:n.email,role:n.isAdmin?"admin":"user",profilePicture:n.profilePicture||""}),h(n.profilePicture||""),n.allowedCategories&&n.allowedCategories.length>0)){const x=n.allowedCategories.map(y=>typeof y=="string"?y:y._id);if(o(x),g&&g.length>0){const y=g.every(w=>x.includes(w._id));d(y)}}},[n,g]);const m=x=>{const y=x.target.value;if(y==="all")if(x.target.checked){d(!0);const w=g.map(S=>S._id);o(w)}else d(!1),o([]);else x.target.checked?o([...a,y]):(o(a.filter(w=>w!==y)),d(!1))};j.useEffect(()=>{if(g&&g.length>0){const x=g.every(y=>a.includes(y._id));d(x)}},[a,g]);const b=x=>{const y=x.target.files[0];if(y){const w=new FileReader;w.onloadend=()=>{h(w.result),s({...i,profilePicture:w.result})},w.readAsDataURL(y)}},v=async x=>{var y;x.preventDefault();try{const w=i.role==="admin",S={userId:t,username:i.username,email:i.email,isAdmin:w,profilePicture:i.profilePicture};w||(S.allowedCategories=a);const C=await p(S).unwrap();T.success("User updated successfully"),e("/delete")}catch(w){console.error("Error updating user:",w),T.error(((y=w==null?void 0:w.data)==null?void 0:y.message)||w.error||"Failed to update user")}};return l.jsxs("div",{className:"flex h-screen bg-gray-100 font-poppins",children:[l.jsx(ye,{activeLink:"User"}),l.jsxs("main",{className:"flex-grow bg-gray-100 py-6 px-4 sm:px-12 overflow-y-auto",children:[l.jsx(Ce,{plus:!0,filter:!1}),l.jsx("h3",{className:"text-[20px] sm:text-[24px] font-semibold font-bitter mt-8 mb-4",children:"EDIT USER"}),l.jsx("div",{className:"mt-4 bg-white rounded-md w-full sm:w-[500px]",children:l.jsxs("form",{className:"space-y-6 p-8",onSubmit:v,children:[l.jsxs("div",{className:"flex flex-col items-center mb-6",children:[l.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden mb-4 border-2 border-gray-200",children:l.jsx("img",{src:u||"/default-profile.png",alt:"Profile",className:"w-full h-full object-cover"})}),l.jsxs("label",{className:"cursor-pointer py-2 px-4 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:[l.jsx("span",{children:"Change Profile Picture"}),l.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:b})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Name"}),l.jsx("input",{type:"text",className:Ho,placeholder:"Enter name",value:i.username,onChange:x=>s({...i,username:x.target.value}),required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Email"}),l.jsx("input",{type:"email",className:Ho,placeholder:"Enter email",value:i.email,onChange:x=>s({...i,email:x.target.value}),required:!0})]}),l.jsxs("div",{className:rv,children:[l.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Role"}),l.jsxs("div",{className:"relative",children:[l.jsxs("select",{className:iv,value:i.role,onChange:x=>s({...i,role:x.target.value}),required:!0,children:[l.jsx("option",{value:"user",children:"User"}),l.jsx("option",{value:"admin",children:"Admin"})]}),l.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-4 text-gray-700",children:l.jsx("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:l.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]}),i.role==="user"&&l.jsxs("div",{className:"w-full",children:[l.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Permission"}),l.jsxs("div",{className:"flex flex-col gap-2 p-4 border rounded-lg",children:[l.jsx("div",{children:l.jsxs("label",{className:"inline-flex items-center",children:[l.jsx("input",{type:"checkbox",value:"all",checked:c,onChange:m,className:"rounded border-gray-300 text-orange-600 shadow-sm focus:border-orange-300 focus:ring focus:ring-orange-200 focus:ring-opacity-50"}),l.jsx("span",{className:"ml-2 text-gray-700",children:"All"})]})}),l.jsx("div",{className:"grid grid-cols-2 gap-x-6 gap-y-2",children:g==null?void 0:g.map(x=>l.jsxs("label",{className:"inline-flex items-center",children:[l.jsx("input",{type:"checkbox",value:x._id,checked:a.includes(x._id),onChange:m,className:"rounded border-gray-300 text-orange-600 shadow-sm focus:border-orange-300 focus:ring focus:ring-orange-200 focus:ring-opacity-50"}),l.jsx("span",{className:"ml-2 text-gray-700",children:x.name})]},x._id))})]})]}),l.jsx("div",{className:"pt-2",children:l.jsx("button",{type:"submit",className:"py-3 px-6 rounded-[8px] text-white font-medium bg-[#C95C34] hover:bg-[#f85519] transition-colors",disabled:f,children:f?"Updating...":"Update"})})]})})]})]})},mr="p-3 text-left text-[14px] sm:text-[16px] font-semibold font-bitter",Vo=({src:t,alt:e,className:n})=>{const[r,i]=j.useState(!0),[s,a]=j.useState(!1);return l.jsx("img",{src:r||s?"/placeholder-img.jpg":t,alt:e,className:n,onLoad:()=>i(!1),onError:()=>{i(!1),a(!0)}})},av=({check:t})=>{var p,f,g;const[e,n]=j.useState("list"),[r,i]=j.useState(1),[s]=Hc(),{data:a,error:o,isLoading:c}=Op({page:r,limit:5}),d=m=>{n(m)},u=async(m,b)=>{var v;m.preventDefault(),m.stopPropagation();try{const x=await s(b).unwrap();T.success(x.message)}catch(x){T.error(((v=x==null?void 0:x.data)==null?void 0:v.message)||x.error)}};if(c)return l.jsx("div",{className:"mt-10",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-8 bg-gray-200 rounded w-48 mb-4"}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"h-20 bg-gray-200 rounded"}),l.jsx("div",{className:"h-20 bg-gray-200 rounded"}),l.jsx("div",{className:"h-20 bg-gray-200 rounded"})]})]})});if(o)return l.jsx("div",{className:"mt-10",children:l.jsxs("div",{className:"text-red-500",children:["Error loading files: ",o.message]})});const h=({file:m})=>{var b;return l.jsxs("tr",{className:"border-b border-gray-300 hover:bg-[#f3f4f669]",children:[l.jsx("td",{className:"p-3 text-[14px] sm:text-[16px]",style:{color:"rgba(34, 34, 33, 1)"},children:l.jsxs(Y,{to:`/viewfile/${m._id}`,className:"flex items-center gap-4",children:[l.jsx(Vo,{src:m.publicThumbnailDownloadUrl||"/placeholder-img.jpg",alt:m.name,className:"w-[50px] h-[50px] sm:w-[61px] sm:h-[61px] object-cover rounded-md"}),l.jsx("span",{className:"truncate max-w-[150px] sm:max-w-none",children:m.name})]})}),t&&l.jsxs(l.Fragment,{children:[l.jsx("td",{className:"hidden sm:table-cell p-3 text-[14px] sm:text-[16px]",style:{color:"rgba(34, 34, 33, 1)"},children:((b=m.categories)==null?void 0:b.length)>0?m.categories.map(v=>v.name).join(", "):"No category"}),l.jsxs("td",{className:"hidden sm:table-cell p-3 text-[14px] sm:text-[16px]",style:{color:"rgba(34, 34, 33, 1)"},children:[(m.size/(1024*1024)).toFixed(2)," MB"]}),l.jsx("td",{className:"p-3",children:l.jsx("button",{onClick:v=>u(v,m._id),className:"text-[#C95C34] hover:text-[#f85519] transition-colors",title:"Remove from favourites",children:l.jsx(At,{size:18})})})]})]},m._id)};return l.jsxs("div",{className:"mt-10",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h3",{className:"text-[20px] sm:text-[24px] font-semibold font-bitter",children:"FAVOURITE FILES"}),t&&l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:()=>d("list"),className:"p-2 rounded-full",children:l.jsx(kt,{className:`text-xl ${e==="list"?"text-gray-800":"text-gray-400"}`})}),l.jsx("button",{onClick:()=>d("grid"),className:"p-2 rounded-full",children:l.jsx(Ot,{className:`text-xl ${e==="grid"?"text-gray-800":"text-gray-400"}`})})]})]}),(p=a==null?void 0:a.files)!=null&&p.length?e==="list"?l.jsx("div",{className:"mt-4 overflow-x-auto",children:l.jsxs("table",{className:"min-w-full table-auto border-spacing-0",children:[l.jsx("thead",{children:l.jsx("tr",{className:"border-b border-gray-300 font-bitter",children:t&&l.jsxs(l.Fragment,{children:[l.jsx("th",{className:mr,children:"Name"}),l.jsx("th",{className:`hidden sm:table-cell ${mr}`,children:"Category"}),l.jsx("th",{className:`hidden sm:table-cell ${mr}`,children:"Size"}),l.jsx("th",{className:mr,children:"Action"})]})})}),l.jsx("tbody",{className:"bg-white",children:(f=a.files)==null?void 0:f.map(m=>l.jsx(h,{file:m},m._id))})]})}):l.jsx("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:(g=a.files)==null?void 0:g.map(m=>{var b;return l.jsx(Y,{to:`/viewfile/${m._id}`,children:l.jsxs("div",{className:"border p-2 rounded-xl flex gap-4 bg-white hover:bg-[#ffffff69] relative",children:[l.jsx(Vo,{src:m.publicThumbnailDownloadUrl||"/placeholder-img.jpg",alt:m.name,className:"w-[70px] h-[70px] sm:w-[83px] sm:h-[83px] object-cover rounded-md"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-[14px] sm:text-[16px] font-light tracking-wider line-clamp-2 break-all w-full max-w-[200px] min-h-[48px] max-h-[48px]",children:m.name}),l.jsx("div",{className:"text-[14px] sm:text-[16px]",style:{color:"rgba(134, 133, 133, 1)"},children:((b=m.categories)==null?void 0:b.length)>0?m.categories.map(v=>v.name).join(", "):"No category"})]}),l.jsx("button",{onClick:v=>u(v,m._id),className:"absolute top-2 right-2 text-[#C95C34] hover:text-[#f85519] transition-colors",title:"Remove from favourites",children:l.jsx(At,{size:18})})]})},m._id)})}):l.jsx("div",{className:"mt-4 text-center text-gray-500 py-8 bg-white rounded-md",children:"No favourite files found"}),(a==null?void 0:a.totalPages)>1&&l.jsx("div",{className:"mt-4",children:l.jsx(Rt,{currentPage:a.currentPage,totalPages:a.totalPages,onPageChange:i})})]})},ov=()=>{const[t,e]=j.useState(null),{data:n,error:r}=$e(),i=ce(),s=Se();j.useEffect(()=>{r&&(i("/"),s(qe()))},[i,r,s]);const a=o=>{e(t===o?null:o)};return l.jsxs("div",{className:"flex h-screen overflow-hidden font-poppins",children:[l.jsx(ye,{activeLink:"Favourites"}),l.jsxs("main",{className:"flex-grow bg-gray-100 py-6 px-4 sm:px-12 overflow-y-auto",children:[l.jsx(Ce,{plus:n==null?void 0:n.isAdmin,filter:!1,onFilterClick:a,activeFilter:t}),l.jsx(av,{check:!0})]})]})},xr="p-3 text-left text-[14px] sm:text-[16px] font-semibold font-bitter",Uo=({src:t,alt:e,className:n})=>{const[r,i]=j.useState(!0),[s,a]=j.useState(!1);return l.jsx("img",{src:r||s?"/placeholder-img.jpg":t,alt:e,className:n,onLoad:()=>i(!1),onError:()=>{i(!1),a(!0)}})},lv=({check:t,userId:e})=>{var h,p,f;const[n,r]=j.useState("list"),[i,s]=j.useState(1),{data:a,error:o,isLoading:c}=Ep({userId:e,page:i,limit:5}),d=g=>{r(g)};if(c)return l.jsx("div",{className:"mt-10",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-8 bg-gray-200 rounded w-48 mb-4"}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"h-20 bg-gray-200 rounded"}),l.jsx("div",{className:"h-20 bg-gray-200 rounded"}),l.jsx("div",{className:"h-20 bg-gray-200 rounded"})]})]})});if(o)return l.jsx("div",{className:"mt-10",children:l.jsxs("div",{className:"text-red-500",children:["Error loading files: ",o.message]})});const u=({file:g})=>{var m,b;return l.jsxs("tr",{className:"border-b border-gray-300 hover:bg-[#f3f4f669]",children:[l.jsx("td",{className:"p-3 text-[14px] sm:text-[16px]",style:{color:"rgba(34, 34, 33, 1)"},children:l.jsxs(Y,{to:`/viewfile/${g._id}`,className:"flex items-center gap-4",children:[l.jsx(Uo,{src:g.publicThumbnailDownloadUrl||"/placeholder-img.jpg",alt:g.name,className:"w-[50px] h-[50px] sm:w-[61px] sm:h-[61px] object-cover rounded-md"}),l.jsx("span",{className:"truncate max-w-[150px] sm:max-w-none",children:g.name})]})}),t&&l.jsxs(l.Fragment,{children:[l.jsx("td",{className:"hidden sm:table-cell p-3 text-[14px] sm:text-[16px]",style:{color:"rgba(34, 34, 33, 1)"},children:((m=g.categories)==null?void 0:m.length)>0?g.categories.map(v=>v.name).join(", "):"No category"}),l.jsxs("td",{className:"hidden sm:table-cell p-3 text-[14px] sm:text-[16px]",style:{color:"rgba(34, 34, 33, 1)"},children:[(g.size/(1024*1024)).toFixed(2)," MB"]}),l.jsx("td",{className:"sm:hidden p-3 text-[14px]",style:{color:"rgba(34, 34, 33, 1)"},children:((b=g.categories)==null?void 0:b.length)>0?g.categories[0].name:"No category"})]})]},g._id)};return l.jsxs("div",{className:"mt-10",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h3",{className:"text-[20px] sm:text-[24px] font-semibold font-bitter",children:"DOWNLOADED FILES"}),t&&l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:()=>d("list"),className:"p-2 rounded-full",children:l.jsx(kt,{className:`text-xl ${n==="list"?"text-gray-800":"text-gray-400"}`})}),l.jsx("button",{onClick:()=>d("grid"),className:"p-2 rounded-full",children:l.jsx(Ot,{className:`text-xl ${n==="grid"?"text-gray-800":"text-gray-400"}`})})]})]}),(h=a==null?void 0:a.files)!=null&&h.length?n==="list"?l.jsx("div",{className:"mt-4 overflow-x-auto",children:l.jsxs("table",{className:"min-w-full table-auto border-spacing-0",children:[l.jsx("thead",{children:l.jsx("tr",{className:"border-b border-gray-300 font-bitter",children:t&&l.jsxs(l.Fragment,{children:[l.jsx("th",{className:xr,children:"Name"}),l.jsx("th",{className:`hidden sm:table-cell ${xr}`,children:"Category"}),l.jsx("th",{className:`hidden sm:table-cell ${xr}`,children:"Size"}),l.jsx("th",{className:`sm:hidden ${xr}`,children:"Category"})]})})}),l.jsx("tbody",{className:"bg-white",children:(p=a.files)==null?void 0:p.map(g=>l.jsx(u,{file:g},g._id))})]})}):l.jsx("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:(f=a.files)==null?void 0:f.map(g=>{var m;return l.jsx(Y,{to:`/viewfile/${g._id}`,children:l.jsxs("div",{className:"border p-2 rounded-xl flex gap-4 bg-white hover:bg-[#ffffff69]",children:[l.jsx(Uo,{src:g.publicThumbnailDownloadUrl||"/placeholder-img.jpg",alt:g.name,className:"w-[70px] h-[70px] sm:w-[83px] sm:h-[83px] object-cover rounded-md"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-[14px] sm:text-[16px] font-light tracking-wider line-clamp-2 break-all w-full max-w-[200px] min-h-[48px] max-h-[48px]",children:g.name}),l.jsx("div",{className:"text-[14px] sm:text-[16px]",style:{color:"rgba(134, 133, 133, 1)"},children:((m=g.categories)==null?void 0:m.length)>0?g.categories.map(b=>b.name).join(", "):"No category"})]})]})},g._id)})}):l.jsx("div",{className:"mt-4 text-center text-gray-500 py-8 bg-white rounded-md",children:"No Downloaded files found"}),(a==null?void 0:a.totalPages)>1&&l.jsx("div",{className:"mt-4",children:l.jsx(Rt,{currentPage:a.currentPage,totalPages:a.totalPages,onPageChange:s})})]})},cv=()=>{const{id:t}=tn(),{data:e,isLoading:n,error:r}=tp(t);return n?l.jsx(Kd,{}):r?l.jsxs("div",{children:["Error: ",r.message]}):l.jsxs("div",{className:"flex h-screen overflow-hidden font-poppins",children:[l.jsx(ye,{}),l.jsx("div",{className:"flex-grow bg-gray-50",children:l.jsxs("div",{className:"h-screen flex flex-col",children:[l.jsx("div",{className:"p-6",children:l.jsx(Ce,{plus:!0,filter:!1})}),l.jsxs("div",{className:"flex-1 p-8 overflow-y-auto",children:[l.jsx("div",{className:"max-w-3xl",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[l.jsxs("div",{className:"p-6 border-b flex items-center space-x-6",children:[l.jsx("div",{className:"w-24 h-24 rounded-full overflow-hidden border-2 border-gray-200 flex-shrink-0",children:l.jsx("img",{src:e.profilePicture||"/default-profile.png",alt:e.username,className:"w-full h-full object-cover"})}),l.jsx("h1",{className:"text-2xl font-semibold text-gray-800 font-bitter",children:"USER DETAILS"})]}),l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Username"}),l.jsx("p",{className:"text-gray-800",children:e.username})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Email"}),l.jsx("p",{className:"text-gray-800",children:e.email})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Role"}),l.jsx("p",{className:"text-gray-800",children:e.isAdmin?"Admin":"User"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Status"}),l.jsx("p",{className:`font-medium ${e.isActivated?"text-green-600":"text-red-600"}`,children:e.isActivated?"Active":"Inactive"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Created At"}),l.jsx("p",{className:"text-gray-800",children:new Date(e.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})})]})}),l.jsx(lv,{check:!0,userId:e==null?void 0:e._id})]})]})})]})},dv=Yn.injectEndpoints({endpoints:t=>({getRecentDownloads:t.query({query:()=>({url:"/api/dashboard/recent-downloads"}),providesTags:["RecentDownloads"]}),getActiveUsers:t.query({query:()=>({url:"/api/dashboard/active-users"}),providesTags:["ActiveUsers"]}),getDownloadStats:t.query({query:(e="weekly")=>({url:"/api/dashboard/download-stats",params:{period:e}}),providesTags:["DownloadStats"]}),getCategoryStats:t.query({query:()=>({url:"/api/dashboard/category-stats"}),providesTags:["CategoryStats"]}),getTopDownloads:t.query({query:()=>({url:"/api/dashboard/top-downloads"}),providesTags:["TopDownloads"]}),getRecentUploads:t.query({query:()=>"/api/dashboard/recent-uploads",providesTags:["RecentUploads"]}),getSpaceUsage:t.query({query:()=>"/api/dashboard/space-usage",providesTags:["SpaceUsage"]}),trackUserActivity:t.mutation({query:e=>({url:"/api/dashboard/track-activity",method:"POST",body:e})})})}),{useGetRecentDownloadsQuery:uv,useGetActiveUsersQuery:hv,useGetDownloadStatsQuery:fv,useGetCategoryStatsQuery:pv,useGetTopDownloadsQuery:gv,useGetRecentUploadsQuery:mv,useGetSpaceUsageQuery:xv,useTrackUserActivityMutation:w4}=dv;/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Zn(t){return t+.5|0}const ot=(t,e,n)=>Math.max(Math.min(t,n),e);function jn(t){return ot(Zn(t*2.55),0,255)}function ht(t){return ot(Zn(t*255),0,255)}function et(t){return ot(Zn(t/2.55)/100,0,1)}function $o(t){return ot(Zn(t*100),0,100)}const Fe={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},bs=[..."0123456789ABCDEF"],vv=t=>bs[t&15],bv=t=>bs[(t&240)>>4]+bs[t&15],vr=t=>(t&240)>>4===(t&15),yv=t=>vr(t.r)&&vr(t.g)&&vr(t.b)&&vr(t.a);function wv(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Fe[t[1]]*17,g:255&Fe[t[2]]*17,b:255&Fe[t[3]]*17,a:e===5?Fe[t[4]]*17:255}:(e===7||e===9)&&(n={r:Fe[t[1]]<<4|Fe[t[2]],g:Fe[t[3]]<<4|Fe[t[4]],b:Fe[t[5]]<<4|Fe[t[6]],a:e===9?Fe[t[7]]<<4|Fe[t[8]]:255})),n}const jv=(t,e)=>t<255?e(t):"";function Sv(t){var e=yv(t)?vv:bv;return t?"#"+e(t.r)+e(t.g)+e(t.b)+jv(t.a,e):void 0}const Cv=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Xd(t,e,n){const r=e*Math.min(n,1-n),i=(s,a=(s+t/30)%12)=>n-r*Math.max(Math.min(a-3,9-a,1),-1);return[i(0),i(8),i(4)]}function Nv(t,e,n){const r=(i,s=(i+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function Dv(t,e,n){const r=Xd(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function Ev(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}function aa(t){const n=t.r/255,r=t.g/255,i=t.b/255,s=Math.max(n,r,i),a=Math.min(n,r,i),o=(s+a)/2;let c,d,u;return s!==a&&(u=s-a,d=o>.5?u/(2-s-a):u/(s+a),c=Ev(n,r,i,u,s),c=c*60+.5),[c|0,d||0,o]}function oa(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(ht)}function la(t,e,n){return oa(Xd,t,e,n)}function Iv(t,e,n){return oa(Dv,t,e,n)}function Av(t,e,n){return oa(Nv,t,e,n)}function Zd(t){return(t%360+360)%360}function _v(t){const e=Cv.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?jn(+e[5]):ht(+e[5]));const i=Zd(+e[2]),s=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?r=Iv(i,s,a):e[1]==="hsv"?r=Av(i,s,a):r=la(i,s,a),{r:r[0],g:r[1],b:r[2],a:n}}function Pv(t,e){var n=aa(t);n[0]=Zd(n[0]+e),n=la(n),t.r=n[0],t.g=n[1],t.b=n[2]}function Mv(t){if(!t)return;const e=aa(t),n=e[0],r=$o(e[1]),i=$o(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${et(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const Wo={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},qo={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Tv(){const t={},e=Object.keys(qo),n=Object.keys(Wo);let r,i,s,a,o;for(r=0;r<e.length;r++){for(a=o=e[r],i=0;i<n.length;i++)s=n[i],o=o.replace(s,Wo[s]);s=parseInt(qo[a],16),t[o]=[s>>16&255,s>>8&255,s&255]}return t}let br;function kv(t){br||(br=Tv(),br.transparent=[0,0,0,0]);const e=br[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Ov=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Rv(t){const e=Ov.exec(t);let n=255,r,i,s;if(e){if(e[7]!==r){const a=+e[7];n=e[8]?jn(a):ot(a*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?jn(r):ot(r,0,255)),i=255&(e[4]?jn(i):ot(i,0,255)),s=255&(e[6]?jn(s):ot(s,0,255)),{r,g:i,b:s,a:n}}}function Lv(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${et(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Gi=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Ut=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Fv(t,e,n){const r=Ut(et(t.r)),i=Ut(et(t.g)),s=Ut(et(t.b));return{r:ht(Gi(r+n*(Ut(et(e.r))-r))),g:ht(Gi(i+n*(Ut(et(e.g))-i))),b:ht(Gi(s+n*(Ut(et(e.b))-s))),a:t.a+n*(e.a-t.a)}}function yr(t,e,n){if(t){let r=aa(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=la(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function Jd(t,e){return t&&Object.assign(e||{},t)}function Go(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=ht(t[3]))):(e=Jd(t,{r:0,g:0,b:0,a:1}),e.a=ht(e.a)),e}function Bv(t){return t.charAt(0)==="r"?Rv(t):_v(t)}class Un{constructor(e){if(e instanceof Un)return e;const n=typeof e;let r;n==="object"?r=Go(e):n==="string"&&(r=wv(e)||kv(e)||Bv(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=Jd(this._rgb);return e&&(e.a=et(e.a)),e}set rgb(e){this._rgb=Go(e)}rgbString(){return this._valid?Lv(this._rgb):void 0}hexString(){return this._valid?Sv(this._rgb):void 0}hslString(){return this._valid?Mv(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,i=e.rgb;let s;const a=n===s?.5:n,o=2*a-1,c=r.a-i.a,d=((o*c===-1?o:(o+c)/(1+o*c))+1)/2;s=1-d,r.r=255&d*r.r+s*i.r+.5,r.g=255&d*r.g+s*i.g+.5,r.b=255&d*r.b+s*i.b+.5,r.a=a*r.a+(1-a)*i.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=Fv(this._rgb,e._rgb,n)),this}clone(){return new Un(this.rgb)}alpha(e){return this._rgb.a=ht(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Zn(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return yr(this._rgb,2,e),this}darken(e){return yr(this._rgb,2,-e),this}saturate(e){return yr(this._rgb,1,e),this}desaturate(e){return yr(this._rgb,1,-e),this}rotate(e){return Pv(this._rgb,e),this}}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ke(){}const zv=(()=>{let t=0;return()=>t++})();function ie(t){return t==null}function pe(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Z(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Ve(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Ge(t,e){return Ve(t)?t:e}function ee(t,e){return typeof t>"u"?e:t}const Hv=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,eu=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function ae(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function re(t,e,n,r){let i,s,a;if(pe(t))for(s=t.length,i=0;i<s;i++)e.call(n,t[i],i);else if(Z(t))for(a=Object.keys(t),s=a.length,i=0;i<s;i++)e.call(n,t[a[i]],a[i])}function ei(t,e){let n,r,i,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],s=e[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function ti(t){if(pe(t))return t.map(ti);if(Z(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=ti(t[n[i]]);return e}return t}function tu(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function Vv(t,e,n,r){if(!tu(t))return;const i=e[t],s=n[t];Z(i)&&Z(s)?$n(i,s,r):e[t]=ti(s)}function $n(t,e,n){const r=pe(e)?e:[e],i=r.length;if(!Z(t))return t;n=n||{};const s=n.merger||Vv;let a;for(let o=0;o<i;++o){if(a=r[o],!Z(a))continue;const c=Object.keys(a);for(let d=0,u=c.length;d<u;++d)s(c[d],t,a,n)}return t}function _n(t,e){return $n(t,e,{merger:Uv})}function Uv(t,e,n){if(!tu(t))return;const r=e[t],i=n[t];Z(r)&&Z(i)?_n(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=ti(i))}const Qo={"":t=>t,x:t=>t.x,y:t=>t.y};function $v(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function Wv(t){const e=$v(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function Mt(t,e){return(Qo[e]||(Qo[e]=Wv(e)))(t)}function ca(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Wn=t=>typeof t<"u",gt=t=>typeof t=="function",Yo=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function qv(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const fe=Math.PI,he=2*fe,ni=Number.POSITIVE_INFINITY,Gv=fe/180,ge=fe/2,vt=fe/4,Ko=fe*2/3,ys=Math.log10,ft=Math.sign;function Or(t,e,n){return Math.abs(t-e)<n}function Xo(t){const e=Math.round(t);t=Or(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(ys(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function Qv(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((i,s)=>i-s).pop(),e}function Yv(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function ri(t){return!Yv(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function Kv(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function Xv(t,e,n){let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function tt(t){return t*(fe/180)}function Zv(t){return t*(180/fe)}function Zo(t){if(!Ve(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function nu(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*fe&&(s+=he),{angle:s,distance:i}}function Jv(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function bt(t){return(t%he+he)%he}function ii(t,e,n,r){const i=bt(t),s=bt(e),a=bt(n),o=bt(s-i),c=bt(a-i),d=bt(i-s),u=bt(i-a);return i===s||i===a||r&&s===a||o>c&&d<u}function _e(t,e,n){return Math.max(e,Math.min(n,t))}function e1(t){return _e(t,-32768,32767)}function Ct(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function da(t,e,n){n=n||(a=>t[a]<e);let r=t.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const ws=(t,e,n,r)=>da(t,n,r?i=>{const s=t[i][e];return s<n||s===n&&t[i+1][e]===n}:i=>t[i][e]<n),t1=(t,e,n)=>da(t,n,r=>t[r][e]>=n);function n1(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}const ru=["push","pop","shift","splice","unshift"];function r1(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),ru.forEach(n=>{const r="_onData"+ca(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const a=i.apply(this,s);return t._chartjs.listeners.forEach(o=>{typeof o[r]=="function"&&o[r](...s)}),a}})})}function Jo(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(ru.forEach(s=>{delete t[s]}),delete t._chartjs)}function iu(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const su=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function au(t,e){let n=[],r=!1;return function(...i){n=i,r||(r=!0,su.call(window,()=>{r=!1,t.apply(e,n)}))}}function i1(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const ua=t=>t==="start"?"left":t==="end"?"right":"center",we=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,s1=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e,wr=t=>t===0||t===1,el=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*he/n)),tl=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*he/n)+1,Pn={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*ge)+1,easeOutSine:t=>Math.sin(t*ge),easeInOutSine:t=>-.5*(Math.cos(fe*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>wr(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>wr(t)?t:el(t,.075,.3),easeOutElastic:t=>wr(t)?t:tl(t,.075,.3),easeInOutElastic(t){return wr(t)?t:t<.5?.5*el(t*2,.1125,.45):.5+.5*tl(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Pn.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Pn.easeInBounce(t*2)*.5:Pn.easeOutBounce(t*2-1)*.5+.5};function ou(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function nl(t){return ou(t)?t:new Un(t)}function Qi(t){return ou(t)?t:new Un(t).saturate(.5).darken(.1).hexString()}const a1=["x","y","borderWidth","radius","tension"],o1=["color","borderColor","backgroundColor"];function l1(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:o1},numbers:{type:"number",properties:a1}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function c1(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const rl=new Map;function d1(t,e){e=e||{};const n=t+JSON.stringify(e);let r=rl.get(n);return r||(r=new Intl.NumberFormat(t,e),rl.set(n,r)),r}function ha(t,e,n){return d1(e,n).format(t)}const lu={values(t){return pe(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let i,s=t;if(n.length>1){const d=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(d<1e-4||d>1e15)&&(i="scientific"),s=u1(t,n)}const a=ys(Math.abs(s)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),c={notation:i,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(c,this.options.ticks.format),ha(t,r,c)},logarithmic(t,e,n){if(t===0)return"0";const r=n[e].significand||t/Math.pow(10,Math.floor(ys(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?lu.numeric.call(this,t,e,n):""}};function u1(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var cu={formatters:lu};function h1(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:cu.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Tt=Object.create(null),js=Object.create(null);function Mn(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];t=t[s]||(t[s]=Object.create(null))}return t}function Yi(t,e,n){return typeof e=="string"?$n(Mn(t,e),n):$n(Mn(t,""),e)}class f1{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>Qi(i.backgroundColor),this.hoverBorderColor=(r,i)=>Qi(i.borderColor),this.hoverColor=(r,i)=>Qi(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Yi(this,e,n)}get(e){return Mn(this,e)}describe(e,n){return Yi(js,e,n)}override(e,n){return Yi(Tt,e,n)}route(e,n,r,i){const s=Mn(this,e),a=Mn(this,r),o="_"+n;Object.defineProperties(s,{[o]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const c=this[o],d=a[i];return Z(c)?Object.assign({},d,c):ee(c,d)},set(c){this[o]=c}}})}apply(e){e.forEach(n=>n(this))}}var de=new f1({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[l1,c1,h1]);function p1(t){return!t||ie(t.size)||ie(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function il(t,e,n,r,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,n.push(i)),s>r&&(r=s),r}function yt(t,e,n){const r=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function sl(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function al(t,e,n,r){du(t,e,n,r,null)}function du(t,e,n,r,i){let s,a,o,c,d,u,h,p;const f=e.pointStyle,g=e.rotation,m=e.radius;let b=(g||0)*Gv;if(f&&typeof f=="object"&&(s=f.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(b),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(m)||m<=0)){switch(t.beginPath(),f){default:i?t.ellipse(n,r,i/2,m,0,0,he):t.arc(n,r,m,0,he),t.closePath();break;case"triangle":u=i?i/2:m,t.moveTo(n+Math.sin(b)*u,r-Math.cos(b)*m),b+=Ko,t.lineTo(n+Math.sin(b)*u,r-Math.cos(b)*m),b+=Ko,t.lineTo(n+Math.sin(b)*u,r-Math.cos(b)*m),t.closePath();break;case"rectRounded":d=m*.516,c=m-d,a=Math.cos(b+vt)*c,h=Math.cos(b+vt)*(i?i/2-d:c),o=Math.sin(b+vt)*c,p=Math.sin(b+vt)*(i?i/2-d:c),t.arc(n-h,r-o,d,b-fe,b-ge),t.arc(n+p,r-a,d,b-ge,b),t.arc(n+h,r+o,d,b,b+ge),t.arc(n-p,r+a,d,b+ge,b+fe),t.closePath();break;case"rect":if(!g){c=Math.SQRT1_2*m,u=i?i/2:c,t.rect(n-u,r-c,2*u,2*c);break}b+=vt;case"rectRot":h=Math.cos(b)*(i?i/2:m),a=Math.cos(b)*m,o=Math.sin(b)*m,p=Math.sin(b)*(i?i/2:m),t.moveTo(n-h,r-o),t.lineTo(n+p,r-a),t.lineTo(n+h,r+o),t.lineTo(n-p,r+a),t.closePath();break;case"crossRot":b+=vt;case"cross":h=Math.cos(b)*(i?i/2:m),a=Math.cos(b)*m,o=Math.sin(b)*m,p=Math.sin(b)*(i?i/2:m),t.moveTo(n-h,r-o),t.lineTo(n+h,r+o),t.moveTo(n+p,r-a),t.lineTo(n-p,r+a);break;case"star":h=Math.cos(b)*(i?i/2:m),a=Math.cos(b)*m,o=Math.sin(b)*m,p=Math.sin(b)*(i?i/2:m),t.moveTo(n-h,r-o),t.lineTo(n+h,r+o),t.moveTo(n+p,r-a),t.lineTo(n-p,r+a),b+=vt,h=Math.cos(b)*(i?i/2:m),a=Math.cos(b)*m,o=Math.sin(b)*m,p=Math.sin(b)*(i?i/2:m),t.moveTo(n-h,r-o),t.lineTo(n+h,r+o),t.moveTo(n+p,r-a),t.lineTo(n-p,r+a);break;case"line":a=i?i/2:Math.cos(b)*m,o=Math.sin(b)*m,t.moveTo(n-a,r-o),t.lineTo(n+a,r+o);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(b)*(i?i/2:m),r+Math.sin(b)*m);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function uu(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function fa(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function pa(t){t.restore()}function g1(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ie(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function m1(t,e,n,r,i){if(i.strikethrough||i.underline){const s=t.measureText(r),a=e-s.actualBoundingBoxLeft,o=e+s.actualBoundingBoxRight,c=n-s.actualBoundingBoxAscent,d=n+s.actualBoundingBoxDescent,u=i.strikethrough?(c+d)/2:d;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(a,u),t.lineTo(o,u),t.stroke()}}function x1(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function qn(t,e,n,r,i,s={}){const a=pe(e)?e:[e],o=s.strokeWidth>0&&s.strokeColor!=="";let c,d;for(t.save(),t.font=i.string,g1(t,s),c=0;c<a.length;++c)d=a[c],s.backdrop&&x1(t,s.backdrop),o&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),ie(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(d,n,r,s.maxWidth)),t.fillText(d,n,r,s.maxWidth),m1(t,n,r,d,s),r+=Number(i.lineHeight);t.restore()}function si(t,e){const{x:n,y:r,w:i,h:s,radius:a}=e;t.arc(n+a.topLeft,r+a.topLeft,a.topLeft,1.5*fe,fe,!0),t.lineTo(n,r+s-a.bottomLeft),t.arc(n+a.bottomLeft,r+s-a.bottomLeft,a.bottomLeft,fe,ge,!0),t.lineTo(n+i-a.bottomRight,r+s),t.arc(n+i-a.bottomRight,r+s-a.bottomRight,a.bottomRight,ge,0,!0),t.lineTo(n+i,r+a.topRight),t.arc(n+i-a.topRight,r+a.topRight,a.topRight,0,-ge,!0),t.lineTo(n+a.topLeft,r)}const v1=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,b1=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function y1(t,e){const n=(""+t).match(v1);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const w1=t=>+t||0;function ga(t,e){const n={},r=Z(e),i=r?Object.keys(e):e,s=Z(t)?r?a=>ee(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of i)n[a]=w1(s(a));return n}function hu(t){return ga(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Gt(t){return ga(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Ue(t){const e=hu(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function je(t,e){t=t||{},e=e||de.font;let n=ee(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=ee(t.style,e.style);r&&!(""+r).match(b1)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:ee(t.family,e.family),lineHeight:y1(ee(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:ee(t.weight,e.weight),string:""};return i.string=p1(i),i}function jr(t,e,n,r){let i,s,a;for(i=0,s=t.length;i<s;++i)if(a=t[i],a!==void 0&&a!==void 0)return a}function j1(t,e,n){const{min:r,max:i}=t,s=eu(e,(i-r)/2),a=(o,c)=>n&&o===0?0:o+c;return{min:a(r,-Math.abs(s)),max:a(i,s)}}function ln(t,e){return Object.assign(Object.create(t),e)}function ma(t,e=[""],n,r,i=()=>t[0]){const s=n||t;typeof r>"u"&&(r=mu("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:r,_getTarget:i,override:o=>ma([o,...t],e,s,r)};return new Proxy(a,{deleteProperty(o,c){return delete o[c],delete o._keys,delete t[0][c],!0},get(o,c){return pu(o,c,()=>_1(c,e,t,o))},getOwnPropertyDescriptor(o,c){return Reflect.getOwnPropertyDescriptor(o._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(o,c){return ll(o).includes(c)},ownKeys(o){return ll(o)},set(o,c,d){const u=o._storage||(o._storage=i());return o[c]=u[c]=d,delete o._keys,!0}})}function en(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:fu(t,r),setContext:s=>en(t,s,n,r),override:s=>en(t.override(s),e,n,r)};return new Proxy(i,{deleteProperty(s,a){return delete s[a],delete t[a],!0},get(s,a,o){return pu(s,a,()=>C1(s,a,o))},getOwnPropertyDescriptor(s,a){return s._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(s,a,o){return t[a]=o,delete s[a],!0}})}function fu(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:gt(n)?n:()=>n,isIndexable:gt(r)?r:()=>r}}const S1=(t,e)=>t?t+ca(e):e,xa=(t,e)=>Z(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function pu(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function C1(t,e,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:a}=t;let o=r[e];return gt(o)&&a.isScriptable(e)&&(o=N1(e,o,t,n)),pe(o)&&o.length&&(o=D1(e,o,t,a.isIndexable)),xa(e,o)&&(o=en(o,i,s&&s[e],a)),o}function N1(t,e,n,r){const{_proxy:i,_context:s,_subProxy:a,_stack:o}=n;if(o.has(t))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+t);o.add(t);let c=e(s,a||r);return o.delete(t),xa(t,c)&&(c=va(i._scopes,i,t,c)),c}function D1(t,e,n,r){const{_proxy:i,_context:s,_subProxy:a,_descriptors:o}=n;if(typeof s.index<"u"&&r(t))return e[s.index%e.length];if(Z(e[0])){const c=e,d=i._scopes.filter(u=>u!==c);e=[];for(const u of c){const h=va(d,i,t,u);e.push(en(h,s,a&&a[t],o))}}return e}function gu(t,e,n){return gt(t)?t(e,n):t}const E1=(t,e)=>t===!0?e:typeof t=="string"?Mt(e,t):void 0;function I1(t,e,n,r,i){for(const s of e){const a=E1(n,s);if(a){t.add(a);const o=gu(a._fallback,n,i);if(typeof o<"u"&&o!==n&&o!==r)return o}else if(a===!1&&typeof r<"u"&&n!==r)return null}return!1}function va(t,e,n,r){const i=e._rootScopes,s=gu(e._fallback,n,r),a=[...t,...i],o=new Set;o.add(r);let c=ol(o,a,n,s||n,r);return c===null||typeof s<"u"&&s!==n&&(c=ol(o,a,s,c,r),c===null)?!1:ma(Array.from(o),[""],i,s,()=>A1(e,n,r))}function ol(t,e,n,r,i){for(;n;)n=I1(t,e,n,r,i);return n}function A1(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return pe(i)&&Z(n)?n:i||{}}function _1(t,e,n,r){let i;for(const s of e)if(i=mu(S1(s,t),n),typeof i<"u")return xa(t,i)?va(n,r,t,i):i}function mu(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function ll(t){let e=t._keys;return e||(e=t._keys=P1(t._scopes)),e}function P1(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}function ba(){return typeof window<"u"&&typeof document<"u"}function ya(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function ai(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const Ni=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function M1(t,e){return Ni(t).getPropertyValue(e)}const T1=["top","right","bottom","left"];function Dt(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=T1[i];r[s]=parseFloat(t[e+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const k1=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function O1(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:s}=r;let a=!1,o,c;if(k1(i,s,t.target))o=i,c=s;else{const d=e.getBoundingClientRect();o=r.clientX-d.left,c=r.clientY-d.top,a=!0}return{x:o,y:c,box:a}}function St(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=Ni(n),s=i.boxSizing==="border-box",a=Dt(i,"padding"),o=Dt(i,"border","width"),{x:c,y:d,box:u}=O1(t,n),h=a.left+(u&&o.left),p=a.top+(u&&o.top);let{width:f,height:g}=e;return s&&(f-=a.width+o.width,g-=a.height+o.height),{x:Math.round((c-h)/f*n.width/r),y:Math.round((d-p)/g*n.height/r)}}function R1(t,e,n){let r,i;if(e===void 0||n===void 0){const s=t&&ya(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const a=s.getBoundingClientRect(),o=Ni(s),c=Dt(o,"border","width"),d=Dt(o,"padding");e=a.width-d.width-c.width,n=a.height-d.height-c.height,r=ai(o.maxWidth,s,"clientWidth"),i=ai(o.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:r||ni,maxHeight:i||ni}}const Sr=t=>Math.round(t*10)/10;function L1(t,e,n,r){const i=Ni(t),s=Dt(i,"margin"),a=ai(i.maxWidth,t,"clientWidth")||ni,o=ai(i.maxHeight,t,"clientHeight")||ni,c=R1(t,e,n);let{width:d,height:u}=c;if(i.boxSizing==="content-box"){const p=Dt(i,"border","width"),f=Dt(i,"padding");d-=f.width+p.width,u-=f.height+p.height}return d=Math.max(0,d-s.width),u=Math.max(0,r?d/r:u-s.height),d=Sr(Math.min(d,a,c.maxWidth)),u=Sr(Math.min(u,o,c.maxHeight)),d&&!u&&(u=Sr(d/2)),(e!==void 0||n!==void 0)&&r&&c.height&&u>c.height&&(u=c.height,d=Sr(Math.floor(u*r))),{width:d,height:u}}function cl(t,e,n){const r=e||1,i=Math.floor(t.height*r),s=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||a.height!==i||a.width!==s?(t.currentDevicePixelRatio=r,a.height=i,a.width=s,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const F1=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};ba()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function dl(t,e){const n=M1(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}const B1=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},z1=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Qt(t,e,n){return t?B1(e,n):z1()}function xu(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function vu(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class H1{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){const s=n.listeners[i],a=n.duration;s.forEach(o=>o({chart:e,initial:n.initial,numSteps:a,currentStep:Math.min(r-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=su.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let a=s.length-1,o=!1,c;for(;a>=0;--a)c=s[a],c._active?(c._total>r.duration&&(r.duration=c._total),c.tick(e),o=!0):(s[a]=s[s.length-1],s.pop());o&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Xe=new H1;const ul="transparent",V1={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=nl(t||ul),i=r.valid&&nl(e||ul);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class U1{constructor(e,n,r,i){const s=n[r];i=jr([e.to,i,s,e.from]);const a=jr([e.from,s,i]);this._active=!0,this._fn=e.fn||V1[e.type||typeof a],this._easing=Pn[e.easing]||Pn.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=a,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,a=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=jr([e.to,n,i,e.from]),this._from=jr([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,i=this._prop,s=this._from,a=this._loop,o=this._to;let c;if(this._active=s!==o&&(a||n<r),!this._active){this._target[i]=o,this._notify(!0);return}if(n<0){this._target[i]=s;return}c=n/r%2,c=a&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[i]=this._fn(s,o,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class bu{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Z(e))return;const n=Object.keys(de.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!Z(s))return;const a={};for(const o of n)a[o]=s[o];(pe(s.properties)&&s.properties||[i]).forEach(o=>{(o===i||!r.has(o))&&r.set(o,a)})})}_animateOptions(e,n){const r=n.options,i=W1(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&$1(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,n){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),a=Object.keys(n),o=Date.now();let c;for(c=a.length-1;c>=0;--c){const d=a[c];if(d.charAt(0)==="$")continue;if(d==="options"){i.push(...this._animateOptions(e,n));continue}const u=n[d];let h=s[d];const p=r.get(d);if(h)if(p&&h.active()){h.update(p,u,o);continue}else h.cancel();if(!p||!p.duration){e[d]=u;continue}s[d]=h=new U1(p,e,d,u),i.push(h)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return Xe.add(this._chart,r),!0}}function $1(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=t[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function W1(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function hl(t,e){const n=t&&t.options||{},r=n.reverse,i=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function q1(t,e,n){if(n===!1)return!1;const r=hl(t,n),i=hl(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function G1(t){let e,n,r,i;return Z(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:t===!1}}function yu(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function fl(t,e,n,r={}){const i=t.keys,s=r.mode==="single";let a,o,c,d;if(e===null)return;let u=!1;for(a=0,o=i.length;a<o;++a){if(c=+i[a],c===n){if(u=!0,r.all)continue;break}d=t.values[c],Ve(d)&&(s||e===0||ft(e)===ft(d))&&(e+=d)}return!u&&!r.all?0:e}function Q1(t,e){const{iScale:n,vScale:r}=e,i=n.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",a=Object.keys(t),o=new Array(a.length);let c,d,u;for(c=0,d=a.length;c<d;++c)u=a[c],o[c]={[i]:u,[s]:t[u]};return o}function Ki(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function Y1(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function K1(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function X1(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function pl(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=t[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function gl(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:s,vScale:a,index:o}=r,c=s.axis,d=a.axis,u=Y1(s,a,r),h=e.length;let p;for(let f=0;f<h;++f){const g=e[f],{[c]:m,[d]:b}=g,v=g._stacks||(g._stacks={});p=v[d]=X1(i,u,m),p[o]=b,p._top=pl(p,a,!0,r.type),p._bottom=pl(p,a,!1,r.type);const x=p._visualValues||(p._visualValues={});x[o]=b}}function Xi(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function Z1(t,e){return ln(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function J1(t,e,n){return ln(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function mn(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const Zi=t=>t==="reset"||t==="none",ml=(t,e)=>e?t:Object.assign({},t),eb=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:yu(n,!0),values:null};class Yt{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Ki(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&mn(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(h,p,f,g)=>h==="x"?p:h==="r"?g:f,s=n.xAxisID=ee(r.xAxisID,Xi(e,"x")),a=n.yAxisID=ee(r.yAxisID,Xi(e,"y")),o=n.rAxisID=ee(r.rAxisID,Xi(e,"r")),c=n.indexAxis,d=n.iAxisID=i(c,s,a,o),u=n.vAxisID=i(c,a,s,o);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(o),n.iScale=this.getScaleForId(d),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Jo(this._data,this),e._stacked&&mn(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(Z(n)){const i=this._cachedMeta;this._data=Q1(n,i)}else if(r!==n){if(r){Jo(r,this);const i=this._cachedMeta;mn(i),i._parsed=[]}n&&Object.isExtensible(n)&&r1(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=Ki(n.vScale,n),n.stack!==r.stack&&(i=!0,mn(n),n.stack=r.stack),this._resyncElements(e),(i||s!==n._stacked)&&(gl(this,n._parsed),n._stacked=Ki(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:a}=r,o=s.axis;let c=e===0&&n===i.length?!0:r._sorted,d=e>0&&r._parsed[e-1],u,h,p;if(this._parsing===!1)r._parsed=i,r._sorted=!0,p=i;else{pe(i[e])?p=this.parseArrayData(r,i,e,n):Z(i[e])?p=this.parseObjectData(r,i,e,n):p=this.parsePrimitiveData(r,i,e,n);const f=()=>h[o]===null||d&&h[o]<d[o];for(u=0;u<n;++u)r._parsed[u+e]=h=p[u],c&&(f()&&(c=!1),d=h);r._sorted=c}a&&gl(this,p)}parsePrimitiveData(e,n,r,i){const{iScale:s,vScale:a}=e,o=s.axis,c=a.axis,d=s.getLabels(),u=s===a,h=new Array(i);let p,f,g;for(p=0,f=i;p<f;++p)g=p+r,h[p]={[o]:u||s.parse(d[g],g),[c]:a.parse(n[g],g)};return h}parseArrayData(e,n,r,i){const{xScale:s,yScale:a}=e,o=new Array(i);let c,d,u,h;for(c=0,d=i;c<d;++c)u=c+r,h=n[u],o[c]={x:s.parse(h[0],u),y:a.parse(h[1],u)};return o}parseObjectData(e,n,r,i){const{xScale:s,yScale:a}=e,{xAxisKey:o="x",yAxisKey:c="y"}=this._parsing,d=new Array(i);let u,h,p,f;for(u=0,h=i;u<h;++u)p=u+r,f=n[p],d[u]={x:s.parse(Mt(f,o),p),y:a.parse(Mt(f,c),p)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const i=this.chart,s=this._cachedMeta,a=n[e.axis],o={keys:yu(i,!0),values:n._stacks[e.axis]._visualValues};return fl(o,a,s.index,{mode:r})}updateRangeFromParsed(e,n,r,i){const s=r[n.axis];let a=s===null?NaN:s;const o=i&&r._stacks[n.axis];i&&o&&(i.values=o,a=fl(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,a=i.length,o=this._getOtherScale(e),c=eb(n,r,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=K1(o);let p,f;function g(){f=i[p];const m=f[o.axis];return!Ve(f[e.axis])||u>m||h<m}for(p=0;p<a&&!(!g()&&(this.updateRangeFromParsed(d,e,f,c),s));++p);if(s){for(p=a-1;p>=0;--p)if(!g()){this.updateRangeFromParsed(d,e,f,c);break}}return d}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let i,s,a;for(i=0,s=n.length;i<s;++i)a=n[i][e.axis],Ve(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=G1(ee(this.options.clip,q1(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,a=[],o=this._drawStart||0,c=this._drawCount||i.length-o,d=this.options.drawActiveElementsOnTop;let u;for(r.dataset&&r.dataset.draw(e,s,o,c),u=o;u<o+c;++u){const h=i[u];h.hidden||(h.active&&d?a.push(h):h.draw(e,s))}for(u=0;u<a.length;++u)a[u].draw(e,s)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];s=a.$context||(a.$context=J1(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=Z1(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const i=n==="active",s=this._cachedDataOpts,a=e+"-"+n,o=s[a],c=this.enableOptionSharing&&Wn(r);if(o)return ml(o,c);const d=this.chart.config,u=d.datasetElementScopeKeys(this._type,e),h=i?[`${e}Hover`,"hover",e,""]:[e,""],p=d.getOptionScopes(this.getDataset(),u),f=Object.keys(de.elements[e]),g=()=>this.getContext(r,i,n),m=d.resolveNamedOptions(p,f,g,h);return m.$shared&&(m.$shared=c,s[a]=Object.freeze(ml(m,c))),m}_resolveAnimations(e,n,r){const i=this.chart,s=this._cachedDataOpts,a=`animation-${n}`,o=s[a];if(o)return o;let c;if(i.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),p=u.getOptionScopes(this.getDataset(),h);c=u.createResolver(p,this.getContext(e,r,n))}const d=new bu(i,c&&c.animations);return c&&c._cacheable&&(s[a]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Zi(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),i=this._sharedOptions,s=this.getSharedOptions(r),a=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:a}}updateElement(e,n,r,i){Zi(i)?Object.assign(e,r):this._resolveAnimations(n,i).update(e,r)}updateSharedOptions(e,n,r){e&&!Zi(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,i){e.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[o,c,d]of this._syncList)this[o](c,d);this._syncList=[];const i=r.length,s=n.length,a=Math.min(s,i);a&&this.parse(0,a),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,n,r=!0){const i=this._cachedMeta,s=i.data,a=e+n;let o;const c=d=>{for(d.length+=n,o=d.length-1;o>=a;o--)d[o]=d[o-n]};for(c(s),o=e;o<a;++o)s[o]=new this.dataElementType;this._parsing&&c(i._parsed),this.parse(e,n),r&&this.updateElements(s,e,n,"reset")}updateElements(e,n,r,i){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,n);r._stacked&&mn(r,i)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,i]=e;this[n](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}W(Yt,"defaults",{}),W(Yt,"datasetElementType",null),W(Yt,"dataElementType",null);function tb(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let i=0,s=n.length;i<s;i++)r=r.concat(n[i].controller.getAllParsedValues(t));t._cache.$bar=iu(r.sort((i,s)=>i-s))}return t._cache.$bar}function nb(t){const e=t.iScale,n=tb(e,t.type);let r=e._length,i,s,a,o;const c=()=>{a===32767||a===-32768||(Wn(o)&&(r=Math.min(r,Math.abs(a-o)||r)),o=a)};for(i=0,s=n.length;i<s;++i)a=e.getPixelForValue(n[i]),c();for(o=void 0,i=0,s=e.ticks.length;i<s;++i)a=e.getPixelForTick(i),c();return r}function rb(t,e,n,r){const i=n.barThickness;let s,a;return ie(i)?(s=e.min*n.categoryPercentage,a=n.barPercentage):(s=i*r,a=1),{chunk:s/r,ratio:a,start:e.pixels[t]-s/2}}function ib(t,e,n,r){const i=e.pixels,s=i[t];let a=t>0?i[t-1]:null,o=t<i.length-1?i[t+1]:null;const c=n.categoryPercentage;a===null&&(a=s-(o===null?e.end-e.start:o-s)),o===null&&(o=s+s-a);const d=s-(s-Math.min(a,o))/2*c;return{chunk:Math.abs(o-a)/2*c/r,ratio:n.barPercentage,start:d}}function sb(t,e,n,r){const i=n.parse(t[0],r),s=n.parse(t[1],r),a=Math.min(i,s),o=Math.max(i,s);let c=a,d=o;Math.abs(a)>Math.abs(o)&&(c=o,d=a),e[n.axis]=d,e._custom={barStart:c,barEnd:d,start:i,end:s,min:a,max:o}}function wu(t,e,n,r){return pe(t)?sb(t,e,n,r):e[n.axis]=n.parse(t,r),e}function xl(t,e,n,r){const i=t.iScale,s=t.vScale,a=i.getLabels(),o=i===s,c=[];let d,u,h,p;for(d=n,u=n+r;d<u;++d)p=e[d],h={},h[i.axis]=o||i.parse(a[d],d),c.push(wu(p,h,s,d));return c}function Ji(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function ab(t,e,n){return t!==0?ft(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function ob(t){let e,n,r,i,s;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(i="end",s="start"):(i="start",s="end"),{start:n,end:r,reverse:e,top:i,bottom:s}}function lb(t,e,n,r){let i=e.borderSkipped;const s={};if(!i){t.borderSkipped=s;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:o,reverse:c,top:d,bottom:u}=ob(t);i==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?i=d:(n._bottom||0)===r?i=u:(s[vl(u,a,o,c)]=!0,i=d)),s[vl(i,a,o,c)]=!0,t.borderSkipped=s}function vl(t,e,n,r){return r?(t=cb(t,e,n),t=bl(t,n,e)):t=bl(t,e,n),t}function cb(t,e,n){return t===e?n:t===n?e:t}function bl(t,e,n){return t==="start"?e:t==="end"?n:t}function db(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Rr extends Yt{parsePrimitiveData(e,n,r,i){return xl(e,n,r,i)}parseArrayData(e,n,r,i){return xl(e,n,r,i)}parseObjectData(e,n,r,i){const{iScale:s,vScale:a}=e,{xAxisKey:o="x",yAxisKey:c="y"}=this._parsing,d=s.axis==="x"?o:c,u=a.axis==="x"?o:c,h=[];let p,f,g,m;for(p=r,f=r+i;p<f;++p)m=n[p],g={},g[s.axis]=s.parse(Mt(m,d),p),h.push(wu(Mt(m,u),g,a,p));return h}updateRangeFromParsed(e,n,r,i){super.updateRangeFromParsed(e,n,r,i);const s=r._custom;s&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:i}=n,s=this.getParsed(e),a=s._custom,o=Ji(a)?"["+a.start+", "+a.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,i){const s=i==="reset",{index:a,_cachedMeta:{vScale:o}}=this,c=o.getBasePixel(),d=o.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:p}=this._getSharedOptions(n,i);for(let f=n;f<n+r;f++){const g=this.getParsed(f),m=s||ie(g[o.axis])?{base:c,head:c}:this._calculateBarValuePixels(f),b=this._calculateBarIndexPixels(f,u),v=(g._stacks||{})[o.axis],x={horizontal:d,base:m.base,enableBorderRadius:!v||Ji(g._custom)||a===v._top||a===v._bottom,x:d?m.head:b.center,y:d?b.center:m.head,height:d?b.size:Math.abs(m.size),width:d?Math.abs(m.size):b.size};p&&(x.options=h||this.resolveDataElementOptions(f,e[f].active?"active":i));const y=x.options||e[f].options;lb(x,y,v,a),db(x,y,u.ratio),this.updateElement(e[f],f,x,i)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),s=r.options.stacked,a=[],o=this._cachedMeta.controller.getParsed(n),c=o&&o[r.axis],d=u=>{const h=u._parsed.find(f=>f[r.axis]===c),p=h&&h[u.vScale.axis];if(ie(p)||isNaN(p))return!0};for(const u of i)if(!(n!==void 0&&d(u))&&((s===!1||a.indexOf(u.stack)===-1||s===void 0&&u.stack===void 0)&&a.push(u.stack),u.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,r){const i=this._getStacks(e,r),s=n!==void 0?i.indexOf(n):-1;return s===-1?i.length-1:s}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,i=[];let s,a;for(s=0,a=n.data.length;s<a;++s)i.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const o=e.barThickness;return{min:o||nb(n),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:i},options:{base:s,minBarLength:a}}=this,o=s||0,c=this.getParsed(e),d=c._custom,u=Ji(d);let h=c[n.axis],p=0,f=r?this.applyStack(n,c,r):h,g,m;f!==h&&(p=f-h,f=h),u&&(h=d.barStart,f=d.barEnd-d.barStart,h!==0&&ft(h)!==ft(d.barEnd)&&(p=0),p+=h);const b=!ie(s)&&!u?s:p;let v=n.getPixelForValue(b);if(this.chart.getDataVisibility(e)?g=n.getPixelForValue(p+f):g=v,m=g-v,Math.abs(m)<a){m=ab(m,n,o)*a,h===o&&(v-=m/2);const x=n.getPixelForDecimal(0),y=n.getPixelForDecimal(1),w=Math.min(x,y),S=Math.max(x,y);v=Math.max(Math.min(v,S),w),g=v+m,r&&!u&&(c._stacks[n.axis]._visualValues[i]=n.getValueForPixel(g)-n.getValueForPixel(v))}if(v===n.getPixelForValue(o)){const x=ft(m)*n.getLineWidthForValue(o)/2;v+=x,m-=x}return{size:m,base:v,head:g,center:g+m/2}}_calculateBarIndexPixels(e,n){const r=n.scale,i=this.options,s=i.skipNull,a=ee(i.maxBarThickness,1/0);let o,c;if(n.grouped){const d=s?this._getStackCount(e):n.stackCount,u=i.barThickness==="flex"?ib(e,n,i,d):rb(e,n,i,d),h=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);o=u.start+u.chunk*h+u.chunk/2,c=Math.min(a,u.chunk*u.ratio)}else o=r.getPixelForValue(this.getParsed(e)[r.axis],e),c=Math.min(a,n.min*n.ratio);return{base:o-c/2,head:o+c/2,center:o,size:c}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,i=r.length;let s=0;for(;s<i;++s)this.getParsed(s)[n.axis]!==null&&!r[s].hidden&&r[s].draw(this._ctx)}}W(Rr,"id","bar"),W(Rr,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),W(Rr,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function ub(t,e,n){let r=1,i=1,s=0,a=0;if(e<he){const o=t,c=o+e,d=Math.cos(o),u=Math.sin(o),h=Math.cos(c),p=Math.sin(c),f=(y,w,S)=>ii(y,o,c,!0)?1:Math.max(w,w*n,S,S*n),g=(y,w,S)=>ii(y,o,c,!0)?-1:Math.min(w,w*n,S,S*n),m=f(0,d,h),b=f(ge,u,p),v=g(fe,d,h),x=g(fe+ge,u,p);r=(m-v)/2,i=(b-x)/2,s=-(m+v)/2,a=-(b+x)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:a}}class Wt extends Yt{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=c=>+r[c];if(Z(r[e])){const{key:c="value"}=this._parsing;s=d=>+Mt(r[d],c)}let a,o;for(a=e,o=e+n;a<o;++a)i._parsed[a]=s(a)}}_getRotation(){return tt(this.options.rotation-90)}_getCircumference(){return tt(this.options.circumference)}_getRotationExtents(){let e=he,n=-he;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),a=i._getCircumference();e=Math.min(e,s),n=Math.max(n,s+a)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,s=i.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,o=Math.max((Math.min(r.width,r.height)-a)/2,0),c=Math.min(Hv(this.options.cutout,o),1),d=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:p,ratioY:f,offsetX:g,offsetY:m}=ub(h,u,c),b=(r.width-a)/p,v=(r.height-a)/f,x=Math.max(Math.min(b,v)/2,0),y=eu(this.options.radius,x),w=Math.max(y*c,0),S=(y-w)/this._getVisibleDatasetWeightTotal();this.offsetX=g*y,this.offsetY=m*y,i.total=this.calculateTotal(),this.outerRadius=y-S*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-S*d,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/he)}updateElements(e,n,r,i){const s=i==="reset",a=this.chart,o=a.chartArea,d=a.options.animation,u=(o.left+o.right)/2,h=(o.top+o.bottom)/2,p=s&&d.animateScale,f=p?0:this.innerRadius,g=p?0:this.outerRadius,{sharedOptions:m,includeOptions:b}=this._getSharedOptions(n,i);let v=this._getRotation(),x;for(x=0;x<n;++x)v+=this._circumference(x,s);for(x=n;x<n+r;++x){const y=this._circumference(x,s),w=e[x],S={x:u+this.offsetX,y:h+this.offsetY,startAngle:v,endAngle:v+y,circumference:y,outerRadius:g,innerRadius:f};b&&(S.options=m||this.resolveDataElementOptions(x,w.active?"active":i)),v+=y,this.updateElement(w,x,S,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,i;for(i=0;i<n.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?he*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=ha(n._parsed[e],r.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let n=0;const r=this.chart;let i,s,a,o,c;if(!e){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){a=r.getDatasetMeta(i),e=a.data,o=a.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)c=o.resolveDataElementOptions(i),c.borderAlign!=="inner"&&(n=Math.max(n,c.borderWidth||0,c.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,i=e.length;r<i;++r){const s=this.resolveDataElementOptions(r);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(ee(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}W(Wt,"id","doughnut"),W(Wt,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),W(Wt,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),W(Wt,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return n.labels.map((s,a)=>{const c=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:i,lineWidth:c.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class Ss extends Wt{}W(Ss,"id","pie"),W(Ss,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function wt(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class wa{constructor(e){W(this,"options");this.options=e||{}}static override(e){Object.assign(wa.prototype,e)}init(){}formats(){return wt()}parse(){return wt()}format(){return wt()}add(){return wt()}diff(){return wt()}startOf(){return wt()}endOf(){return wt()}}var hb={_date:wa};function fb(t,e,n,r){const{controller:i,data:s,_sorted:a}=t,o=i._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(o&&e===o.axis&&e!=="r"&&a&&s.length){const d=o._reversePixels?t1:ws;if(r){if(i._sharedOptions){const u=s[0],h=typeof u.getRange=="function"&&u.getRange(e);if(h){const p=d(s,e,n-h),f=d(s,e,n+h);return{lo:p.lo,hi:f.hi}}}}else{const u=d(s,e,n);if(c){const{vScale:h}=i._cachedMeta,{_parsed:p}=t,f=p.slice(0,u.lo+1).reverse().findIndex(m=>!ie(m[h.axis]));u.lo-=Math.max(0,f);const g=p.slice(u.hi).findIndex(m=>!ie(m[h.axis]));u.hi+=Math.max(0,g)}return u}}return{lo:0,hi:s.length-1}}function Jn(t,e,n,r,i){const s=t.getSortedVisibleDatasetMetas(),a=n[e];for(let o=0,c=s.length;o<c;++o){const{index:d,data:u}=s[o],{lo:h,hi:p}=fb(s[o],e,a,i);for(let f=h;f<=p;++f){const g=u[f];g.skip||r(g,d,f)}}}function pb(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,a=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}function es(t,e,n,r,i){const s=[];return!i&&!t.isPointInArea(e)||Jn(t,n,e,function(o,c,d){!i&&!uu(o,t.chartArea,0)||o.inRange(e.x,e.y,r)&&s.push({element:o,datasetIndex:c,index:d})},!0),s}function gb(t,e,n,r){let i=[];function s(a,o,c){const{startAngle:d,endAngle:u}=a.getProps(["startAngle","endAngle"],r),{angle:h}=nu(a,{x:e.x,y:e.y});ii(h,d,u)&&i.push({element:a,datasetIndex:o,index:c})}return Jn(t,n,e,s),i}function mb(t,e,n,r,i,s){let a=[];const o=pb(n);let c=Number.POSITIVE_INFINITY;function d(u,h,p){const f=u.inRange(e.x,e.y,i);if(r&&!f)return;const g=u.getCenterPoint(i);if(!(!!s||t.isPointInArea(g))&&!f)return;const b=o(e,g);b<c?(a=[{element:u,datasetIndex:h,index:p}],c=b):b===c&&a.push({element:u,datasetIndex:h,index:p})}return Jn(t,n,e,d),a}function ts(t,e,n,r,i,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!r?gb(t,e,n,i):mb(t,e,n,r,i,s)}function yl(t,e,n,r,i){const s=[],a=n==="x"?"inXRange":"inYRange";let o=!1;return Jn(t,n,e,(c,d,u)=>{c[a]&&c[a](e[n],i)&&(s.push({element:c,datasetIndex:d,index:u}),o=o||c.inRange(e.x,e.y,i))}),r&&!o?[]:s}var xb={evaluateInteractionItems:Jn,modes:{index(t,e,n,r){const i=St(e,t),s=n.axis||"x",a=n.includeInvisible||!1,o=n.intersect?es(t,i,s,r,a):ts(t,i,s,!1,r,a),c=[];return o.length?(t.getSortedVisibleDatasetMetas().forEach(d=>{const u=o[0].index,h=d.data[u];h&&!h.skip&&c.push({element:h,datasetIndex:d.index,index:u})}),c):[]},dataset(t,e,n,r){const i=St(e,t),s=n.axis||"xy",a=n.includeInvisible||!1;let o=n.intersect?es(t,i,s,r,a):ts(t,i,s,!1,r,a);if(o.length>0){const c=o[0].datasetIndex,d=t.getDatasetMeta(c).data;o=[];for(let u=0;u<d.length;++u)o.push({element:d[u],datasetIndex:c,index:u})}return o},point(t,e,n,r){const i=St(e,t),s=n.axis||"xy",a=n.includeInvisible||!1;return es(t,i,s,r,a)},nearest(t,e,n,r){const i=St(e,t),s=n.axis||"xy",a=n.includeInvisible||!1;return ts(t,i,s,n.intersect,r,a)},x(t,e,n,r){const i=St(e,t);return yl(t,i,"x",n.intersect,r)},y(t,e,n,r){const i=St(e,t);return yl(t,i,"y",n.intersect,r)}}};const ju=["left","top","right","bottom"];function xn(t,e){return t.filter(n=>n.pos===e)}function wl(t,e){return t.filter(n=>ju.indexOf(n.pos)===-1&&n.box.axis===e)}function vn(t,e){return t.sort((n,r)=>{const i=e?r:n,s=e?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function vb(t){const e=[];let n,r,i,s,a,o;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],{position:s,options:{stack:a,stackWeight:o=1}}=i,e.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&s+a,stackWeight:o});return e}function bb(t){const e={};for(const n of t){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!ju.includes(i))continue;const a=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return e}function yb(t,e){const n=bb(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,a,o;for(s=0,a=t.length;s<a;++s){o=t[s];const{fullSize:c}=o.box,d=n[o.stack],u=d&&o.stackWeight/d.weight;o.horizontal?(o.width=u?u*r:c&&e.availableWidth,o.height=i):(o.width=r,o.height=u?u*i:c&&e.availableHeight)}return n}function wb(t){const e=vb(t),n=vn(e.filter(d=>d.box.fullSize),!0),r=vn(xn(e,"left"),!0),i=vn(xn(e,"right")),s=vn(xn(e,"top"),!0),a=vn(xn(e,"bottom")),o=wl(e,"x"),c=wl(e,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(c).concat(a).concat(o),chartArea:xn(e,"chartArea"),vertical:r.concat(i).concat(c),horizontal:s.concat(a).concat(o)}}function jl(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function Su(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function jb(t,e,n,r){const{pos:i,box:s}=n,a=t.maxPadding;if(!Z(i)){n.size&&(t[i]-=n.size);const h=r[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?s.height:s.width),n.size=h.size/h.count,t[i]+=n.size}s.getPadding&&Su(a,s.getPadding());const o=Math.max(0,e.outerWidth-jl(a,t,"left","right")),c=Math.max(0,e.outerHeight-jl(a,t,"top","bottom")),d=o!==t.w,u=c!==t.h;return t.w=o,t.h=c,n.horizontal?{same:d,other:u}:{same:u,other:d}}function Sb(t){const e=t.maxPadding;function n(r){const i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function Cb(t,e){const n=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(a=>{s[a]=Math.max(e[a],n[a])}),s}return r(t?["left","right"]:["top","bottom"])}function Sn(t,e,n,r){const i=[];let s,a,o,c,d,u;for(s=0,a=t.length,d=0;s<a;++s){o=t[s],c=o.box,c.update(o.width||e.w,o.height||e.h,Cb(o.horizontal,e));const{same:h,other:p}=jb(e,n,o,r);d|=h&&i.length,u=u||p,c.fullSize||i.push(o)}return d&&Sn(i,e,n,r)||u}function Cr(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function Sl(t,e,n,r){const i=n.padding;let{x:s,y:a}=e;for(const o of t){const c=o.box,d=r[o.stack]||{count:1,placed:0,weight:1},u=o.stackWeight/d.weight||1;if(o.horizontal){const h=e.w*u,p=d.size||c.height;Wn(d.start)&&(a=d.start),c.fullSize?Cr(c,i.left,a,n.outerWidth-i.right-i.left,p):Cr(c,e.left+d.placed,a,h,p),d.start=a,d.placed+=h,a=c.bottom}else{const h=e.h*u,p=d.size||c.width;Wn(d.start)&&(s=d.start),c.fullSize?Cr(c,s,i.top,p,n.outerHeight-i.bottom-i.top):Cr(c,s,e.top+d.placed,p,h),d.start=s,d.placed+=h,s=c.right}}e.x=s,e.y=a}var ze={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=Ue(t.options.layout.padding),s=Math.max(e-i.width,0),a=Math.max(n-i.height,0),o=wb(t.boxes),c=o.vertical,d=o.horizontal;re(t.boxes,m=>{typeof m.beforeLayout=="function"&&m.beforeLayout()});const u=c.reduce((m,b)=>b.box.options&&b.box.options.display===!1?m:m+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/u,hBoxMaxHeight:a/2}),p=Object.assign({},i);Su(p,Ue(r));const f=Object.assign({maxPadding:p,w:s,h:a,x:i.left,y:i.top},i),g=yb(c.concat(d),h);Sn(o.fullSize,f,h,g),Sn(c,f,h,g),Sn(d,f,h,g)&&Sn(c,f,h,g),Sb(f),Sl(o.leftAndTop,f,h,g),f.x+=f.w,f.y+=f.h,Sl(o.rightAndBottom,f,h,g),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},re(o.chartArea,m=>{const b=m.box;Object.assign(b,t.chartArea),b.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class Cu{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}updateConfig(e){}}class Nb extends Cu{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Lr="$chartjs",Db={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Cl=t=>t===null||t==="";function Eb(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[Lr]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Cl(i)){const s=dl(t,"width");s!==void 0&&(t.width=s)}if(Cl(r))if(t.style.height==="")t.height=t.width/(e||2);else{const s=dl(t,"height");s!==void 0&&(t.height=s)}return t}const Nu=F1?{passive:!0}:!1;function Ib(t,e,n){t&&t.addEventListener(e,n,Nu)}function Ab(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,Nu)}function _b(t,e){const n=Db[t.type]||t.type,{x:r,y:i}=St(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function oi(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function Pb(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||oi(o.addedNodes,r),a=a&&!oi(o.removedNodes,r);a&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function Mb(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||oi(o.removedNodes,r),a=a&&!oi(o.addedNodes,r);a&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const Gn=new Map;let Nl=0;function Du(){const t=window.devicePixelRatio;t!==Nl&&(Nl=t,Gn.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function Tb(t,e){Gn.size||window.addEventListener("resize",Du),Gn.set(t,e)}function kb(t){Gn.delete(t),Gn.size||window.removeEventListener("resize",Du)}function Ob(t,e,n){const r=t.canvas,i=r&&ya(r);if(!i)return;const s=au((o,c)=>{const d=i.clientWidth;n(o,c),d<i.clientWidth&&n()},window),a=new ResizeObserver(o=>{const c=o[0],d=c.contentRect.width,u=c.contentRect.height;d===0&&u===0||s(d,u)});return a.observe(i),Tb(t,s),a}function ns(t,e,n){n&&n.disconnect(),e==="resize"&&kb(t)}function Rb(t,e,n){const r=t.canvas,i=au(s=>{t.ctx!==null&&n(_b(s,t))},t);return Ib(r,e,i),i}class Lb extends Cu{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(Eb(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[Lr])return!1;const r=n[Lr].initial;["height","width"].forEach(s=>{const a=r[s];ie(a)?n.removeAttribute(s):n.setAttribute(s,a)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[Lr],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),a={attach:Pb,detach:Mb,resize:Ob}[n]||Rb;i[n]=a(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),i=r[n];if(!i)return;({attach:ns,detach:ns,resize:ns}[n]||Ab)(e,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return L1(e,n,r,i)}isAttached(e){const n=e&&ya(e);return!!(n&&n.isConnected)}}function Fb(t){return!ba()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?Nb:Lb}var Pr;let Lt=(Pr=class{constructor(){W(this,"x");W(this,"y");W(this,"active",!1);W(this,"options");W(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return ri(this.x)&&ri(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}},W(Pr,"defaults",{}),W(Pr,"defaultRoutes"),Pr);function Bb(t,e){const n=t.options.ticks,r=zb(t),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?Vb(e):[],a=s.length,o=s[0],c=s[a-1],d=[];if(a>i)return Ub(e,d,s,a/i),d;const u=Hb(s,e,i);if(a>0){let h,p;const f=a>1?Math.round((c-o)/(a-1)):null;for(Nr(e,d,u,ie(f)?0:o-f,o),h=0,p=a-1;h<p;h++)Nr(e,d,u,s[h],s[h+1]);return Nr(e,d,u,c,ie(f)?e.length:c+f),d}return Nr(e,d,u),d}function zb(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function Hb(t,e,n){const r=$b(t),i=e.length/n;if(!r)return Math.max(i,1);const s=Qv(r);for(let a=0,o=s.length-1;a<o;a++){const c=s[a];if(c>i)return c}return Math.max(i,1)}function Vb(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function Ub(t,e,n,r){let i=0,s=n[0],a;for(r=Math.ceil(r),a=0;a<t.length;a++)a===s&&(e.push(t[a]),i++,s=n[i*r])}function Nr(t,e,n,r,i){const s=ee(r,0),a=Math.min(ee(i,t.length),t.length);let o=0,c,d,u;for(n=Math.ceil(n),i&&(c=i-r,n=c/Math.floor(c/n)),u=s;u<0;)o++,u=Math.round(s+o*n);for(d=Math.max(s,0);d<a;d++)d===u&&(e.push(t[d]),o++,u=Math.round(s+o*n))}function $b(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const Wb=t=>t==="left"?"right":t==="right"?"left":t,Dl=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,El=(t,e)=>Math.min(e||t,t);function Il(t,e){const n=[],r=t.length/e,i=t.length;let s=0;for(;s<i;s+=r)n.push(t[Math.floor(s)]);return n}function qb(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),s=t._startPixel,a=t._endPixel,o=1e-6;let c=t.getPixelForTick(i),d;if(!(n&&(r===1?d=Math.max(c-s,a-c):e===0?d=(t.getPixelForTick(1)-c)/2:d=(c-t.getPixelForTick(i-1))/2,c+=i<e?d:-d,c<s-o||c>a+o)))return c}function Gb(t,e){re(t,n=>{const r=n.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function bn(t){return t.drawTicks?t.tickLength:0}function Al(t,e){if(!t.display)return 0;const n=je(t.font,e),r=Ue(t.padding);return(pe(t.text)?t.text.length:1)*n.lineHeight+r.height}function Qb(t,e){return ln(t,{scale:e,type:"scale"})}function Yb(t,e,n){return ln(t,{tick:n,index:e,type:"tick"})}function Kb(t,e,n){let r=ua(t);return(n&&e!=="right"||!n&&e==="right")&&(r=Wb(r)),r}function Xb(t,e,n,r){const{top:i,left:s,bottom:a,right:o,chart:c}=t,{chartArea:d,scales:u}=c;let h=0,p,f,g;const m=a-i,b=o-s;if(t.isHorizontal()){if(f=we(r,s,o),Z(n)){const v=Object.keys(n)[0],x=n[v];g=u[v].getPixelForValue(x)+m-e}else n==="center"?g=(d.bottom+d.top)/2+m-e:g=Dl(t,n,e);p=o-s}else{if(Z(n)){const v=Object.keys(n)[0],x=n[v];f=u[v].getPixelForValue(x)-b+e}else n==="center"?f=(d.left+d.right)/2-b+e:f=Dl(t,n,e);g=we(r,a,i),h=n==="left"?-ge:ge}return{titleX:f,titleY:g,maxWidth:p,rotation:h}}class cn extends Lt{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=Ge(e,Number.POSITIVE_INFINITY),n=Ge(n,Number.NEGATIVE_INFINITY),r=Ge(r,Number.POSITIVE_INFINITY),i=Ge(i,Number.NEGATIVE_INFINITY),{min:Ge(e,r),max:Ge(n,i),minDefined:Ve(e),maxDefined:Ve(n)}}getMinMax(e){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),a;if(i&&s)return{min:n,max:r};const o=this.getMatchingVisibleMetas();for(let c=0,d=o.length;c<d;++c)a=o[c].controller.getMinMax(this,e),i||(n=Math.min(n,a.min)),s||(r=Math.max(r,a.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:Ge(n,Ge(r,n)),max:Ge(r,Ge(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ae(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:i,grace:s,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=j1(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=o<this.ticks.length;this._convertTicksToLabels(c?Il(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=Bb(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ae(this.options.afterUpdate,[this])}beforeSetDimensions(){ae(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ae(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),ae(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ae(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=ae(n.callback,[s.value,r,e],this)}afterTickToLabelConversion(){ae(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ae(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=El(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let a=i,o,c,d;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),h=u.widest.width,p=u.highest.height,f=_e(this.chart.width-h,0,this.maxWidth);o=e.offset?this.maxWidth/r:f/(r-1),h+6>o&&(o=f/(r-(e.offset?.5:1)),c=this.maxHeight-bn(e.grid)-n.padding-Al(e.title,this.chart.options.font),d=Math.sqrt(h*h+p*p),a=Zv(Math.min(Math.asin(_e((u.highest.height+6)/o,-1,1)),Math.asin(_e(c/d,-1,1))-Math.asin(_e(p/d,-1,1)))),a=Math.max(i,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){ae(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ae(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const c=Al(i,n.options.font);if(o?(e.width=this.maxWidth,e.height=bn(s)+c):(e.height=this.maxHeight,e.width=bn(s)+c),r.display&&this.ticks.length){const{first:d,last:u,widest:h,highest:p}=this._getLabelSizes(),f=r.padding*2,g=tt(this.labelRotation),m=Math.cos(g),b=Math.sin(g);if(o){const v=r.mirror?0:b*h.width+m*p.height;e.height=Math.min(this.maxHeight,e.height+v+f)}else{const v=r.mirror?0:m*h.width+b*p.height;e.width=Math.min(this.maxWidth,e.width+v+f)}this._calculatePadding(d,u,b,m)}}this._handleMargins(),o?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,i){const{ticks:{align:s,padding:a},position:o}=this.options,c=this.labelRotation!==0,d=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let p=0,f=0;c?d?(p=i*e.width,f=r*n.height):(p=r*e.height,f=i*n.width):s==="start"?f=n.width:s==="end"?p=e.width:s!=="inner"&&(p=e.width/2,f=n.width/2),this.paddingLeft=Math.max((p-u+a)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-h+a)*this.width/(this.width-h),0)}else{let u=n.height/2,h=e.height/2;s==="start"?(u=0,h=e.height):s==="end"&&(u=n.height,h=0),this.paddingTop=u+a,this.paddingBottom=h+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ae(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)ie(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=Il(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:i,_longestTextCache:s}=this,a=[],o=[],c=Math.floor(n/El(n,r));let d=0,u=0,h,p,f,g,m,b,v,x,y,w,S;for(h=0;h<n;h+=c){if(g=e[h].label,m=this._resolveTickFontOptions(h),i.font=b=m.string,v=s[b]=s[b]||{data:{},gc:[]},x=m.lineHeight,y=w=0,!ie(g)&&!pe(g))y=il(i,v.data,v.gc,y,g),w=x;else if(pe(g))for(p=0,f=g.length;p<f;++p)S=g[p],!ie(S)&&!pe(S)&&(y=il(i,v.data,v.gc,y,S),w+=x);a.push(y),o.push(w),d=Math.max(y,d),u=Math.max(w,u)}Gb(s,n);const C=a.indexOf(d),N=o.indexOf(u),I=E=>({width:a[E]||0,height:o[E]||0});return{first:I(0),last:I(n-1),widest:I(C),highest:I(N),widths:a,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return e1(this._alignToPixels?yt(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=Yb(this.getContext(),e,r))}return this.$context||(this.$context=Qb(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=tt(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),a=e.autoSkipPadding||0,o=s?s.widest.width+a:0,c=s?s.highest.height+a:0;return this.isHorizontal()?c*r>o*i?o/r:c/i:c*i<o*r?c/r:o/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:a,border:o}=i,c=s.offset,d=this.isHorizontal(),h=this.ticks.length+(c?1:0),p=bn(s),f=[],g=o.setContext(this.getContext()),m=g.display?g.width:0,b=m/2,v=function(O){return yt(r,O,m)};let x,y,w,S,C,N,I,E,D,A,_,P;if(a==="top")x=v(this.bottom),N=this.bottom-p,E=x-b,A=v(e.top)+b,P=e.bottom;else if(a==="bottom")x=v(this.top),A=e.top,P=v(e.bottom)-b,N=x+b,E=this.top+p;else if(a==="left")x=v(this.right),C=this.right-p,I=x-b,D=v(e.left)+b,_=e.right;else if(a==="right")x=v(this.left),D=e.left,_=v(e.right)-b,C=x+b,I=this.left+p;else if(n==="x"){if(a==="center")x=v((e.top+e.bottom)/2+.5);else if(Z(a)){const O=Object.keys(a)[0],H=a[O];x=v(this.chart.scales[O].getPixelForValue(H))}A=e.top,P=e.bottom,N=x+b,E=N+p}else if(n==="y"){if(a==="center")x=v((e.left+e.right)/2);else if(Z(a)){const O=Object.keys(a)[0],H=a[O];x=v(this.chart.scales[O].getPixelForValue(H))}C=x-b,I=C-p,D=e.left,_=e.right}const R=ee(i.ticks.maxTicksLimit,h),M=Math.max(1,Math.ceil(h/R));for(y=0;y<h;y+=M){const O=this.getContext(y),H=s.setContext(O),z=o.setContext(O),B=H.lineWidth,F=H.color,K=z.dash||[],k=z.dashOffset,V=H.tickWidth,q=H.tickColor,G=H.tickBorderDash||[],ne=H.tickBorderDashOffset;w=qb(this,y,c),w!==void 0&&(S=yt(r,w,B),d?C=I=D=_=S:N=E=A=P=S,f.push({tx1:C,ty1:N,tx2:I,ty2:E,x1:D,y1:A,x2:_,y2:P,width:B,color:F,borderDash:K,borderDashOffset:k,tickWidth:V,tickColor:q,tickBorderDash:G,tickBorderDashOffset:ne}))}return this._ticksLength=h,this._borderValue=x,f}_computeLabelItems(e){const n=this.axis,r=this.options,{position:i,ticks:s}=r,a=this.isHorizontal(),o=this.ticks,{align:c,crossAlign:d,padding:u,mirror:h}=s,p=bn(r.grid),f=p+u,g=h?-u:f,m=-tt(this.labelRotation),b=[];let v,x,y,w,S,C,N,I,E,D,A,_,P="middle";if(i==="top")C=this.bottom-g,N=this._getXAxisLabelAlignment();else if(i==="bottom")C=this.top+g,N=this._getXAxisLabelAlignment();else if(i==="left"){const M=this._getYAxisLabelAlignment(p);N=M.textAlign,S=M.x}else if(i==="right"){const M=this._getYAxisLabelAlignment(p);N=M.textAlign,S=M.x}else if(n==="x"){if(i==="center")C=(e.top+e.bottom)/2+f;else if(Z(i)){const M=Object.keys(i)[0],O=i[M];C=this.chart.scales[M].getPixelForValue(O)+f}N=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")S=(e.left+e.right)/2-f;else if(Z(i)){const M=Object.keys(i)[0],O=i[M];S=this.chart.scales[M].getPixelForValue(O)}N=this._getYAxisLabelAlignment(p).textAlign}n==="y"&&(c==="start"?P="top":c==="end"&&(P="bottom"));const R=this._getLabelSizes();for(v=0,x=o.length;v<x;++v){y=o[v],w=y.label;const M=s.setContext(this.getContext(v));I=this.getPixelForTick(v)+s.labelOffset,E=this._resolveTickFontOptions(v),D=E.lineHeight,A=pe(w)?w.length:1;const O=A/2,H=M.color,z=M.textStrokeColor,B=M.textStrokeWidth;let F=N;a?(S=I,N==="inner"&&(v===x-1?F=this.options.reverse?"left":"right":v===0?F=this.options.reverse?"right":"left":F="center"),i==="top"?d==="near"||m!==0?_=-A*D+D/2:d==="center"?_=-R.highest.height/2-O*D+D:_=-R.highest.height+D/2:d==="near"||m!==0?_=D/2:d==="center"?_=R.highest.height/2-O*D:_=R.highest.height-A*D,h&&(_*=-1),m!==0&&!M.showLabelBackdrop&&(S+=D/2*Math.sin(m))):(C=I,_=(1-A)*D/2);let K;if(M.showLabelBackdrop){const k=Ue(M.backdropPadding),V=R.heights[v],q=R.widths[v];let G=_-k.top,ne=0-k.left;switch(P){case"middle":G-=V/2;break;case"bottom":G-=V;break}switch(N){case"center":ne-=q/2;break;case"right":ne-=q;break;case"inner":v===x-1?ne-=q:v>0&&(ne-=q/2);break}K={left:ne,top:G,width:q+k.width,height:V+k.height,color:M.backdropColor}}b.push({label:w,font:E,textOffset:_,options:{rotation:m,color:H,strokeColor:z,strokeWidth:B,textAlign:F,textBaseline:P,translation:[S,C],backdrop:K}})}return b}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-tt(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,a=this._getLabelSizes(),o=e+s,c=a.widest.width;let d,u;return n==="left"?i?(u=this.right+s,r==="near"?d="left":r==="center"?(d="center",u+=c/2):(d="right",u+=c)):(u=this.right-o,r==="near"?d="right":r==="center"?(d="center",u-=c/2):(d="left",u=this.left)):n==="right"?i?(u=this.left+s,r==="near"?d="right":r==="center"?(d="center",u-=c/2):(d="left",u-=c)):(u=this.left+o,r==="near"?d="left":r==="center"?(d="center",u+=c/2):(d="right",u=this.right)):d="right",{textAlign:d,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:i,width:s,height:a}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,s,a),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,a;const o=(c,d,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(c.x,c.y),r.lineTo(d.x,d.y),r.stroke(),r.restore())};if(n.display)for(s=0,a=i.length;s<a;++s){const c=i[s];n.drawOnChartArea&&o({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),n.drawTicks&&o({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),a=r.display?s.width:0;if(!a)return;const o=i.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,u,h,p;this.isHorizontal()?(d=yt(e,this.left,a)-a/2,u=yt(e,this.right,o)+o/2,h=p=c):(h=yt(e,this.top,a)-a/2,p=yt(e,this.bottom,o)+o/2,d=u=c),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(d,h),n.lineTo(u,p),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&fa(r,i);const s=this.getLabelItems(e);for(const a of s){const o=a.options,c=a.font,d=a.label,u=a.textOffset;qn(r,d,0,u,c,o)}i&&pa(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=je(r.font),a=Ue(r.padding),o=r.align;let c=s.lineHeight/2;n==="bottom"||n==="center"||Z(n)?(c+=a.bottom,pe(r.text)&&(c+=s.lineHeight*(r.text.length-1))):c+=a.top;const{titleX:d,titleY:u,maxWidth:h,rotation:p}=Xb(this,c,n,o);qn(e,r.text,0,0,s,{color:r.color,maxWidth:h,rotation:p,textAlign:Kb(o,n,i),textBaseline:"middle",translation:[d,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=ee(e.grid&&e.grid.z,-1),i=ee(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==cn.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,a;for(s=0,a=n.length;s<a;++s){const o=n[s];o[r]===this.id&&(!e||o.type===e)&&i.push(o)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return je(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Dr{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;ey(n)&&(r=this.register(n));const i=this.items,s=e.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,Zb(e,a,r),this.override&&de.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in de[i]&&(delete de[i][r],this.override&&delete Tt[r])}}function Zb(t,e,n){const r=$n(Object.create(null),[n?de.get(n):{},de.get(e),t.defaults]);de.set(e,r),t.defaultRoutes&&Jb(e,t.defaultRoutes),t.descriptors&&de.describe(e,t.descriptors)}function Jb(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),s=[t].concat(r).join("."),a=e[n].split("."),o=a.pop(),c=a.join(".");de.route(s,i,c,o)})}function ey(t){return"id"in t&&"defaults"in t}class ty{constructor(){this.controllers=new Dr(Yt,"datasets",!0),this.elements=new Dr(Lt,"elements"),this.plugins=new Dr(Object,"plugins"),this.scales=new Dr(cn,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):re(i,a=>{const o=r||this._getRegistryForType(a);this._exec(e,o,a)})})}_exec(e,n,r){const i=ca(e);ae(r["before"+i],[],r),n[e](r),ae(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var Ye=new ty;class ny{constructor(){this._init=[]}notify(e,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),a=this._notify(s,e,n,r);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,n,r,i){i=i||{};for(const s of e){const a=s.plugin,o=a[r],c=[n,i,s.options];if(ae(o,c,a)===!1&&i.cancelable)return!1}return!0}invalidate(){ie(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,i=ee(r.options&&r.options.plugins,{}),s=ry(r);return i===!1&&!n?[]:sy(e,s,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,i=(s,a)=>s.filter(o=>!a.some(c=>o.plugin.id===c.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}}function ry(t){const e={},n=[],r=Object.keys(Ye.plugins.items);for(let s=0;s<r.length;s++)n.push(Ye.getPlugin(r[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const a=i[s];n.indexOf(a)===-1&&(n.push(a),e[a.id]=!0)}return{plugins:n,localIds:e}}function iy(t,e){return!e&&t===!1?null:t===!0?{}:t}function sy(t,{plugins:e,localIds:n},r,i){const s=[],a=t.getContext();for(const o of e){const c=o.id,d=iy(r[c],i);d!==null&&s.push({plugin:o,options:ay(t.config,{plugin:o,local:n[c]},d,a)})}return s}function ay(t,{plugin:e,local:n},r,i){const s=t.pluginScopeKeys(e),a=t.getOptionScopes(r,s);return n&&e.defaults&&a.push(e.defaults),t.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Cs(t,e){const n=de.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function oy(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function ly(t,e){return t===e?"_index_":"_value_"}function _l(t){if(t==="x"||t==="y"||t==="r")return t}function cy(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Ns(t,...e){if(_l(t))return t;for(const n of e){const r=n.axis||cy(n.position)||t.length>1&&_l(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Pl(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function dy(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return Pl(t,"x",n[0])||Pl(t,"y",n[0])}return{}}function uy(t,e){const n=Tt[t.type]||{scales:{}},r=e.scales||{},i=Cs(t.type,e),s=Object.create(null);return Object.keys(r).forEach(a=>{const o=r[a];if(!Z(o))return console.error(`Invalid scale configuration for scale: ${a}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const c=Ns(a,o,dy(a,t),de.scales[o.type]),d=ly(c,i),u=n.scales||{};s[a]=_n(Object.create(null),[{axis:c},o,u[c],u[d]])}),t.data.datasets.forEach(a=>{const o=a.type||t.type,c=a.indexAxis||Cs(o,e),u=(Tt[o]||{}).scales||{};Object.keys(u).forEach(h=>{const p=oy(h,c),f=a[p+"AxisID"]||p;s[f]=s[f]||Object.create(null),_n(s[f],[{axis:p},r[f],u[h]])})}),Object.keys(s).forEach(a=>{const o=s[a];_n(o,[de.scales[o.type],de.scale])}),s}function Eu(t){const e=t.options||(t.options={});e.plugins=ee(e.plugins,{}),e.scales=uy(t,e)}function Iu(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function hy(t){return t=t||{},t.data=Iu(t.data),Eu(t),t}const Ml=new Map,Au=new Set;function Er(t,e){let n=Ml.get(t);return n||(n=e(),Ml.set(t,n),Au.add(n)),n}const yn=(t,e,n)=>{const r=Mt(e,n);r!==void 0&&t.add(r)};class fy{constructor(e){this._config=hy(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Iu(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Eu(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Er(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Er(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Er(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return Er(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){const{options:i,type:s}=this,a=this._cachedScopes(e,r),o=a.get(n);if(o)return o;const c=new Set;n.forEach(u=>{e&&(c.add(e),u.forEach(h=>yn(c,e,h))),u.forEach(h=>yn(c,i,h)),u.forEach(h=>yn(c,Tt[s]||{},h)),u.forEach(h=>yn(c,de,h)),u.forEach(h=>yn(c,js,h))});const d=Array.from(c);return d.length===0&&d.push(Object.create(null)),Au.has(n)&&a.set(n,d),d}chartOptionScopes(){const{options:e,type:n}=this;return[e,Tt[n]||{},de.datasets[n]||{},{type:n},de,js]}resolveNamedOptions(e,n,r,i=[""]){const s={$shared:!0},{resolver:a,subPrefixes:o}=Tl(this._resolverCache,e,i);let c=a;if(gy(a,n)){s.$shared=!1,r=gt(r)?r():r;const d=this.createResolver(e,r,o);c=en(a,r,d)}for(const d of n)s[d]=c[d];return s}createResolver(e,n,r=[""],i){const{resolver:s}=Tl(this._resolverCache,e,r);return Z(n)?en(s,n,void 0,i):s}}function Tl(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let s=r.get(i);return s||(s={resolver:ma(e,n),subPrefixes:n.filter(o=>!o.toLowerCase().includes("hover"))},r.set(i,s)),s}const py=t=>Z(t)&&Object.getOwnPropertyNames(t).some(e=>gt(t[e]));function gy(t,e){const{isScriptable:n,isIndexable:r}=fu(t);for(const i of e){const s=n(i),a=r(i),o=(a||s)&&t[i];if(s&&(gt(o)||py(o))||a&&pe(o))return!0}return!1}var my="4.4.8";const xy=["top","bottom","left","right","chartArea"];function kl(t,e){return t==="top"||t==="bottom"||xy.indexOf(t)===-1&&e==="x"}function Ol(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function Rl(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),ae(n&&n.onComplete,[t],e)}function vy(t){const e=t.chart,n=e.options.animation;ae(n&&n.onProgress,[t],e)}function _u(t){return ba()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Fr={},Ll=t=>{const e=_u(t);return Object.values(Fr).filter(n=>n.canvas===e).pop()};function by(t,e,n){const r=Object.keys(t);for(const i of r){const s=+i;if(s>=e){const a=t[i];delete t[i],(n>0||s>e)&&(t[s+n]=a)}}}function yy(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}function Ir(t,e,n){return t.options.clip?t[n]:e[n]}function wy(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:Ir(n,e,"left"),right:Ir(n,e,"right"),top:Ir(r,e,"top"),bottom:Ir(r,e,"bottom")}:e}var it;let Di=(it=class{static register(...e){Ye.add(...e),Fl()}static unregister(...e){Ye.remove(...e),Fl()}constructor(e,n){const r=this.config=new fy(n),i=_u(e),s=Ll(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||Fb(i)),this.platform.updateConfig(r);const o=this.platform.acquireContext(i,a.aspectRatio),c=o&&o.canvas,d=c&&c.height,u=c&&c.width;if(this.id=zv(),this.ctx=o,this.canvas=c,this.width=u,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new ny,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=i1(h=>this.update(h),a.resizeDelay||0),this._dataChanges=[],Fr[this.id]=this,!o||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Xe.listen(this,"complete",Rl),Xe.listen(this,"progress",vy),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return ie(e)?n&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Ye}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():cl(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return sl(this.canvas,this.ctx),this}stop(){return Xe.stop(this),this}resize(e,n){Xe.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(i,e,n,s),o=r.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,cl(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),ae(r.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};re(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,i=Object.keys(r).reduce((a,o)=>(a[o]=!1,a),{});let s=[];n&&(s=s.concat(Object.keys(n).map(a=>{const o=n[a],c=Ns(a,o),d=c==="r",u=c==="x";return{options:o,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),re(s,a=>{const o=a.options,c=o.id,d=Ns(c,o),u=ee(o.type,a.dtype);(o.position===void 0||kl(o.position,d)!==kl(a.dposition))&&(o.position=a.dposition),i[c]=!0;let h=null;if(c in r&&r[c].type===u)h=r[c];else{const p=Ye.getScale(u);h=new p({id:c,type:u,ctx:this.ctx,chart:this}),r[h.id]=h}h.init(o,e)}),re(i,(a,o)=>{a||delete r[o]}),re(r,a=>{ze.configure(this,a,a.options),ze.addBox(this,a)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(Ol("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let a=this.getDatasetMeta(r);const o=s.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=o,a.indexAxis=s.indexAxis||Cs(o,this.options),a.order=s.order||0,a.index=r,a.label=""+s.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{const c=Ye.getController(o),{datasetElementType:d,dataElementType:u}=de.datasets[o];Object.assign(c,{dataElementType:Ye.getElement(u),datasetElementType:d&&Ye.getElement(d)}),a.controller=new c(this,r),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){re(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,u=this.data.datasets.length;d<u;d++){const{controller:h}=this.getDatasetMeta(d),p=!i&&s.indexOf(h)===-1;h.buildOrUpdateElements(p),a=Math.max(+h.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),i||re(s,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Ol("z","_idx"));const{_active:o,_lastEvent:c}=this;c?this._eventHandler(c,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){re(this.scales,e=>{ze.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!Yo(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const a=r==="_removeElements"?-s:s;by(e,i,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(e.filter(a=>a[0]===s).map((a,o)=>o+","+a.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!Yo(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ze.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],re(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,gt(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Xe.has(this)?this.attached&&!Xe.running(this)&&Xe.start(this):(this.draw(),Rl({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const a=n[i];(!e||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r=e._clip,i=!r.disabled,s=wy(e,this.chartArea),a={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(i&&fa(n,{left:r.left===!1?0:s.left-r.left,right:r.right===!1?this.width:s.right+r.right,top:r.top===!1?0:s.top-r.top,bottom:r.bottom===!1?this.height:s.bottom+r.bottom}),e.controller.draw(),i&&pa(n),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return uu(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,i){const s=xb.modes[n];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=ln(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,i);Wn(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(s,{visible:r}),this.update(o=>o.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Xe.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),sl(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Fr[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(s,a)=>{n.addEventListener(this,s,a),e[s]=a},i=(s,a,o)=>{s.offsetX=a,s.offsetY=o,this._eventHandler(s)};re(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(c,d)=>{n.addEventListener(this,c,d),e[c]=d},i=(c,d)=>{e[c]&&(n.removeEventListener(this,c,d),delete e[c])},s=(c,d)=>{this.canvas&&this.resize(c,d)};let a;const o=()=>{i("attach",o),this.attached=!0,this.resize(),r("resize",s),r("detach",a)};a=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",o)},n.isAttached(this.canvas)?o():a()}unbindEvents(){re(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},re(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const i=r?"set":"remove";let s,a,o,c;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),o=0,c=e.length;o<c;++o){a=e[o];const d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[i+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:s,index:a})=>{const o=this.getDatasetMeta(s);if(!o)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:o.data[a],index:a}});!ei(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const i=this.options.hover,s=(c,d)=>c.filter(u=>!d.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),a=s(n,e),o=r?e:s(e,n);a.length&&this.updateHoverStyle(a,i.mode,!1),o.length&&i.mode&&this.updateHoverStyle(o,i.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:i=[],options:s}=this,a=n,o=this._getActiveElements(e,i,r,a),c=qv(e),d=yy(e,this._lastEvent,r,c);r&&(this._lastEvent=null,ae(s.onHover,[e,o,this],this),c&&ae(s.onClick,[e,o,this],this));const u=!ei(o,i);return(u||n)&&(this._active=o,this._updateHoverStyles(o,i,n)),this._lastEvent=d,u}_getActiveElements(e,n,r,i){if(e.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}},W(it,"defaults",de),W(it,"instances",Fr),W(it,"overrides",Tt),W(it,"registry",Ye),W(it,"version",my),W(it,"getChart",Ll),it);function Fl(){return re(Di.instances,t=>t._plugins.invalidate())}function jy(t,e,n){const{startAngle:r,pixelMargin:i,x:s,y:a,outerRadius:o,innerRadius:c}=e;let d=i/o;t.beginPath(),t.arc(s,a,o,r-d,n+d),c>i?(d=i/c,t.arc(s,a,c,n+d,r-d,!0)):t.arc(s,a,i,n+ge,r-ge),t.closePath(),t.clip()}function Sy(t){return ga(t,["outerStart","outerEnd","innerStart","innerEnd"])}function Cy(t,e,n,r){const i=Sy(t.options.borderRadius),s=(n-e)/2,a=Math.min(s,r*e/2),o=c=>{const d=(n-Math.min(s,c))*r/2;return _e(c,0,Math.min(s,d))};return{outerStart:o(i.outerStart),outerEnd:o(i.outerEnd),innerStart:_e(i.innerStart,0,a),innerEnd:_e(i.innerEnd,0,a)}}function $t(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function li(t,e,n,r,i,s){const{x:a,y:o,startAngle:c,pixelMargin:d,innerRadius:u}=e,h=Math.max(e.outerRadius+r+n-d,0),p=u>0?u+r+n+d:0;let f=0;const g=i-c;if(r){const M=u>0?u-r:0,O=h>0?h-r:0,H=(M+O)/2,z=H!==0?g*H/(H+r):g;f=(g-z)/2}const m=Math.max(.001,g*h-n/fe)/h,b=(g-m)/2,v=c+b+f,x=i-b-f,{outerStart:y,outerEnd:w,innerStart:S,innerEnd:C}=Cy(e,p,h,x-v),N=h-y,I=h-w,E=v+y/N,D=x-w/I,A=p+S,_=p+C,P=v+S/A,R=x-C/_;if(t.beginPath(),s){const M=(E+D)/2;if(t.arc(a,o,h,E,M),t.arc(a,o,h,M,D),w>0){const B=$t(I,D,a,o);t.arc(B.x,B.y,w,D,x+ge)}const O=$t(_,x,a,o);if(t.lineTo(O.x,O.y),C>0){const B=$t(_,R,a,o);t.arc(B.x,B.y,C,x+ge,R+Math.PI)}const H=(x-C/p+(v+S/p))/2;if(t.arc(a,o,p,x-C/p,H,!0),t.arc(a,o,p,H,v+S/p,!0),S>0){const B=$t(A,P,a,o);t.arc(B.x,B.y,S,P+Math.PI,v-ge)}const z=$t(N,v,a,o);if(t.lineTo(z.x,z.y),y>0){const B=$t(N,E,a,o);t.arc(B.x,B.y,y,v-ge,E)}}else{t.moveTo(a,o);const M=Math.cos(E)*h+a,O=Math.sin(E)*h+o;t.lineTo(M,O);const H=Math.cos(D)*h+a,z=Math.sin(D)*h+o;t.lineTo(H,z)}t.closePath()}function Ny(t,e,n,r,i){const{fullCircles:s,startAngle:a,circumference:o}=e;let c=e.endAngle;if(s){li(t,e,n,r,c,i);for(let d=0;d<s;++d)t.fill();isNaN(o)||(c=a+(o%he||he))}return li(t,e,n,r,c,i),t.fill(),c}function Dy(t,e,n,r,i){const{fullCircles:s,startAngle:a,circumference:o,options:c}=e,{borderWidth:d,borderJoinStyle:u,borderDash:h,borderDashOffset:p}=c,f=c.borderAlign==="inner";if(!d)return;t.setLineDash(h||[]),t.lineDashOffset=p,f?(t.lineWidth=d*2,t.lineJoin=u||"round"):(t.lineWidth=d,t.lineJoin=u||"bevel");let g=e.endAngle;if(s){li(t,e,n,r,g,i);for(let m=0;m<s;++m)t.stroke();isNaN(o)||(g=a+(o%he||he))}f&&jy(t,e,g),s||(li(t,e,n,r,g,i),t.stroke())}class Cn extends Lt{constructor(n){super();W(this,"circumference");W(this,"endAngle");W(this,"fullCircles");W(this,"innerRadius");W(this,"outerRadius");W(this,"pixelMargin");W(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.getProps(["x","y"],i),{angle:a,distance:o}=nu(s,{x:n,y:r}),{startAngle:c,endAngle:d,innerRadius:u,outerRadius:h,circumference:p}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),f=(this.options.spacing+this.options.borderWidth)/2,g=ee(p,d-c),m=ii(a,c,d)&&c!==d,b=g>=he||m,v=Ct(o,u+f,h+f);return b&&v}getCenterPoint(n){const{x:r,y:i,startAngle:s,endAngle:a,innerRadius:o,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:d,spacing:u}=this.options,h=(s+a)/2,p=(o+c+u+d)/2;return{x:r+Math.cos(h)*p,y:i+Math.sin(h)*p}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:i}=this,s=(r.offset||0)/4,a=(r.spacing||0)/2,o=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=i>he?Math.floor(i/he):0,i===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const c=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(c)*s,Math.sin(c)*s);const d=1-Math.sin(Math.min(fe,i||0)),u=s*d;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,Ny(n,this,u,a,o),Dy(n,this,u,a,o),n.restore()}}W(Cn,"id","arc"),W(Cn,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),W(Cn,"defaultRoutes",{backgroundColor:"backgroundColor"}),W(Cn,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function Pu(t,e){const{x:n,y:r,base:i,width:s,height:a}=t.getProps(["x","y","base","width","height"],e);let o,c,d,u,h;return t.horizontal?(h=a/2,o=Math.min(n,i),c=Math.max(n,i),d=r-h,u=r+h):(h=s/2,o=n-h,c=n+h,d=Math.min(r,i),u=Math.max(r,i)),{left:o,top:d,right:c,bottom:u}}function lt(t,e,n,r){return t?0:_e(e,n,r)}function Ey(t,e,n){const r=t.options.borderWidth,i=t.borderSkipped,s=hu(r);return{t:lt(i.top,s.top,0,n),r:lt(i.right,s.right,0,e),b:lt(i.bottom,s.bottom,0,n),l:lt(i.left,s.left,0,e)}}function Iy(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,s=Gt(i),a=Math.min(e,n),o=t.borderSkipped,c=r||Z(i);return{topLeft:lt(!c||o.top||o.left,s.topLeft,0,a),topRight:lt(!c||o.top||o.right,s.topRight,0,a),bottomLeft:lt(!c||o.bottom||o.left,s.bottomLeft,0,a),bottomRight:lt(!c||o.bottom||o.right,s.bottomRight,0,a)}}function Ay(t){const e=Pu(t),n=e.right-e.left,r=e.bottom-e.top,i=Ey(t,n/2,r/2),s=Iy(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function rs(t,e,n,r){const i=e===null,s=n===null,o=t&&!(i&&s)&&Pu(t,r);return o&&(i||Ct(e,o.left,o.right))&&(s||Ct(n,o.top,o.bottom))}function _y(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function Py(t,e){t.rect(e.x,e.y,e.w,e.h)}function is(t,e,n={}){const r=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-r,a=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+r,y:t.y+i,w:t.w+s,h:t.h+a,radius:t.radius}}class Br extends Lt{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:a}=Ay(this),o=_y(a.radius)?si:Py;e.save(),(a.w!==s.w||a.h!==s.h)&&(e.beginPath(),o(e,is(a,n,s)),e.clip(),o(e,is(s,-n,a)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),o(e,is(s,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,r){return rs(this,e,n,r)}inXRange(e,n){return rs(this,e,null,n)}inYRange(e,n){return rs(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(n+i)/2:n,y:s?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}W(Br,"id","bar"),W(Br,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),W(Br,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Bl=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},My=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class zl extends Lt{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=ae(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=je(r.font),s=i.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:c}=Bl(r,s);let d,u;n.font=i.string,this.isHorizontal()?(d=this.maxWidth,u=this._fitRows(a,s,o,c)+10):(u=this.maxHeight,d=this._fitCols(a,i,o,c)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,i){const{ctx:s,maxWidth:a,options:{labels:{padding:o}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],u=i+o;let h=e;s.textAlign="left",s.textBaseline="middle";let p=-1,f=-u;return this.legendItems.forEach((g,m)=>{const b=r+n/2+s.measureText(g.text).width;(m===0||d[d.length-1]+b+2*o>a)&&(h+=u,d[d.length-(m>0?0:1)]=0,f+=u,p++),c[m]={left:0,top:f,row:p,width:b,height:i},d[d.length-1]+=b+o}),h}_fitCols(e,n,r,i){const{ctx:s,maxHeight:a,options:{labels:{padding:o}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],u=a-e;let h=o,p=0,f=0,g=0,m=0;return this.legendItems.forEach((b,v)=>{const{itemWidth:x,itemHeight:y}=Ty(r,n,s,b,i);v>0&&f+y+2*o>u&&(h+=p+o,d.push({width:p,height:f}),g+=p+o,m++,p=f=0),c[v]={left:g,top:f,col:m,width:x,height:y},p=Math.max(p,x),f+=y+o}),h+=p,d.push({width:p,height:f}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,a=Qt(s,this.left,this.width);if(this.isHorizontal()){let o=0,c=we(r,this.left+i,this.right-this.lineWidths[o]);for(const d of n)o!==d.row&&(o=d.row,c=we(r,this.left+i,this.right-this.lineWidths[o])),d.top+=this.top+e+i,d.left=a.leftForLtr(a.x(c),d.width),c+=d.width+i}else{let o=0,c=we(r,this.top+e+i,this.bottom-this.columnSizes[o].height);for(const d of n)d.col!==o&&(o=d.col,c=we(r,this.top+e+i,this.bottom-this.columnSizes[o].height)),d.top=c,d.left+=this.left+i,d.left=a.leftForLtr(a.x(d.left),d.width),c+=d.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;fa(e,this),this._draw(),pa(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:a}=e,o=de.color,c=Qt(e.rtl,this.left,this.width),d=je(a.font),{padding:u}=a,h=d.size,p=h/2;let f;this.drawTitle(),i.textAlign=c.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=d.string;const{boxWidth:g,boxHeight:m,itemHeight:b}=Bl(a,h),v=function(C,N,I){if(isNaN(g)||g<=0||isNaN(m)||m<0)return;i.save();const E=ee(I.lineWidth,1);if(i.fillStyle=ee(I.fillStyle,o),i.lineCap=ee(I.lineCap,"butt"),i.lineDashOffset=ee(I.lineDashOffset,0),i.lineJoin=ee(I.lineJoin,"miter"),i.lineWidth=E,i.strokeStyle=ee(I.strokeStyle,o),i.setLineDash(ee(I.lineDash,[])),a.usePointStyle){const D={radius:m*Math.SQRT2/2,pointStyle:I.pointStyle,rotation:I.rotation,borderWidth:E},A=c.xPlus(C,g/2),_=N+p;du(i,D,A,_,a.pointStyleWidth&&g)}else{const D=N+Math.max((h-m)/2,0),A=c.leftForLtr(C,g),_=Gt(I.borderRadius);i.beginPath(),Object.values(_).some(P=>P!==0)?si(i,{x:A,y:D,w:g,h:m,radius:_}):i.rect(A,D,g,m),i.fill(),E!==0&&i.stroke()}i.restore()},x=function(C,N,I){qn(i,I.text,C,N+b/2,d,{strikethrough:I.hidden,textAlign:c.textAlign(I.textAlign)})},y=this.isHorizontal(),w=this._computeTitleHeight();y?f={x:we(s,this.left+u,this.right-r[0]),y:this.top+u+w,line:0}:f={x:this.left+u,y:we(s,this.top+w+u,this.bottom-n[0].height),line:0},xu(this.ctx,e.textDirection);const S=b+u;this.legendItems.forEach((C,N)=>{i.strokeStyle=C.fontColor,i.fillStyle=C.fontColor;const I=i.measureText(C.text).width,E=c.textAlign(C.textAlign||(C.textAlign=a.textAlign)),D=g+p+I;let A=f.x,_=f.y;c.setWidth(this.width),y?N>0&&A+D+u>this.right&&(_=f.y+=S,f.line++,A=f.x=we(s,this.left+u,this.right-r[f.line])):N>0&&_+S>this.bottom&&(A=f.x=A+n[f.line].width+u,f.line++,_=f.y=we(s,this.top+w+u,this.bottom-n[f.line].height));const P=c.x(A);if(v(P,_,C),A=s1(E,A+g+p,y?A+D:this.right,e.rtl),x(c.x(A),_,C),y)f.x+=D+u;else if(typeof C.text!="string"){const R=d.lineHeight;f.y+=Mu(C,R)+u}else f.y+=S}),vu(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=je(n.font),i=Ue(n.padding);if(!n.display)return;const s=Qt(e.rtl,this.left,this.width),a=this.ctx,o=n.position,c=r.size/2,d=i.top+c;let u,h=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),u=this.top+d,h=we(e.align,h,this.right-p);else{const g=this.columnSizes.reduce((m,b)=>Math.max(m,b.height),0);u=d+we(e.align,this.top,this.bottom-g-e.labels.padding-this._computeTitleHeight())}const f=we(o,h,h+p);a.textAlign=s.textAlign(ua(o)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=r.string,qn(a,n.text,f,u,r)}_computeTitleHeight(){const e=this.options.title,n=je(e.font),r=Ue(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,i,s;if(Ct(e,this.left,this.right)&&Ct(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],Ct(e,i.left,i.left+i.width)&&Ct(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!Ry(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=My(i,r);i&&!s&&ae(n.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&ae(n.onHover,[e,r,this],this)}else r&&ae(n.onClick,[e,r,this],this)}}function Ty(t,e,n,r,i){const s=ky(r,t,e,n),a=Oy(i,r,e.lineHeight);return{itemWidth:s,itemHeight:a}}function ky(t,e,n,r){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((s,a)=>s.length>a.length?s:a)),e+n.size/2+r.measureText(i).width}function Oy(t,e,n){let r=t;return typeof e.text!="string"&&(r=Mu(e,n)),r}function Mu(t,e){const n=t.text?t.text.length:0;return e*n}function Ry(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Ly={id:"legend",_element:zl,start(t,e,n){const r=t.legend=new zl({ctx:t.ctx,options:n,chart:t});ze.configure(t,r,n),ze.addBox(t,r)},stop(t){ze.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;ze.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:a,borderRadius:o}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(n?0:void 0),u=Ue(d.borderWidth);return{text:e[c.index].label,fillStyle:d.backgroundColor,fontColor:s,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:d.borderColor,pointStyle:r||d.pointStyle,rotation:d.rotation,textAlign:i||d.textAlign,borderRadius:a&&(o||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Tu extends Lt{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=pe(r.text)?r.text.length:1;this._padding=Ue(r.padding);const s=i*je(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:i,right:s,options:a}=this,o=a.align;let c=0,d,u,h;return this.isHorizontal()?(u=we(o,r,s),h=n+e,d=s-r):(a.position==="left"?(u=r+e,h=we(o,i,n),c=fe*-.5):(u=s-e,h=we(o,n,i),c=fe*.5),d=i-n),{titleX:u,titleY:h,maxWidth:d,rotation:c}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=je(n.font),s=r.lineHeight/2+this._padding.top,{titleX:a,titleY:o,maxWidth:c,rotation:d}=this._drawArgs(s);qn(e,n.text,0,0,r,{color:n.color,maxWidth:c,rotation:d,textAlign:ua(n.align),textBaseline:"middle",translation:[a,o]})}}function Fy(t,e){const n=new Tu({ctx:t.ctx,options:e,chart:t});ze.configure(t,n,e),ze.addBox(t,n),t.titleBlock=n}var By={id:"title",_element:Tu,start(t,e,n){Fy(t,n)},stop(t){const e=t.titleBlock;ze.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;ze.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Nn={average(t){if(!t.length)return!1;let e,n,r=new Set,i=0,s=0;for(e=0,n=t.length;e<n;++e){const o=t[e].element;if(o&&o.hasValue()){const c=o.tooltipPosition();r.add(c.x),i+=c.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((o,c)=>o+c)/r.size,y:i/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,a,o;for(s=0,a=t.length;s<a;++s){const c=t[s].element;if(c&&c.hasValue()){const d=c.getCenterPoint(),u=Jv(e,d);u<i&&(i=u,o=c)}}if(o){const c=o.tooltipPosition();n=c.x,r=c.y}return{x:n,y:r}}};function Qe(t,e){return e&&(pe(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Ze(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function zy(t,e){const{element:n,datasetIndex:r,index:i}=e,s=t.getDatasetMeta(r).controller,{label:a,value:o}=s.getLabelAndValue(i);return{chart:t,label:a,parsed:s.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:o,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function Hl(t,e){const n=t.chart.ctx,{body:r,footer:i,title:s}=t,{boxWidth:a,boxHeight:o}=e,c=je(e.bodyFont),d=je(e.titleFont),u=je(e.footerFont),h=s.length,p=i.length,f=r.length,g=Ue(e.padding);let m=g.height,b=0,v=r.reduce((w,S)=>w+S.before.length+S.lines.length+S.after.length,0);if(v+=t.beforeBody.length+t.afterBody.length,h&&(m+=h*d.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),v){const w=e.displayColors?Math.max(o,c.lineHeight):c.lineHeight;m+=f*w+(v-f)*c.lineHeight+(v-1)*e.bodySpacing}p&&(m+=e.footerMarginTop+p*u.lineHeight+(p-1)*e.footerSpacing);let x=0;const y=function(w){b=Math.max(b,n.measureText(w).width+x)};return n.save(),n.font=d.string,re(t.title,y),n.font=c.string,re(t.beforeBody.concat(t.afterBody),y),x=e.displayColors?a+2+e.boxPadding:0,re(r,w=>{re(w.before,y),re(w.lines,y),re(w.after,y)}),x=0,n.font=u.string,re(t.footer,y),n.restore(),b+=g.width,{width:b,height:m}}function Hy(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function Vy(t,e,n,r){const{x:i,width:s}=r,a=n.caretSize+n.caretPadding;if(t==="left"&&i+s+a>e.width||t==="right"&&i-s-a<0)return!0}function Uy(t,e,n,r){const{x:i,width:s}=n,{width:a,chartArea:{left:o,right:c}}=t;let d="center";return r==="center"?d=i<=(o+c)/2?"left":"right":i<=s/2?d="left":i>=a-s/2&&(d="right"),Vy(d,t,e,n)&&(d="center"),d}function Vl(t,e,n){const r=n.yAlign||e.yAlign||Hy(t,n);return{xAlign:n.xAlign||e.xAlign||Uy(t,e,n,r),yAlign:r}}function $y(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function Wy(t,e,n){let{y:r,height:i}=t;return e==="top"?r+=n:e==="bottom"?r-=i+n:r-=i/2,r}function Ul(t,e,n,r){const{caretSize:i,caretPadding:s,cornerRadius:a}=t,{xAlign:o,yAlign:c}=n,d=i+s,{topLeft:u,topRight:h,bottomLeft:p,bottomRight:f}=Gt(a);let g=$y(e,o);const m=Wy(e,c,d);return c==="center"?o==="left"?g+=d:o==="right"&&(g-=d):o==="left"?g-=Math.max(u,p)+i:o==="right"&&(g+=Math.max(h,f)+i),{x:_e(g,0,r.width-e.width),y:_e(m,0,r.height-e.height)}}function Ar(t,e,n){const r=Ue(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function $l(t){return Qe([],Ze(t))}function qy(t,e,n){return ln(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Wl(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const ku={beforeTitle:Ke,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Ke,beforeBody:Ke,beforeLabel:Ke,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return ie(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Ke,afterBody:Ke,beforeFooter:Ke,footer:Ke,afterFooter:Ke};function Ee(t,e,n,r){const i=t[e].call(n,r);return typeof i>"u"?ku[e].call(n,r):i}class Ds extends Lt{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new bu(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=qy(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,i=Ee(r,"beforeTitle",this,e),s=Ee(r,"title",this,e),a=Ee(r,"afterTitle",this,e);let o=[];return o=Qe(o,Ze(i)),o=Qe(o,Ze(s)),o=Qe(o,Ze(a)),o}getBeforeBody(e,n){return $l(Ee(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,i=[];return re(e,s=>{const a={before:[],lines:[],after:[]},o=Wl(r,s);Qe(a.before,Ze(Ee(o,"beforeLabel",this,s))),Qe(a.lines,Ee(o,"label",this,s)),Qe(a.after,Ze(Ee(o,"afterLabel",this,s))),i.push(a)}),i}getAfterBody(e,n){return $l(Ee(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,i=Ee(r,"beforeFooter",this,e),s=Ee(r,"footer",this,e),a=Ee(r,"afterFooter",this,e);let o=[];return o=Qe(o,Ze(i)),o=Qe(o,Ze(s)),o=Qe(o,Ze(a)),o}_createItems(e){const n=this._active,r=this.chart.data,i=[],s=[],a=[];let o=[],c,d;for(c=0,d=n.length;c<d;++c)o.push(zy(this.chart,n[c]));return e.filter&&(o=o.filter((u,h,p)=>e.filter(u,h,p,r))),e.itemSort&&(o=o.sort((u,h)=>e.itemSort(u,h,r))),re(o,u=>{const h=Wl(e.callbacks,u);i.push(Ee(h,"labelColor",this,u)),s.push(Ee(h,"labelPointStyle",this,u)),a.push(Ee(h,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=o,o}update(e,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,a=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const o=Nn[r.position].call(this,i,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const c=this._size=Hl(this,r),d=Object.assign({},o,c),u=Vl(this.chart,r,d),h=Ul(r,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:o.x,caretY:o.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,i){const s=this.getCaretPosition(e,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:a,cornerRadius:o}=r,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:h}=Gt(o),{x:p,y:f}=e,{width:g,height:m}=n;let b,v,x,y,w,S;return s==="center"?(w=f+m/2,i==="left"?(b=p,v=b-a,y=w+a,S=w-a):(b=p+g,v=b+a,y=w-a,S=w+a),x=b):(i==="left"?v=p+Math.max(c,u)+a:i==="right"?v=p+g-Math.max(d,h)-a:v=this.caretX,s==="top"?(y=f,w=y-a,b=v-a,x=v+a):(y=f+m,w=y+a,b=v+a,x=v-a),S=y),{x1:b,x2:v,x3:x,y1:y,y2:w,y3:S}}drawTitle(e,n,r){const i=this.title,s=i.length;let a,o,c;if(s){const d=Qt(r.rtl,this.x,this.width);for(e.x=Ar(this,r.titleAlign,r),n.textAlign=d.textAlign(r.titleAlign),n.textBaseline="middle",a=je(r.titleFont),o=r.titleSpacing,n.fillStyle=r.titleColor,n.font=a.string,c=0;c<s;++c)n.fillText(i[c],d.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o,c+1===s&&(e.y+=r.titleMarginBottom-o)}}_drawColorBox(e,n,r,i,s){const a=this.labelColors[r],o=this.labelPointStyles[r],{boxHeight:c,boxWidth:d}=s,u=je(s.bodyFont),h=Ar(this,"left",s),p=i.x(h),f=c<u.lineHeight?(u.lineHeight-c)/2:0,g=n.y+f;if(s.usePointStyle){const m={radius:Math.min(d,c)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},b=i.leftForLtr(p,d)+d/2,v=g+c/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,al(e,m,b,v),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,al(e,m,b,v)}else{e.lineWidth=Z(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const m=i.leftForLtr(p,d),b=i.leftForLtr(i.xPlus(p,1),d-2),v=Gt(a.borderRadius);Object.values(v).some(x=>x!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,si(e,{x:m,y:g,w:d,h:c,radius:v}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),si(e,{x:b,y:g+1,w:d-2,h:c-2,radius:v}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(m,g,d,c),e.strokeRect(m,g,d,c),e.fillStyle=a.backgroundColor,e.fillRect(b,g+1,d-2,c-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:a,displayColors:o,boxHeight:c,boxWidth:d,boxPadding:u}=r,h=je(r.bodyFont);let p=h.lineHeight,f=0;const g=Qt(r.rtl,this.x,this.width),m=function(I){n.fillText(I,g.x(e.x+f),e.y+p/2),e.y+=p+s},b=g.textAlign(a);let v,x,y,w,S,C,N;for(n.textAlign=a,n.textBaseline="middle",n.font=h.string,e.x=Ar(this,b,r),n.fillStyle=r.bodyColor,re(this.beforeBody,m),f=o&&b!=="right"?a==="center"?d/2+u:d+2+u:0,w=0,C=i.length;w<C;++w){for(v=i[w],x=this.labelTextColors[w],n.fillStyle=x,re(v.before,m),y=v.lines,o&&y.length&&(this._drawColorBox(n,e,w,g,r),p=Math.max(h.lineHeight,c)),S=0,N=y.length;S<N;++S)m(y[S]),p=h.lineHeight;re(v.after,m)}f=0,p=h.lineHeight,re(this.afterBody,m),e.y-=s}drawFooter(e,n,r){const i=this.footer,s=i.length;let a,o;if(s){const c=Qt(r.rtl,this.x,this.width);for(e.x=Ar(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=c.textAlign(r.footerAlign),n.textBaseline="middle",a=je(r.footerFont),n.fillStyle=r.footerColor,n.font=a.string,o=0;o<s;++o)n.fillText(i[o],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,n,r,i){const{xAlign:s,yAlign:a}=this,{x:o,y:c}=e,{width:d,height:u}=r,{topLeft:h,topRight:p,bottomLeft:f,bottomRight:g}=Gt(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(o+h,c),a==="top"&&this.drawCaret(e,n,r,i),n.lineTo(o+d-p,c),n.quadraticCurveTo(o+d,c,o+d,c+p),a==="center"&&s==="right"&&this.drawCaret(e,n,r,i),n.lineTo(o+d,c+u-g),n.quadraticCurveTo(o+d,c+u,o+d-g,c+u),a==="bottom"&&this.drawCaret(e,n,r,i),n.lineTo(o+f,c+u),n.quadraticCurveTo(o,c+u,o,c+u-f),a==="center"&&s==="left"&&this.drawCaret(e,n,r,i),n.lineTo(o,c+h),n.quadraticCurveTo(o,c,o+h,c),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const a=Nn[e.position].call(this,this._active,this._eventPosition);if(!a)return;const o=this._size=Hl(this,e),c=Object.assign({},a,this._size),d=Vl(n,e,c),u=Ul(e,c,d,n);(i._to!==u.x||s._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=Ue(n.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&o&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,n),xu(e,n.textDirection),s.y+=a.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),vu(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,i=e.map(({datasetIndex:o,index:c})=>{const d=this.chart.getDatasetMeta(o);if(!d)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:d.data[c],index:c}}),s=!ei(r,i),a=this._positionChanged(i,n);(s||a)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],a=this._getActiveElements(e,s,n,r),o=this._positionChanged(a,e),c=n||!ei(a,s)||o;return c&&(this._active=a,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),c}_getActiveElements(e,n,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&a.reverse(),a}_positionChanged(e,n){const{caretX:r,caretY:i,options:s}=this,a=Nn[s.position].call(this,e,n);return a!==!1&&(r!==a.x||i!==a.y)}}W(Ds,"positioners",Nn);var Gy={id:"tooltip",_element:Ds,positioners:Nn,afterInit(t,e,n){n&&(t.tooltip=new Ds({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:ku},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Qy=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function Yy(t,e,n,r){const i=t.indexOf(e);if(i===-1)return Qy(t,e,n,r);const s=t.lastIndexOf(e);return i!==s?n:i}const Ky=(t,e)=>t===null?null:_e(Math.round(t),0,e);function ql(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Es extends cn{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(ie(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:Yy(r,e,ee(n,e),this._addedLabels),Ky(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=e;a<=n;a++)i.push({value:a});return i}getLabelForValue(e){return ql.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}W(Es,"id","category"),W(Es,"defaults",{ticks:{callback:ql}});function Xy(t,e){const n=[],{bounds:i,step:s,min:a,max:o,precision:c,count:d,maxTicks:u,maxDigits:h,includeBounds:p}=t,f=s||1,g=u-1,{min:m,max:b}=e,v=!ie(a),x=!ie(o),y=!ie(d),w=(b-m)/(h+1);let S=Xo((b-m)/g/f)*f,C,N,I,E;if(S<1e-14&&!v&&!x)return[{value:m},{value:b}];E=Math.ceil(b/S)-Math.floor(m/S),E>g&&(S=Xo(E*S/g/f)*f),ie(c)||(C=Math.pow(10,c),S=Math.ceil(S*C)/C),i==="ticks"?(N=Math.floor(m/S)*S,I=Math.ceil(b/S)*S):(N=m,I=b),v&&x&&s&&Kv((o-a)/s,S/1e3)?(E=Math.round(Math.min((o-a)/S,u)),S=(o-a)/E,N=a,I=o):y?(N=v?a:N,I=x?o:I,E=d-1,S=(I-N)/E):(E=(I-N)/S,Or(E,Math.round(E),S/1e3)?E=Math.round(E):E=Math.ceil(E));const D=Math.max(Zo(S),Zo(N));C=Math.pow(10,ie(c)?D:c),N=Math.round(N*C)/C,I=Math.round(I*C)/C;let A=0;for(v&&(p&&N!==a?(n.push({value:a}),N<a&&A++,Or(Math.round((N+A*S)*C)/C,a,Gl(a,w,t))&&A++):N<a&&A++);A<E;++A){const _=Math.round((N+A*S)*C)/C;if(x&&_>o)break;n.push({value:_})}return x&&p&&I!==o?n.length&&Or(n[n.length-1].value,o,Gl(o,w,t))?n[n.length-1].value=o:n.push({value:o}):(!x||I===o)&&n.push({value:I}),n}function Gl(t,e,{horizontal:n,minRotation:r}){const i=tt(r),s=(n?Math.sin(i):Math.cos(i))||.001,a=.75*e*(""+t).length;return Math.min(e/s,a)}class Zy extends cn{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return ie(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const a=c=>i=n?i:c,o=c=>s=r?s:c;if(e){const c=ft(i),d=ft(s);c<0&&d<0?o(0):c>0&&d>0&&a(0)}if(i===s){let c=s===0?1:Math.abs(s*.05);o(s+c),e||a(i-c)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,a=Xy(i,s);return e.bounds==="ticks"&&Xv(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-n)/Math.max(e.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return ha(e,this.chart.options.locale,this.options.ticks.format)}}class Is extends Zy{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Ve(e)?e:0,this.max=Ve(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=tt(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}W(Is,"id","linear"),W(Is,"defaults",{ticks:{callback:cu.formatters.numeric}});const Ei={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ae=Object.keys(Ei);function Ql(t,e){return t-e}function Yl(t,e){if(ie(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:s}=t._parseOpts;let a=e;return typeof r=="function"&&(a=r(a)),Ve(a)||(a=typeof r=="string"?n.parse(a,r):n.parse(a)),a===null?null:(i&&(a=i==="week"&&(ri(s)||s===!0)?n.startOf(a,"isoWeek",s):n.startOf(a,i)),+a)}function Kl(t,e,n,r){const i=Ae.length;for(let s=Ae.indexOf(t);s<i-1;++s){const a=Ei[Ae[s]],o=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-e)/(o*a.size))<=r)return Ae[s]}return Ae[i-1]}function Jy(t,e,n,r,i){for(let s=Ae.length-1;s>=Ae.indexOf(n);s--){const a=Ae[s];if(Ei[a].common&&t._adapter.diff(i,r,a)>=e-1)return a}return Ae[n?Ae.indexOf(n):0]}function e4(t){for(let e=Ae.indexOf(t)+1,n=Ae.length;e<n;++e)if(Ei[Ae[e]].common)return Ae[e]}function Xl(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:i}=da(n,e),s=n[r]>=e?n[r]:n[i];t[s]=!0}}function t4(t,e,n,r){const i=t._adapter,s=+i.startOf(e[0].value,r),a=e[e.length-1].value;let o,c;for(o=s;o<=a;o=+i.add(o,1,r))c=n[o],c>=0&&(e[c].major=!0);return e}function Zl(t,e,n){const r=[],i={},s=e.length;let a,o;for(a=0;a<s;++a)o=e[a],i[o]=a,r.push({value:o,major:!1});return s===0||!n?r:t4(t,r,i,n)}class ci extends cn{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),i=this._adapter=new hb._date(e.adapters.date);i.init(n),_n(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Yl(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:a,maxDefined:o}=this.getUserBounds();function c(d){!a&&!isNaN(d.min)&&(i=Math.min(i,d.min)),!o&&!isNaN(d.max)&&(s=Math.max(s,d.max))}(!a||!o)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),i=Ve(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=Ve(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,a=this.max,o=n1(i,s,a);return this._unit=n.unit||(r.autoSkip?Kl(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):Jy(this,o.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:e4(this._unit),this.initOffsets(i),e.reverse&&o.reverse(),Zl(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;n=_e(n,0,a),r=_e(r,0,a),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,a=s.unit||Kl(s.minUnit,n,r,this._getLabelCapacity(n)),o=ee(i.ticks.stepSize,1),c=a==="week"?s.isoWeekday:!1,d=ri(c)||c===!0,u={};let h=n,p,f;if(d&&(h=+e.startOf(h,"isoWeek",c)),h=+e.startOf(h,d?"day":a),e.diff(r,n,a)>1e5*o)throw new Error(n+" and "+r+" are too far apart with stepSize of "+o+" "+a);const g=i.ticks.source==="data"&&this.getDataTimestamps();for(p=h,f=0;p<r;p=+e.add(p,o,a),f++)Xl(u,p,g);return(p===r||i.bounds==="ticks"||f===1)&&Xl(u,p,g),Object.keys(u).sort(Ql).map(m=>+m)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,s=this._unit,a=n||i[s];return this._adapter.format(e,a)}_tickFormatFunction(e,n,r,i){const s=this.options,a=s.ticks.callback;if(a)return ae(a,[e,n,r],this);const o=s.time.displayFormats,c=this._unit,d=this._majorUnit,u=c&&o[c],h=d&&o[d],p=r[n],f=d&&h&&p&&p.major;return this._adapter.format(e,i||(f?h:u))}generateTickLabels(e){let n,r,i;for(n=0,r=e.length;n<r;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,i=tt(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),a=Math.sin(i),o=this._resolveTickFontOptions(0).size;return{w:r*s+o*a,h:r*a+o*s}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(e,0,Zl(this,[e],this._majorUnit),i),a=this._getLabelSize(s),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)e.push(Yl(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return iu(e.sort(Ql))}}W(ci,"id","time"),W(ci,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function _r(t,e,n){let r=0,i=t.length-1,s,a,o,c;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=ws(t,"pos",e)),{pos:s,time:o}=t[r],{pos:a,time:c}=t[i]):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=ws(t,"time",e)),{time:s,pos:o}=t[r],{time:a,pos:c}=t[i]);const d=a-s;return d?o+(c-o)*(e-s)/d:o}class Jl extends ci{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=_r(n,this.min),this._tableRange=_r(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,i=[],s=[];let a,o,c,d,u;for(a=0,o=e.length;a<o;++a)d=e[a],d>=n&&d<=r&&i.push(d);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(a=0,o=i.length;a<o;++a)u=i[a+1],c=i[a-1],d=i[a],Math.round((u+c)/2)!==d&&s.push({time:d,pos:a/(o-1)});return s}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(_r(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return _r(this._table,r*this._tableRange+this._minPos,!0)}}W(Jl,"id","timeseries"),W(Jl,"defaults",ci.defaults);const Ou="label";function ec(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function n4(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function Ru(t,e){t.labels=e}function Lu(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ou;const r=[];t.datasets=e.map(i=>{const s=t.datasets.find(a=>a[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function r4(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ou;const n={labels:[],datasets:[]};return Ru(n,t.labels),Lu(n,t.datasets,e),n}function i4(t,e){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:a,data:o,options:c,plugins:d=[],fallbackContent:u,updateMode:h,...p}=t,f=j.useRef(null),g=j.useRef(null),m=()=>{f.current&&(g.current=new Di(f.current,{type:a,data:r4(o,s),options:c&&{...c},plugins:d}),ec(e,g.current))},b=()=>{ec(e,null),g.current&&(g.current.destroy(),g.current=null)};return j.useEffect(()=>{!i&&g.current&&c&&n4(g.current,c)},[i,c]),j.useEffect(()=>{!i&&g.current&&Ru(g.current.config.data,o.labels)},[i,o.labels]),j.useEffect(()=>{!i&&g.current&&o.datasets&&Lu(g.current.config.data,o.datasets,s)},[i,o.datasets]),j.useEffect(()=>{g.current&&(i?(b(),setTimeout(m)):g.current.update(h))},[i,c,o.labels,o.datasets,h]),j.useEffect(()=>{g.current&&(b(),setTimeout(m))},[a]),j.useEffect(()=>(m(),()=>b()),[]),U.createElement("canvas",{ref:f,role:"img",height:n,width:r,...p},u)}const s4=j.forwardRef(i4);function ja(t,e){return Di.register(e),j.forwardRef((n,r)=>U.createElement(s4,{...n,ref:r,type:t}))}const a4=ja("bar",Rr),o4=ja("doughnut",Wt),l4=ja("pie",Ss);Di.register(Es,Is,Br,By,Gy,Ly,Cn);const c4=()=>{const[t,e]=j.useState("weekly"),{data:n=[]}=uv(),{data:r=[]}=hv(),{data:i=[]}=fv(t),{data:s=[]}=pv(),{data:a=[]}=gv(),{data:o=[]}=mv(),{data:c}=xv();console.log(c);const d=(v,x=2)=>{if(v===0)return"0 GB";const y=1024,w=x<0?0:x,S=["Bytes","KB","MB","GB","TB"],C=Math.floor(Math.log(v)/Math.log(y));return parseFloat((v/Math.pow(y,C)).toFixed(w))+" "+S[C]},h=(()=>{const v=new Date;let x=[];if(t==="weekly"){const y=new Date(v);y.setDate(v.getDate()-v.getDay()),y.setHours(0,0,0,0);const w=new Date(y);w.setDate(y.getDate()+6),w.setHours(23,59,59,999),x=i.filter(S=>{const C=new Date(S._id);return C>=y&&C<=w})}else if(t==="monthly"){const y=new Date(v.getFullYear(),v.getMonth(),1),w=new Date(v.getFullYear(),v.getMonth()+1,0,23,59,59,999);x=i.filter(S=>{const C=new Date(S._id);return C>=y&&C<=w})}return x})(),p=v=>{const x=new Date(v),y=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],w=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return t==="weekly"?`${y[x.getDay()]}, ${w[x.getMonth()]} ${x.getDate()}`:`${w[x.getMonth()]} ${x.getDate()}, ${x.getFullYear()}`},f={labels:h.map(v=>p(v._id)),datasets:[{label:"Downloads",data:h.map(v=>v.count),backgroundColor:"rgba(53, 162, 235, 0.5)"}]},g={labels:s.map(v=>v.categoryName),datasets:[{data:s.map(v=>v.totalDownloads),backgroundColor:["rgba(255, 99, 132, 0.5)","rgba(54, 162, 235, 0.5)","rgba(255, 206, 86, 0.5)","rgba(75, 192, 192, 0.5)","rgba(153, 102, 255, 0.5)"]}]},m={labels:["Used","Free"],datasets:[{data:[1,99],backgroundColor:["#C95C34","#E8E8E8"],borderWidth:0,circumference:180,rotation:270,weight:(c==null?void 0:c.percentage)||0}]},b={cutout:"75%",plugins:{legend:{display:!1},tooltip:{enabled:!1}},maintainAspectRatio:!1,events:[]};return l.jsxs("div",{className:"flex h-screen overflow-hidden font-poppins",children:[l.jsx(ye,{activeLink:"Dashboard"}),l.jsxs("main",{className:"flex-grow bg-gray-100 py-6 px-4 sm:px-12 overflow-y-auto",children:[l.jsx(Ce,{plus:!0}),l.jsxs("div",{className:"space-y-6 mt-6",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Report Dashboard"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-800",children:"Recent Downloaded Files"}),l.jsx("div",{className:"space-y-3",children:n.map(v=>l.jsxs(Y,{to:`/viewfile/${v._id}`,className:"block hover:bg-gray-50 p-3 rounded transition duration-150",children:[l.jsx("div",{className:"font-medium text-gray-800",children:v.name}),l.jsxs("div",{className:"text-sm text-gray-500",children:["Downloaded: ",new Date(v.lastDownloadedAt).toLocaleDateString()]})]},v._id))})]}),l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-800",children:"Recently Active Users"}),l.jsx("div",{className:"space-y-3",children:r.map(v=>l.jsxs("div",{className:"p-3 hover:bg-gray-50 rounded transition duration-150",children:[l.jsx("div",{className:"font-medium text-gray-800",children:v.username}),l.jsxs("div",{className:"text-sm text-gray-500",children:["Last active: ",new Date(v.lastActiveAt).toLocaleString()]})]},v._id))})]})]}),l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 space-y-4 sm:space-y-0",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Downloaded Files"}),l.jsxs("div",{className:"w-full sm:w-auto flex justify-start sm:justify-end space-x-2",children:[l.jsx("button",{className:`flex-1 sm:flex-none px-4 py-2 rounded transition duration-150 ${t==="weekly"?"bg-[#C95C34] hover:bg-[#f85519] text-white":"bg-gray-200 hover:bg-gray-300"}`,onClick:()=>e("weekly"),children:"Weekly"}),l.jsx("button",{className:`flex-1 sm:flex-none px-4 py-2 rounded transition duration-150 ${t==="monthly"?"bg-[#C95C34] hover:bg-[#f85519] text-white":"bg-gray-200 hover:bg-gray-300"}`,onClick:()=>e("monthly"),children:"Monthly"})]})]}),l.jsx("div",{className:"h-[300px]",children:l.jsx(a4,{data:f,options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,ticks:{stepSize:1}}}}})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-800",children:"Downloads by Category"}),l.jsx("div",{className:"h-[300px]",children:l.jsx(l4,{data:g,options:{maintainAspectRatio:!1}})})]}),l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-800",children:"Top 10 Downloaded Files"}),l.jsx("div",{className:"space-y-3 h-[300px] overflow-y-auto pr-2 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",children:a.map(v=>l.jsxs(Y,{to:`/viewfile/${v._id}`,className:"block hover:bg-gray-50 p-3 rounded transition duration-150",children:[l.jsx("div",{className:"font-medium text-gray-800",children:v.name}),l.jsxs("div",{className:"text-sm text-gray-500",children:["Downloads: ",v.downloadCount," times"]})]},v._id))})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-800",children:"Recently Uploaded Files"}),l.jsx("div",{className:"h-[380px] overflow-y-auto pr-2 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",children:l.jsx("div",{className:"grid grid-cols-1 gap-3",children:o.map(v=>l.jsxs(Y,{to:`/viewfile/${v._id}`,className:"block hover:bg-gray-50 p-3 rounded transition duration-150",children:[l.jsx("div",{className:"font-medium text-gray-800",children:v.name}),l.jsxs("div",{className:"text-sm text-gray-500",children:["Uploaded by: ",v.user.username,l.jsx("br",{}),"Date: ",new Date(v.createdAt).toLocaleDateString()]})]},v._id))})})]}),l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-800",children:"Storage Space Used"}),l.jsxs("div",{className:"flex flex-col space-y-6",children:[l.jsxs("div",{className:"relative h-48",children:[l.jsx(o4,{data:m,options:b}),l.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 text-center",children:[l.jsxs("div",{className:"text-3xl font-bold text-[#C95C34]",children:[((c==null?void 0:c.percentage)||0).toFixed(2),"%"]}),l.jsx("div",{className:"text-sm text-gray-500",children:"Used"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 bg-gray-50 rounded-lg p-4",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Used Space"}),l.jsxs("div",{className:"mt-1 text-lg font-semibold text-[#C95C34]",children:[d((c==null?void 0:c.used)||0),l.jsxs("span",{className:"text-sm text-gray-500 ml-1",children:["(",((c==null?void 0:c.percentage)||0).toFixed(4),"%)"]})]})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Free Space"}),l.jsx("div",{className:"mt-1 text-lg font-semibold text-green-600",children:d((c==null?void 0:c.remaining)||0)})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Total Space"}),l.jsx("div",{className:"mt-1 text-lg font-semibold text-gray-900",children:d((c==null?void 0:c.total)||0)})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Deleted Items"}),l.jsx("div",{className:"mt-1 text-lg font-semibold text-gray-600",children:d((c==null?void 0:c.deleted)||0)})]})]})]})]})]})]})]})]})},d4=Yn.injectEndpoints({endpoints:t=>({sendSupportRequest:t.mutation({query:e=>({url:"/api/support",method:"POST",body:e})})})}),{useSendSupportRequestMutation:u4}=d4,h4=()=>{const[t,e]=j.useState({name:"",email:"",subject:"",message:""}),[n,r]=j.useState(!1),[i,{isLoading:s}]=u4(),a=d=>{const{name:u,value:h}=d.target;e(p=>({...p,[u]:h}))},o=async d=>{var u;if(d.preventDefault(),r(!0),!t.name||!t.email||!t.subject||!t.message){T.error("Please fill in all fields"),r(!1);return}try{const h=await i(t).unwrap();T.success("Your support request has been submitted successfully!"),e({name:"",email:"",subject:"",message:""})}catch(h){T.error(((u=h==null?void 0:h.data)==null?void 0:u.message)||"Failed to submit support request. Please try again."),console.error("Support request error:",h)}finally{r(!1)}},c="w-full px-4 py-3 border rounded-[8px] focus:outline-none focus:ring-2 focus:ring-[#C95C34] bg-gray-100 text-gray-800 shadow-sm transition duration-200";return l.jsxs("div",{className:"flex h-screen bg-gray-100 font-poppins",children:[l.jsx(ye,{activeLink:"Support"}),l.jsxs("main",{className:"flex-grow bg-gray-100 py-6 px-4 sm:px-12 overflow-y-auto",children:[l.jsx(Ce,{plus:!1,filter:!1}),l.jsx("h3",{className:"text-[20px] sm:text-[24px] font-semibold font-bitter mt-8 mb-4",children:"SUPPORT"}),l.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h2",{className:"text-2xl font-semibold text-gray-800 font-bitter mb-4",children:"How Can We Help You?"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Welcome to the Resource Portal support page. Our team is here to assist you with any questions or issues you may encounter while using our platform."}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Please fill out the form below with details about your inquiry, and our support team will get back to you as soon as possible."})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[l.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg text-center",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx(Ah,{className:"text-3xl text-[#C95C34]"})}),l.jsx("h3",{className:"font-semibold mb-2",children:"Email Support"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"dev@serendipityint.co.uk"}),l.jsx("p",{className:"text-gray-500 text-xs mt-2",children:"Response within 24 hours"})]}),l.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg text-center",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx(Ph,{className:"text-3xl text-[#C95C34]"})}),l.jsx("h3",{className:"font-semibold mb-2",children:"Phone Support"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"+1 (555) 123-4567"}),l.jsx("p",{className:"text-gray-500 text-xs mt-2",children:"Mon-Fri, 9am-5pm EST"})]})]}),l.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[l.jsxs("h3",{className:"text-xl font-semibold mb-6 flex items-center",children:[l.jsx(xc,{className:"mr-2 text-[#C95C34]"}),"Contact Support"]}),l.jsxs("form",{onSubmit:o,children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),l.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:a,className:c,placeholder:"Your name"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),l.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:a,className:c,placeholder:"Your email address"})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),l.jsx("input",{type:"text",id:"subject",name:"subject",value:t.subject,onChange:a,className:c,placeholder:"Brief description of your issue"})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),l.jsx("textarea",{id:"message",name:"message",value:t.message,onChange:a,rows:"5",className:c,placeholder:"Please provide details about your issue or question"})]}),l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{type:"submit",disabled:n,className:"px-6 py-3 bg-[#C95C34] text-white rounded-lg hover:bg-[#f85519] transition-colors flex items-center justify-center",children:n?l.jsxs(l.Fragment,{children:[l.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting..."]}):"Submit Request"})})]})]})]})})]})]})},f4=()=>{const[t,e]=j.useState(()=>{const i=localStorage.getItem("userInfo");if(i){const s=JSON.parse(i);return!!(s!=null&&s._id)}return!1}),[n,r]=j.useState(()=>{const i=localStorage.getItem("userInfo");if(i){const s=JSON.parse(i);return!!(s!=null&&s.isAdmin)}return!1});return j.useEffect(()=>{const i=new Event("authChange"),s=localStorage.removeItem;localStorage.removeItem=function(c){const d=s.apply(this,arguments);return c==="userInfo"&&window.dispatchEvent(i),d};const a=localStorage.setItem;localStorage.setItem=function(c,d){const u=a.apply(this,arguments);return c==="userInfo"&&window.dispatchEvent(i),u};const o=()=>{const c=sessionStorage.getItem("justLoggedOut")==="true",d=localStorage.getItem("userInfo");if(d&&!c){const u=JSON.parse(d);e(!!(u!=null&&u._id)),r(!!(u!=null&&u.isAdmin))}else c&&sessionStorage.removeItem("justLoggedOut"),e(!1),r(!1)};return window.addEventListener("authChange",o),window.addEventListener("storage",o),()=>{window.removeEventListener("authChange",o),window.removeEventListener("storage",o),localStorage.removeItem=s,localStorage.setItem=a}},[]),l.jsxs($u,{children:[l.jsxs(Wu,{children:[l.jsx(le,{path:"/",element:t?l.jsx(ue,{to:"/filebrowse"}):l.jsx(ue,{to:"/login"})}),l.jsx(le,{path:"/login",element:t?l.jsx(ue,{to:"/filebrowse"}):l.jsx(sp,{})}),l.jsx(le,{path:"/link",element:l.jsx(fg,{})}),l.jsx(le,{path:"/forget-password",element:l.jsx(xg,{})}),l.jsx(le,{path:"/reset-password/:token",element:l.jsx(vg,{})}),l.jsx(le,{path:"/filebrowse",element:t?l.jsx(Qp,{}):l.jsx(ue,{to:"/"})}),l.jsx(le,{path:"/allfiles",element:t?l.jsx(Kp,{}):l.jsx(ue,{to:"/"})}),l.jsx(le,{path:"/shared",element:t?l.jsx(Zp,{}):l.jsx(ue,{to:"/"})}),l.jsx(le,{path:"/addfile",element:t?l.jsx(tg,{}):l.jsx(ue,{to:"/"})}),l.jsx(le,{path:"/viewfile/:id",element:t?l.jsx(ag,{}):l.jsx(ue,{to:"/"})}),l.jsx(le,{path:"/info",element:t?l.jsx(dg,{}):l.jsx(ue,{to:"/"})}),l.jsx(le,{path:"/delete",element:t?l.jsx(ug,{}):l.jsx(ue,{to:"/"})}),l.jsx(le,{path:"/category/:id",element:t?l.jsx(gg,{}):l.jsx(ue,{to:"/"})}),l.jsx(le,{path:"/favourites",element:t?l.jsx(ov,{}):l.jsx(ue,{to:"/"})}),l.jsx(le,{path:"/support",element:t?l.jsx(h4,{}):l.jsx(ue,{to:"/"})}),l.jsx(le,{path:"/register",element:t&&n?l.jsx(cg,{}):l.jsx(ue,{to:"/filebrowse"})}),l.jsx(le,{path:"/edit-user/:id",element:t&&n?l.jsx(sv,{}):l.jsx(ue,{to:"/filebrowse"})}),l.jsx(le,{path:"/view-user/:id",element:t&&n?l.jsx(cv,{}):l.jsx(ue,{to:"/filebrowse"})}),l.jsx(le,{path:"/add-category",element:t&&n?l.jsx(yg,{}):l.jsx(ue,{to:"/filebrowse"})}),l.jsx(le,{path:"/view-category",element:t&&n?l.jsx(nv,{}):l.jsx(ue,{to:"/filebrowse"})}),l.jsx(le,{path:"/dashboard",element:t&&n?l.jsx(c4,{}):l.jsx(ue,{to:"/filebrowse"})}),l.jsx(le,{path:"*",element:l.jsx(ue,{to:t?"/filebrowse":"/",replace:!0})})]}),l.jsx(mh,{})]})},p4={recentFiles:[],filteredFiles:[],categoryFiles:[],loading:!1,error:null},g4=Je({name:"files",initialState:p4,reducers:{setRecentFiles:(t,e)=>{t.recentFiles=e.payload},setFilteredFiles:(t,e)=>{t.filteredFiles=e.payload},setCategoryFiles:(t,e)=>{t.categoryFiles=e.payload},addFile:(t,e)=>{t.recentFiles.find(n=>n._id===e.payload._id)||(t.recentFiles.unshift(e.payload),t.recentFiles.length>10&&t.recentFiles.pop()),t.filteredFiles.find(n=>n._id===e.payload._id)||t.filteredFiles.unshift(e.payload),t.categoryFiles.find(n=>n._id===e.payload._id)||t.categoryFiles.unshift(e.payload)},updateFile:(t,e)=>{const n=r=>{const i=r.findIndex(s=>s._id===e.payload._id);i!==-1&&(r[i]=e.payload)};n(t.recentFiles),n(t.filteredFiles),n(t.categoryFiles)},removeFile:(t,e)=>{t.recentFiles=t.recentFiles.filter(n=>n._id!==e.payload),t.filteredFiles=t.filteredFiles.filter(n=>n._id!==e.payload),t.categoryFiles=t.categoryFiles.filter(n=>n._id!==e.payload)},setLoading:(t,e)=>{t.loading=e.payload},setError:(t,e)=>{t.error=e.payload}}}),m4=g4.reducer,x4=Zu({reducer:{auth:rp,files:m4,fileUpload:qp,[Tr.reducerPath]:Tr.reducer},middleware:t=>t().concat(Tr.middleware)});ss.createRoot(document.getElementById("root")).render(l.jsx(oc,{store:x4,children:l.jsx(f4,{})}));
//# sourceMappingURL=index-DlBK4Fxr.js.map
